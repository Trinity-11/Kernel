
; 64tass Turbo Assembler Macro V1.53.1515 listing file
; 64tass --m65816 --long-address --flat --intel-hex -o kernel.hex --list kernel_hex.lst kernel.asm
; Mon May 06 22:04:15 2019

;Offset	;Hex		;Monitor	;Source

;******  Processing input file: kernel.asm


;******  Processing file: macros_inc.asm


;******  Return to file: kernel.asm


;******  Processing file: simulator_inc.asm


;******  Return to file: kernel.asm


;******  Processing file: page_00_inc.asm

=$000000				BANK0_BEGIN      = $000000 ;Start of bank 0 and Direct page
=$000000				unused_0000      = $000000 ;12 Bytes unused
=$00000c				SCREENBEGIN      = $00000C ;3 Bytes Start of screen in video RAM. This is the upper-left corrner of the current video page being written to. This may not be what's being displayed by VICKY. Update this if you change VICKY's display page.
=$00000f				COLS_VISIBLE     = $00000F ;2 Bytes Columns visible per screen line. A virtual line can be longer than displayed, up to COLS_PER_LINE long. Default = 80
=$000011				COLS_PER_LINE    = $000011 ;2 Bytes Columns in memory per screen line. A virtual line can be this long. Default=128
=$000013				LINES_VISIBLE    = $000013 ;2 Bytes The number of rows visible on the screen. Default=25
=$000015				LINES_MAX        = $000015 ;2 Bytes The number of rows in memory for the screen. Default=64
=$000017				CURSORPOS        = $000017 ;3 Bytes The next character written to the screen will be written in this location.
=$00001a				CURSORX          = $00001A ;2 Bytes This is where the blinking cursor sits. Do not edit this direectly. Call LOCATE to update the location and handle moving the cursor correctly.
=$00001c				CURSORY          = $00001C ;2 Bytes This is where the blinking cursor sits. Do not edit this direectly. Call LOCATE to update the location and handle moving the cursor correctly.
=$00001e				CURCOLOR         = $00001E ;2 Bytes Color of next character to be printed to the screen.
=$000020				CURATTR          = $000020 ;2 Bytes Attribute of next character to be printed to the screen.
=$000022				STACKBOT         = $000022 ;2 Bytes Lowest location the stack should be allowed to write to. If SP falls below this value, the runtime should generate STACK OVERFLOW error and abort.
=$000024				STACKTOP         = $000024 ;2 Bytes Highest location the stack can occupy. If SP goes above this value, the runtime should generate STACK OVERFLOW error and abort.
=$000026				OPL2_OPERATOR    = $000026 ;
=$000027				OPL2_CHANNEL     = $000027 ;
=$000028				OPL2_REG_REGION  = $000028 ; Offset to the Group of Registers
=$00002a				OPL2_REG_OFFSET  = $00002A ; 2 Bytes (16Bits)
=$00002c				OPL2_IND_ADDY_LL = $00002C ; 2 Bytes Reserved (Only need 3)
=$00002e				OPL2_IND_ADDY_HL = $00002E ; 2 Bytes Reserved (Only need 3)
=$000030				OPL2_NOTE        = $000030 ; 1 Byte
=$000031				OPL2_OCTAVE      = $000031 ; 1 Byte
=$000032				OPL2_PARAMETER0  = $000032 ; 1 Byte
=$000033				OPL2_PARAMETER1  = $000033 ; 1 Byte
=$000034				OPL2_PARAMETER2  = $000034 ; 1 Byte
=$000035				OPL2_PARAMETER3  = $000035 ; 1 Byte
=$000036				OPL2_LOOP        = $000036 ;
=$000038				SDCARD_FILE_PTR  = $000038 ; 3 Bytes Pointer to Filename to open
=$00003c				SDCARD_BYTE_NUM  = $00003C ; 2Bytes
=$00003f				SDCARD_PRSNT_MNT = $00003F ; 1 Byte, Indicate that the SDCard is Present and that it is Mounted
=$000040				CMD_PARSER_TMPX  = $000040 ; <<< Command Parser 2Bytes
=$000042				CMD_PARSER_TMPY  = $000042 ; <<< Command Parser 2Bytes
=$000044				CMD_LIST_PTR     = $000044 ; <<< Command Parser 3 Bytes
=$000048				CMD_PARSER_PTR   = $000048 ; <<< Command Parser 3 Bytes
=$00004b				CMD_ATTRIBUTE    = $00004B ; <<< Command Parser 2 Bytes (16bits Attribute Field)
=$00004d				CMD_EXEC_ADDY    = $00004D ; <<< Command Parser 3 Bytes 24 Bits Address Jump to execute the Command
=$000050				KEY_BUFFER_RPOS  = $000050 ;
=$000052				KEY_BUFFER_WPOS  = $000052 ;
=$000054				CMD_VARIABLE_TMP = $000054 ;
=$000056				CMD_ARG_DEV      = $000056 ;
=$000057				CMD_ARG_SA       = $000057 ;
=$00005a				CMD_ARG_EA       = $00005A ;
=$00005d				CMD_VALID        = $00005D ;
=$000040				BM_CLEAR_SCRN_X  = $000040
=$000042				BM_CLEAR_SCRN_Y  = $000042
=$000040				BMP_X_SIZE       = $000040 ; 2 Bytes
=$000042				BMP_Y_SIZE       = $000042 ; 2 Bytes
=$000044				BMP_PRSE_SRC_PTR = $000044 ; 3 Bytes
=$000048				BMP_PRSE_DST_PTR = $000048 ; 3 Bytes
=$00004c				BMP_COLOR_PALET  = $00004C ; 2 Bytes
=$00004e				SCRN_X_STRIDE    = $00004E ; 2 Bytes, Basically How many Pixel Accross in Bitmap Mode
=$000050				BMP_FILE_SIZE    = $000050 ; 4 Bytes
=$000054				BMP_POSITION_X   = $000054 ; 2 Bytes Where, the BMP will be position on the X Axis
=$000056				BMP_POSITION_Y   = $000056 ; 2 Bytes Where, the BMP will be position on the Y Axis
=$000058				BMP_PALET_CHOICE = $000058 ;
=$0000e0				MOUSE_PTR        = $0000E0
=$0000f0				USER_TEMP        = $0000F0 ;32 Bytes Temp space for user programs
=$000100				GAVIN_BLOCK      = $000100 ;256 Bytes Gavin reserved, overlaps debugging registers at $1F0
=$000100				MULTIPLIER_0     = $000100 ;0 Byte  Unsigned multiplier
=$000100				M0_OPERAND_A     = $000100 ;2 Bytes Operand A (ie: A x B)
=$000102				M0_OPERAND_B     = $000102 ;2 Bytes Operand B (ie: A x B)
=$000104				M0_RESULT        = $000104 ;4 Bytes Result of A x B
=$000108				MULTIPLIER_1     = $000108 ;0 Byte  Signed Multiplier
=$000108				M1_OPERAND_A     = $000108 ;2 Bytes Operand A (ie: A x B)
=$00010a				M1_OPERAND_B     = $00010A ;2 Bytes Operand B (ie: A x B)
=$00010c				M1_RESULT        = $00010C ;4 Bytes Result of A x B
=$000108				DIVIDER_0        = $000108 ;0 Byte  Unsigned divider
=$000108				D0_OPERAND_A     = $000108 ;2 Bytes Divider 0 Dividend ex: A in  A/B
=$00010a				D0_OPERAND_B     = $00010A ;2 Bytes Divider 0 Divisor ex B in A/B
=$00010c				D0_RESULT        = $00010C ;2 Bytes Quotient result of A/B ex: 7/2 = 3 r 1
=$00010e				D0_REMAINDER     = $00010E ;2 Bytes Remainder of A/B ex: 1 in 7/2=3 r 1
=$000110				DIVIDER_1        = $000110 ;0 Byte  Signed divider
=$000110				D1_OPERAND_A     = $000110 ;2 Bytes Divider 1 Dividend ex: A in  A/B
=$000112				D1_OPERAND_B     = $000112 ;2 Bytes Divider 1 Divisor ex B in A/B
=$000114				D1_RESULT        = $000114 ;2 Bytes Signed quotient result of A/B ex: 7/2 = 3 r 1
=$000116				D1_REMAINDER     = $000116 ;2 Bytes Signed remainder of A/B ex: 1 in 7/2=3 r 1
=$000120				ADDER_SIGNED_32  = $000120 ; The 32 Bit Adders takes 12Byte that are NOT RAM Location
=$000140				INT_CONTROLLER   = $000140 ; $000140...$00015F Interrupt Controller
=$000160				TIMER_CONTROLLER = $000160 ; $000160...$00017F Timer0/Timer1/Timer2 Block
=$000160				TIMER_CTRL_REGLL = $000160 ;
=$000161				TIMER_CTRL_REGLH = $000161 ;
=$000162				TIMER_CTRL_REGHL = $000162 ;
=$000163				TIMER_CTRL_REGHH = $000163 ;
=$000240				CPU_REGISTERS    = $000240 ; Byte
=$000240				CPUPC            = $000240 ;2 Bytes Program Counter (PC)
=$000242				CPUPBR           = $000242 ;2 Bytes Program Bank Register (K)
=$000244				CPUA             = $000244 ;2 Bytes Accumulator (A)
=$000246				CPUX             = $000246 ;2 Bytes X Register (X)
=$000248				CPUY             = $000248 ;2 Bytes Y Register (Y)
=$00024a				CPUSTACK         = $00024A ;2 Bytes Stack Pointer (S)
=$00024c				CPUDP            = $00024C ;2 Bytes Direct Page Register (D)
=$00024e				CPUDBR           = $00024E ;1 Byte  Data Bank Register (B)
=$00024f				CPUFLAGS         = $00024F ;1 Byte  Flags (P)
=$000250				MONITOR_VARS     = $000250 ; Byte  MONITOR Variables. BASIC variables may overlap this space
=$000250				MCMDADDR         = $000250 ;3 Bytes Address of the current line of text being processed by the command parser. Can be in display memory or a variable in memory. MONITOR will parse up to MTEXTLEN characters or to a null character.
=$000253				MCMP_TEXT        = $000253 ;3 Bytes Address of symbol being evaluated for COMPARE routine
=$000256				MCMP_LEN         = $000256 ;2 Bytes Length of symbol being evaluated for COMPARE routine
=$000258				MCMD             = $000258 ;3 Bytes Address of the current command/function string
=$00025b				MCMD_LEN         = $00025B ;2 Bytes Length of the current command/function string
=$00025d				MARG1            = $00025D ;4 Bytes First command argument. May be data or address, depending on command
=$000261				MARG2            = $000261 ;4 Bytes First command argument. May be data or address, depending on command. Data is 32-bit number. Address is 24-bit address and 8-bit length.
=$000265				MARG3            = $000265 ;4 Bytes First command argument. May be data or address, depending on command. Data is 32-bit number. Address is 24-bit address and 8-bit length.
=$000269				MARG4            = $000269 ;4 Bytes First command argument. May be data or address, depending on command. Data is 32-bit number. Address is 24-bit address and 8-bit length.
=$00026d				MARG5            = $00026D ;4 Bytes First command argument. May be data or address, depending on command. Data is 32-bit number. Address is 24-bit address and 8-bit length.
=$000271				MARG6            = $000271 ;4 Bytes First command argument. May be data or address, depending on command. Data is 32-bit number. Address is 24-bit address and 8-bit length.
=$000275				MARG7            = $000275 ;4 Bytes First command argument. May be data or address, depending on command. Data is 32-bit number. Address is 24-bit address and 8-bit length.
=$000279				MARG8            = $000279 ;4 Bytes First command argument. May be data or address, depending on command. Data is 32-bit number. Address is 24-bit address and 8-bit length.
=$000300				LOADFILE_VARS    = $000300 ; Byte
=$000300				LOADFILE_NAME    = $000300 ;3 Bytes (addr) Name of file to load. Address in Data Page
=$000303				LOADFILE_LEN     = $000303 ;1 Byte  Length of filename. 0=Null Terminated
=$000304				LOADPBR          = $000304 ;1 Byte  First Program Bank of loaded file ($05 segment)
=$000305				LOADPC           = $000305 ;2 Bytes Start address of loaded file ($05 segment)
=$000307				LOADDBR          = $000307 ;1 Byte  First data bank of loaded file ($06 segment)
=$000308				LOADADDR         = $000308 ;2 Bytes FIrst data address of loaded file ($06 segment)
=$00030a				LOADFILE_TYPE    = $00030A ;3 Bytes (addr) File type string in loaded data file. Actual string data will be in Bank 1. Valid values are BIN, PRG, P16
=$00030d				BLOCK_LEN        = $00030D ;2 Bytes Length of block being loaded
=$00030f				BLOCK_ADDR       = $00030F ;2 Bytes (temp) Address of block being loaded
=$000311				BLOCK_BANK       = $000311 ;1 Byte  (temp) Bank of block being loaded
=$000312				BLOCK_COUNT      = $000312 ;2 Bytes (temp) Counter of bytes read as file is loaded
=$000320				SDOS_BLOCK_BEGIN = $000320 ;
=$000324				SDOS_LOAD_ADDY   = $000324 ; 4 Bytes (Uses 3 Only)
=$000328				SDOS_FILE_SIZE   = $000328 ;
=$00032c				SDOS_BYTE_NUMBER = $00032C ; Number of Byte to Read or Write before changing the Pointer
=$000330				SDOS_REG_WR32_AD = $000330 ; 4 Bytes (Used to read and Write Values in/from CH376S)
=$000334				SDOS_BYTE_PTR    = $000334
=$000380				SDOS_FILE_NAME   = $000380 ; // Max of 128 Chars
=$000400				SDOS_BLK_BEGIN   = $000400 ; 512 Bytes to Store SD Card Incoming or Outcoming Block
=$0006ff				SDOS_BLK_END     = $0006FF ;
=$000f00				KEY_BUFFER       = $000F00 ;64 Bytes keyboard buffer
=$0080					KEY_BUFFER_SIZE  = $0080 ;128 Bytes (constant) keyboard buffer length
=$000f7f				KEY_BUFFER_END   = $000F7F ;1 Byte  Last byte of keyboard buffer
=$000f83				KEY_BUFFER_CMD   = $000F83 ;1 Byte  Indicates the Command Process Status
=$000f84				COMMAND_SIZE_STR = $000F84 ; 1 Byte
=$000f86				COMMAND_COMP_TMP = $000F86 ; 2 Bytes
=$000f87				KEYBOARD_SC_FLG  = $000F87 ;1 Bytes that indicate the Status of Left Shift, Left CTRL, Left ALT, Right Shift
=$000f88				KEYBOARD_SC_TMP  = $000F88 ;1 Byte, Interrupt Save Scan Code while Processing
=$001000				TEST_BEGIN       = $001000 ;28672 Bytes Test/diagnostic code for prototype.
=$007fff				TEST_END         = $007FFF ;0 Byte
=$008000				STACK_BEGIN      = $008000 ;32512 Bytes The default beginning of stack space
=$00feff				STACK_END        = $00FEFF ;0 Byte  End of stack space. Everything below this is I/O space
=$18ff00				ISR_BEGIN        = $18FF00 ; Byte  Beginning of CPU vectors in Direct page
=$18ff00				HRESET           = $18FF00 ;16 Bytes Handle RESET asserted. Reboot computer and re-initialize the kernel.
=$18ff10				HCOP             = $18FF10 ;16 Bytes Handle the COP instruction. Program use; not used by OS
=$18ff20				HBRK             = $18FF20 ;16 Bytes Handle the BRK instruction. Returns to BASIC Ready prompt.
=$18ff30				HABORT           = $18FF30 ;16 Bytes Handle ABORT asserted. Return to Ready prompt with an error message.
=$18ff40				HNMI             = $18FF40 ;32 Bytes Handle NMI
=$18ff60				HIRQ             = $18FF60 ;32 Bytes Handle IRQ
=$18ff80				Unused_FF80      = $18FF80 ;End of direct page Interrrupt handlers
=$18ffe0				VECTORS_BEGIN    = $18FFE0 ;0 Byte  Interrupt vectors
=$00ffe0				JMP_READY        = $00FFE0 ;4 Bytes Jumps to ROM READY routine. Modified whenever alternate command interpreter is loaded.
=$00ffe4				VECTOR_COP       = $00FFE4 ;2 Bytes Native COP Interrupt vector
=$00ffe6				VECTOR_BRK       = $00FFE6 ;2 Bytes Native BRK Interrupt vector
=$00ffe8				VECTOR_ABORT     = $00FFE8 ;2 Bytes Native ABORT Interrupt vector
=$00ffea				VECTOR_NMI       = $00FFEA ;2 Bytes Native NMI Interrupt vector
=$00ffec				VECTOR_RESET     = $00FFEC ;2 Bytes Unused (Native RESET vector)
=$00ffee				VECTOR_IRQ       = $00FFEE ;2 Bytes Native IRQ Vector
=$00fff0				RETURN           = $00FFF0 ;4 Bytes RETURN key handler. Points to BASIC or MONITOR subroutine to execute when RETURN is pressed.
=$00fff4				VECTOR_ECOP      = $00FFF4 ;2 Bytes Emulation mode interrupt handler
=$00fff6				VECTOR_EBRK      = $00FFF6 ;2 Bytes Emulation mode interrupt handler
=$00fff8				VECTOR_EABORT    = $00FFF8 ;2 Bytes Emulation mode interrupt handler
=$00fffa				VECTOR_ENMI      = $00FFFA ;2 Bytes Emulation mode interrupt handler
=$00fffc				VECTOR_ERESET    = $00FFFC ;2 Bytes Emulation mode interrupt handler
=$00fffe				VECTOR_EIRQ      = $00FFFE ;2 Bytes Emulation mode interrupt handler
=$200000				VECTORS_END      = $200000 ;*End of vector space
=$00ffff				BANK0_END        = $00FFFF ;End of Bank 00 and Direct page

;******  Return to file: kernel.asm


;******  Processing file: page_00_data.asm

>180000	00 a0 af			                .long $AFA000       ; SCREENBEGIN, 3 bytes, Start of screen in video RAM. This is the upper-left corrner of the current video page being written to. This may not be what's being displayed by VICKY. Update this if you change VICKY's display page.
>180003	48 00				                .word 72            ; COLS_VISIBLE, 2 bytes, Columns visible per screen line. A virtual line can be longer than displayed, up to COLS_PER_LINE long. Default = 80
>180005	80 00				                .word 128           ; COLS_PER_LINE, 2 bytes, Columns in memory per screen line. A virtual line can be this long. Default=128
>180007	34 00				                .word 52            ; LINES_VISIBLE, 2 bytes, The number of rows visible on the screen. Default=25
>180009	40 00				                .word 64            ; LINES_MAX, 2 bytes, The number of rows in memory for the screen. Default=64
>18000b	00 a0 af			                .long $AFA000       ; CURSORPOS, 3 bytes, The next character written to the screen will be written in this location.
>18000e	00 00				                .word 0             ; CURSORX, 2 bytes, This is where the blinking cursor sits. Do not edit this direectly. Call LOCATE to update the location and handle moving the cursor correctly.
>180010	00 00				                .word 0             ; CURSORY, 2 bytes, This is where the blinking cursor sits. Do not edit this direectly. Call LOCATE to update the location and handle moving the cursor correctly.
>180012	0f				                .byte $0F           ; CURCOLOR, 2 bytes, Color of next character to be printed to the screen.
>180013	00				                .byte $00           ; CURATTR, 2 bytes, Attribute of next character to be printed to the screen.
>180014	00 80				                .word STACK_BEGIN   ; STACKBOT, 2 bytes, Lowest location the stack should be allowed to write to. If SP falls below this value, the runtime should generate STACK OVERFLOW error and abort.
>180016	ff fe				                .word STACK_END     ; STACKTOP, 2 bytes, Highest location the stack can occupy. If SP goes above this value, the runtime should generate STACK OVERFLOW error and abort.

;******  Return to file: kernel.asm


;******  Processing file: page_00_code.asm

.18ff00	18		clc		RHRESET         CLC
.18ff01	fb		xce		                XCE
.18ff02	5c 00 00 19	jmp $190000	                JML BOOT
.18ff10					RHCOP
.18ff10	c2 30		rep #$30	                REP #$30        ; set A&X long
.18ff12	8b		phb		                PHB
.18ff13	0b		phd		                PHD
.18ff14	48		pha		                PHA
.18ff15	da		phx		                PHX
.18ff16	5a		phy		                PHY
.18ff17	5c 08 00 19	jmp $190008	                JML BREAK
.18ff20					RHBRK
.18ff20	c2 30		rep #$30	                REP #$30        ; set A&X long
.18ff22	8b		phb		                PHB
.18ff23	0b		phd		                PHD
.18ff24	48		pha		                PHA
.18ff25	da		phx		                PHX
.18ff26	5a		phy		                PHY
.18ff27	5c 08 00 19	jmp $190008	                JML BREAK
.18ff30					RHABORT
.18ff30	c2 30		rep #$30	                REP #$30        ; set A&X long
.18ff32	8b		phb		                PHB
.18ff33	0b		phd		                PHD
.18ff34	48		pha		                PHA
.18ff35	da		phx		                PHX
.18ff36	5a		phy		                PHY
.18ff37	5c 08 00 19	jmp $190008	                JML BREAK
.18ff40					 RHNMI
.18ff40	c2 30		rep #$30	                REP #$30        ; set A&X long
.18ff42	8b		phb		                PHB
.18ff43	0b		phd		                PHD
.18ff44	48		pha		                PHA
.18ff45	da		phx		                PHX
.18ff46	5a		phy		                PHY
.18ff47	22 c8 10 19	jsl $1910c8	                JSL NMI_HANDLER
.18ff4b	7a		ply		                PLY
.18ff4c	fa		plx		                PLX
.18ff4d	68		pla		                PLA
.18ff4e	2b		pld		                PLD
.18ff4f	ab		plb		                PLB
.18ff50	40		rti		                RTI
.18ff60					RHIRQ
.18ff60	c2 30		rep #$30	                REP #$30        ; set A&X long
.18ff62	8b		phb		                PHB
.18ff63	0b		phd		                PHD
.18ff64	48		pha		                PHA
.18ff65	da		phx		                PHX
.18ff66	5a		phy		                PHY
.18ff67	22 78 0f 19	jsl $190f78	                JSL IRQ_HANDLER
.18ff6b	7a		ply		                PLY
.18ff6c	fa		plx		                PLX
.18ff6d	68		pla		                PLA
.18ff6e	2b		pld		                PLD
.18ff6f	ab		plb		                PLB
.18ff70	40		rti		                RTI
.18ffe0	5c 68 50 19	jmp $195068	JUMP_READY      JML IMREADY     ; Kernel READY routine. Rewrite this address to jump to a custom kernel.
>18ffe4	10 ff				RVECTOR_COP     .addr HCOP     ; FFE4
>18ffe6	20 ff				RVECTOR_BRK     .addr HBRK     ; FFE6
>18ffe8	30 ff				RVECTOR_ABORT   .addr HABORT   ; FFE8
>18ffea	40 ff				RVECTOR_NMI     .addr HNMI     ; FFEA
>18ffec	00 00				                .word $0000    ; FFEC
>18ffee	60 ff				RVECTOR_IRQ     .addr HIRQ    ; FFEE
.18fff0	5c 68 05 19	jmp $190568	RRETURN         JML IRETURN
>18fff4	10 ff				RVECTOR_ECOP    .addr HCOP     ; FFF4
>18fff6	20 ff				RVECTOR_EBRK    .addr HBRK     ; FFF6
>18fff8	30 ff				RVECTOR_EABORT  .addr HABORT   ; FFF8
>18fffa	40 ff				RVECTOR_ENMI    .addr HNMI     ; FFFA
>18fffc	00 ff				RVECTOR_ERESET  .addr HRESET   ; FFFC
>18fffe	60 ff				RVECTOR_EIRQ    .addr HIRQ     ; FFFE

;******  Return to file: kernel.asm


;******  Processing file: Math_def.asm

=$000100				UNSIGNED_MULT_A_LO  = $000100
=$000101				UNSIGNED_MULT_A_HI  = $000101
=$000102				UNSIGNED_MULT_B_LO  = $000102
=$000103				UNSIGNED_MULT_B_HI  = $000103
=$000104				UNSIGNED_MULT_AL_LO = $000104
=$000105				UNSIGNED_MULT_AL_HI = $000105
=$000106				UNSIGNED_MULT_AH_LO = $000106
=$000107				UNSIGNED_MULT_AH_HI = $000107
=$000108				SIGNED_MULT_A_LO    = $000108
=$000109				SIGNED_MULT_A_HI    = $000109
=$00010a				SIGNED_MULT_B_LO    = $00010A
=$00010b				SIGNED_MULT_B_HI    = $00010B
=$00010c				SIGNED_MULT_AL_LO   = $00010C
=$00010d				SIGNED_MULT_AL_HI   = $00010D
=$00010e				SIGNED_MULT_AH_LO   = $00010E
=$00010f				SIGNED_MULT_AH_HI   = $00010F
=$000110				UNSIGNED_DIV_DEM_LO = $000110
=$000111				UNSIGNED_DIV_DEM_HI = $000111
=$000112				UNSIGNED_DIV_NUM_LO = $000112
=$000113				UNSIGNED_DIV_NUM_HI = $000113
=$000114				UNSIGNED_DIV_QUO_LO = $000114
=$000115				UNSIGNED_DIV_QUO_HI = $000115
=$000116				UNSIGNED_DIV_REM_LO = $000116
=$000117				UNSIGNED_DIV_REM_HI = $000117
=$000118				SIGNED_DIV_DEM_LO   = $000118
=$000119				SIGNED_DIV_DEM_HI   = $000119
=$00011a				SIGNED_DIV_NUM_LO   = $00011A
=$00011b				SIGNED_DIV_NUM_HI   = $00011B
=$00011c				SIGNED_DIV_QUO_LO   = $00011C
=$00011d				SIGNED_DIV_QUO_HI   = $00011D
=$00011e				SIGNED_DIV_REM_LO   = $00011E
=$00011f				SIGNED_DIV_REM_HI   = $00011F
=$000120				ADDER32_A_LL        = $000120
=$000121				ADDER32_A_LH        = $000121
=$000122				ADDER32_A_HL        = $000122
=$000123				ADDER32_A_HH        = $000123
=$000124				ADDER32_B_LL        = $000124
=$000125				ADDER32_B_LH        = $000125
=$000126				ADDER32_B_HL        = $000126
=$000127				ADDER32_B_HH        = $000127
=$000128				ADDER32_R_LL        = $000128
=$000129				ADDER32_R_LH        = $000129
=$00012a				ADDER32_R_HL        = $00012A
=$00012b				ADDER32_R_HH        = $00012B

;******  Return to file: kernel.asm


;******  Processing file: interrupt_def.asm

=$000140				INT_PENDING_REG0 = $000140 ;
=$000141				INT_PENDING_REG1 = $000141 ;
=$000142				INT_PENDING_REG2 = $000142 ;
=$000144				INT_POL_REG0     = $000144 ;
=$000145				INT_POL_REG1     = $000145 ;
=$000146				INT_POL_REG2     = $000146 ;
=$000148				INT_EDGE_REG0    = $000148 ;
=$000149				INT_EDGE_REG1    = $000149 ;
=$00014a				INT_EDGE_REG2    = $00014A ;
=$00014c				INT_MASK_REG0    = $00014C ;
=$00014d				INT_MASK_REG1    = $00014D ;
=$00014e				INT_MASK_REG2    = $00014E ;
=$01					FNX0_INT00_SOF    = $01  ;Start of Frame @ 60FPS
=$02					FNX0_INT01_SOL    = $02  ;Start of Line (Programmable)
=$04					FNX0_INT02_TMR0   = $04  ;Timer 0 Interrupt
=$08					FNX0_INT03_TMR1   = $08  ;Timer 1 Interrupt
=$10					FNX0_INT04_TMR2   = $10  ;Timer 2 Interrupt
=$20					FNX0_INT05_RTC    = $20  ;Real-Time Clock Interrupt
=$40					FNX0_INT06_FDC    = $40  ;Floppy Disk Controller
=$80					FNX0_INT07_MOUSE  = $80  ; Mouse Interrupt (INT12 in SuperIO IOspace)
=$01					FNX1_INT00_KBD    = $01  ;Keyboard Interrupt
=$02					FNX1_INT01_SC0    = $02  ;Sprite 2 Sprite Collision
=$04					FNX1_INT02_SC1    = $04  ;Sprite 2 Tiles Collision
=$08					FNX1_INT03_COM2   = $08  ;Serial Port 2
=$10					FNX1_INT04_COM1   = $10  ;Serial Port 1
=$20					FNX1_INT05_MPU401 = $20  ;Midi Controller Interrupt
=$40					FNX1_INT06_LPT    = $40  ;Parallel Port
=$80					FNX1_INT07_SDCARD = $80  ;SD Card Controller Interrupt
=$01					FNX2_INT00_OPL2R  = $01  ;OPl2 Right Channel
=$02					FNX2_INT01_OPL2L  = $02  ;OPL2 Left Channel
=$04					FNX2_INT02_BTX_INT= $04  ;Beatrix Interrupt (TBD)
=$08					FNX2_INT03_SDMA   = $08  ;System DMA
=$10					FNX2_INT04_VDMA   = $10  ;Video DMA
=$20					FNX2_INT05_DACHP  = $20  ;DAC Hot Plug
=$40					FNX2_INT06_EXT    = $40  ;External Expansion
=$80					FNX2_INT07_ALLONE = $80  ; Not Used - Always 1

;******  Return to file: kernel.asm


;******  Processing file: dram_inc.asm

=$afa000				SCREEN_PAGE0     = $AFA000 ;8192 Bytes First page of display RAM. This is used at boot time to display the welcome screen and the BASIC or MONITOR command screens.
=$afc000				SCREEN_PAGE1     = $AFC000 ;8192 Bytes Additional page of display RAM. This can be used for page flipping or to handle multiple edit buffers.
=$b00000				SCREEN_END       = $B00000 ;End of display memory

;******  Return to file: kernel.asm


;******  Processing file: vicky_def.asm

=$af0000				MASTER_CTRL_REG_L	      = $AF0000
=$01					Mstr_Ctrl_Text_Mode_En  = $01       ; Enable the Text Mode
=$02					Mstr_Ctrl_Text_Overlay  = $02       ; Enable the Overlay of the text mode on top of Graphic Mode (the Background Color is ignored)
=$04					Mstr_Ctrl_Graph_Mode_En = $04       ; Enable the Graphic Mode
=$08					Mstr_Ctrl_Bitmap_En     = $08       ; Enable the Bitmap Module In Vicky
=$10					Mstr_Ctrl_TileMap_En    = $10       ; Enable the Tile Module in Vicky
=$20					Mstr_Ctrl_Sprite_En     = $20       ; Enable the Sprite Module in Vicky
=$40					Mstr_Ctrl_GAMMA_En      = $40       ; this Enable the GAMMA correction - The Analog and DVI have different color value, the GAMMA is great to correct the difference
=$80					Mstr_Ctrl_Disable_Vid   = $80       ; This will disable the Scanning of the Video hence giving 100% bandwith to the CPU
=$af0001				MASTER_CTRL_REG_H	      = $AF0001
=$af0002				VKY_RESERVED_00         = $AF0002
=$af0003				VKY_RESERVED_01         = $AF0003
=$af0004				BORDER_CTRL_REG         = $AF0004
=$01					Border_Ctrl_Enable      = $01
=$af0005				BORDER_COLOR_B          = $AF0005
=$af0006				BORDER_COLOR_G          = $AF0006
=$af0007				BORDER_COLOR_R          = $AF0007
=$af0008				BACKGROUND_COLOR_B      = $AF0008 ; When in Graphic Mode, if a pixel is "0" then the Background pixel is chosen
=$af0009				BACKGROUND_COLOR_G      = $AF0009
=$af000a				BACKGROUND_COLOR_R      = $AF000A ;
=$af0010				VKY_TXT_CURSOR_CTRL_REG = $AF0010   ;[0]  Enable Text Mode
=$01					Vky_Cursor_Enable       = $01
=$02					Vky_Cursor_Flash_Rate0  = $02
=$04					Vky_Cursor_Flash_Rate1  = $04
=$08					Vky_Cursor_FONT_Page0   = $08       ; Pick Font Page 0 or Font Page 1
=$10					Vky_Cursor_FONT_Page1   = $10       ; Pick Font Page 0 or Font Page 1
=$af0011				VKY_TXT_RESERVED        = $AF0011   ;Not in Use
=$af0012				VKY_TXT_CURSOR_CHAR_REG = $AF0012
=$af0013				VKY_TXT_CURSOR_COLR_REG = $AF0013
=$af0014				VKY_TXT_CURSOR_X_REG_L  = $AF0014
=$af0015				VKY_TXT_CURSOR_X_REG_H  = $AF0015
=$af0016				VKY_TXT_CURSOR_Y_REG_L  = $AF0016
=$af0017				VKY_TXT_CURSOR_Y_REG_H  = $AF0017
=$af001c				VKY_INFO_CHIP_NUM_L     = $AF001C
=$af001d				VKY_INFO_CHIP_NUM_H     = $AF001D
=$af001e				VKY_INFO_CHIP_VER_L     = $AF001E
=$af001f				VKY_INFO_CHIP_VER_H     = $AF001F
=$01					TILE_Enable             = $01
=$02					TILE_LUT0               = $02
=$04					TILE_LUT1               = $04
=$08					TILE_LUT2               = $08
=$80					TILESHEET_256x256_En    = $80   ; 0 -> Sequential, 1-> 256x256 Tile Sheet Striding
=$af0100				TL0_CONTROL_REG         = $AF0100       ; Bit[0] - Enable, Bit[3:1] - LUT Select,
=$af0101				TL0_START_ADDY_L        = $AF0101       ; Not USed right now - Starting Address to where is the MAP
=$af0102				TL0_START_ADDY_M        = $AF0102
=$af0103				TL0_START_ADDY_H        = $AF0103
=$af0104				TL0_MAP_X_STRIDE_L      = $AF0104       ; The Stride of the Map
=$af0105				TL0_MAP_X_STRIDE_H      = $AF0105
=$af0106				TL0_MAP_Y_STRIDE_L      = $AF0106       ; The Stride of the Map
=$af0107				TL0_MAP_Y_STRIDE_H      = $AF0107
=$af0108				TL1_CONTROL_REG         = $AF0108       ; Bit[0] - Enable, Bit[3:1] - LUT Select,
=$af0109				TL1_START_ADDY_L        = $AF0109       ; Not USed right now - Starting Address to where is the MAP
=$af010a				TL1_START_ADDY_M        = $AF010A
=$af010b				TL1_START_ADDY_H        = $AF010B
=$af010c				TL1_MAP_X_STRIDE_L      = $AF010C       ; The Stride of the Map
=$af010d				TL1_MAP_X_STRIDE_H      = $AF010D
=$af010e				TL1_MAP_Y_STRIDE_L      = $AF010E       ; The Stride of the Map
=$af010f				TL1_MAP_Y_STRIDE_H      = $AF010F
=$af0110				TL2_CONTROL_REG         = $AF0110       ; Bit[0] - Enable, Bit[3:1] - LUT Select,
=$af0111				TL2_START_ADDY_L        = $AF0111       ; Not USed right now - Starting Address to where is the MAP
=$af0112				TL2_START_ADDY_M        = $AF0112
=$af0113				TL2_START_ADDY_H        = $AF0113
=$af0114				TL2_MAP_X_STRIDE_L      = $AF0114       ; The Stride of the Map
=$af0115				TL2_MAP_X_STRIDE_H      = $AF0115
=$af0116				TL2_MAP_Y_STRIDE_L      = $AF0116       ; The Stride of the Map
=$af0117				TL2_MAP_Y_STRIDE_H      = $AF0117
=$af0118				TL3_CONTROL_REG         = $AF0118       ; Bit[0] - Enable, Bit[3:1] - LUT Select,
=$af0119				TL3_START_ADDY_L        = $AF0119       ; Not USed right now - Starting Address to where is the MAP
=$af011a				TL3_START_ADDY_M        = $AF011A
=$af011b				TL3_START_ADDY_H        = $AF011B
=$af011c				TL3_MAP_X_STRIDE_L      = $AF011C       ; The Stride of the Map
=$af011d				TL3_MAP_X_STRIDE_H      = $AF011D
=$af011e				TL3_MAP_Y_STRIDE_L      = $AF011E       ; The Stride of the Map
=$af011f				TL3_MAP_Y_STRIDE_H      = $AF011F
=$af0140				BM_CONTROL_REG          = $AF0140
=$af0141				BM_START_ADDY_L         = $AF0141
=$af0142				BM_START_ADDY_M         = $AF0142
=$af0143				BM_START_ADDY_H         = $AF0143
=$af0144				BM_X_SIZE_L             = $AF0144
=$af0145				BM_X_SIZE_H             = $AF0145
=$af0146				BM_Y_SIZE_L             = $AF0146
=$af0147				BM_Y_SIZE_H             = $AF0147
=$af0148				BM_RESERVED_0           = $AF0148
=$af0149				BM_RESERVED_1           = $AF0149
=$af014a				BM_RESERVED_2           = $AF014A
=$af014b				BM_RESERVED_3           = $AF014B
=$af014c				BM_RESERVED_4           = $AF014C
=$af014d				BM_RESERVED_5           = $AF014D
=$af014e				BM_RESERVED_6           = $AF014E
=$af014f				BM_RESERVED_7           = $AF014F
=$01					SPRITE_Enable             = $01
=$02					SPRITE_LUT0               = $02 ; This is the LUT that the Sprite will use
=$04					SPRITE_LUT1               = $04
=$08					SPRITE_LUT2               = $08 ; Only 4 LUT for Now, So this bit is not used.
=$10					SPRITE_DEPTH0             = $10 ; This is the Layer the Sprite will be Displayed in
=$20					SPRITE_DEPTH1             = $20
=$40					SPRITE_DEPTH2             = $40
=$af0200				SP00_CONTROL_REG        = $AF0200
=$af0201				SP00_ADDY_PTR_L         = $AF0201
=$af0202				SP00_ADDY_PTR_M         = $AF0202
=$af0203				SP00_ADDY_PTR_H         = $AF0203
=$af0204				SP00_X_POS_L            = $AF0204
=$af0205				SP00_X_POS_H            = $AF0205
=$af0206				SP00_Y_POS_L            = $AF0206
=$af0207				SP00_Y_POS_H            = $AF0207
=$af0208				SP01_CONTROL_REG        = $AF0208
=$af0209				SP01_ADDY_PTR_L         = $AF0209
=$af020a				SP01_ADDY_PTR_M         = $AF020A
=$af020b				SP01_ADDY_PTR_H         = $AF020B
=$af020c				SP01_X_POS_L            = $AF020C
=$af020d				SP01_X_POS_H            = $AF020D
=$af020e				SP01_Y_POS_L            = $AF020E
=$af020f				SP01_Y_POS_H            = $AF020F
=$af0210				SP02_CONTROL_REG        = $AF0210
=$af0211				SP02_ADDY_PTR_L         = $AF0211
=$af0212				SP02_ADDY_PTR_M         = $AF0212
=$af0213				SP02_ADDY_PTR_H         = $AF0213
=$af0214				SP02_X_POS_L            = $AF0214
=$af0215				SP02_X_POS_H            = $AF0215
=$af0216				SP02_Y_POS_L            = $AF0216
=$af0217				SP02_Y_POS_H            = $AF0217
=$af0218				SP03_CONTROL_REG        = $AF0218
=$af0219				SP03_ADDY_PTR_L         = $AF0219
=$af021a				SP03_ADDY_PTR_M         = $AF021A
=$af021b				SP03_ADDY_PTR_H         = $AF021B
=$af021c				SP03_X_POS_L            = $AF021C
=$af021d				SP03_X_POS_H            = $AF021D
=$af021e				SP03_Y_POS_L            = $AF021E
=$af021f				SP03_Y_POS_H            = $AF021F
=$af0220				SP04_CONTROL_REG        = $AF0220
=$af0221				SP04_ADDY_PTR_L         = $AF0221
=$af0222				SP04_ADDY_PTR_M         = $AF0222
=$af0223				SP04_ADDY_PTR_H         = $AF0223
=$af0224				SP04_X_POS_L            = $AF0224
=$af0225				SP04_X_POS_H            = $AF0225
=$af0226				SP04_Y_POS_L            = $AF0226
=$af0227				SP04_Y_POS_H            = $AF0227
=$af0228				SP05_CONTROL_REG        = $AF0228
=$af0229				SP05_ADDY_PTR_L         = $AF0229
=$af022a				SP05_ADDY_PTR_M         = $AF022A
=$af022b				SP05_ADDY_PTR_H         = $AF022B
=$af022c				SP05_X_POS_L            = $AF022C
=$af022d				SP05_X_POS_H            = $AF022D
=$af022e				SP05_Y_POS_L            = $AF022E
=$af022f				SP05_Y_POS_H            = $AF022F
=$af0230				SP06_CONTROL_REG        = $AF0230
=$af0231				SP06_ADDY_PTR_L         = $AF0231
=$af0232				SP06_ADDY_PTR_M         = $AF0232
=$af0233				SP06_ADDY_PTR_H         = $AF0233
=$af0234				SP06_X_POS_L            = $AF0234
=$af0235				SP06_X_POS_H            = $AF0235
=$af0236				SP06_Y_POS_L            = $AF0236
=$af0237				SP06_Y_POS_H            = $AF0237
=$af0238				SP07_CONTROL_REG        = $AF0238
=$af0239				SP07_ADDY_PTR_L         = $AF0239
=$af023a				SP07_ADDY_PTR_M         = $AF023A
=$af023b				SP07_ADDY_PTR_H         = $AF023B
=$af023c				SP07_X_POS_L            = $AF023C
=$af023d				SP07_X_POS_H            = $AF023D
=$af023e				SP07_Y_POS_L            = $AF023E
=$af023f				SP07_Y_POS_H            = $AF023F
=$af0240				SP08_CONTROL_REG        = $AF0240
=$af0241				SP08_ADDY_PTR_L         = $AF0241
=$af0242				SP08_ADDY_PTR_M         = $AF0242
=$af0243				SP08_ADDY_PTR_H         = $AF0243
=$af0244				SP08_X_POS_L            = $AF0244
=$af0245				SP08_X_POS_H            = $AF0245
=$af0246				SP08_Y_POS_L            = $AF0246
=$af0247				SP08_Y_POS_H            = $AF0247
=$af0248				SP09_CONTROL_REG        = $AF0248
=$af0249				SP09_ADDY_PTR_L         = $AF0249
=$af024a				SP09_ADDY_PTR_M         = $AF024A
=$af024b				SP09_ADDY_PTR_H         = $AF024B
=$af024c				SP09_X_POS_L            = $AF024C
=$af024d				SP09_X_POS_H            = $AF024D
=$af024e				SP09_Y_POS_L            = $AF024E
=$af024f				SP09_Y_POS_H            = $AF024F
=$af0250				SP10_CONTROL_REG        = $AF0250
=$af0251				SP10_ADDY_PTR_L         = $AF0251
=$af0252				SP10_ADDY_PTR_M         = $AF0252
=$af0253				SP10_ADDY_PTR_H         = $AF0253
=$af0254				SP10_X_POS_L            = $AF0254
=$af0255				SP10_X_POS_H            = $AF0255
=$af0256				SP10_Y_POS_L            = $AF0256
=$af0257				SP10_Y_POS_H            = $AF0257
=$af0258				SP11_CONTROL_REG        = $AF0258
=$af0259				SP11_ADDY_PTR_L         = $AF0259
=$af025a				SP11_ADDY_PTR_M         = $AF025A
=$af025b				SP11_ADDY_PTR_H         = $AF025B
=$af025c				SP11_X_POS_L            = $AF025C
=$af025d				SP11_X_POS_H            = $AF025D
=$af025e				SP11_Y_POS_L            = $AF025E
=$af025f				SP11_Y_POS_H            = $AF025F
=$af0260				SP12_CONTROL_REG        = $AF0260
=$af0261				SP12_ADDY_PTR_L         = $AF0261
=$af0262				SP12_ADDY_PTR_M         = $AF0262
=$af0263				SP12_ADDY_PTR_H         = $AF0263
=$af0264				SP12_X_POS_L            = $AF0264
=$af0265				SP12_X_POS_H            = $AF0265
=$af0266				SP12_Y_POS_L            = $AF0266
=$af0267				SP12_Y_POS_H            = $AF0267
=$af0268				SP13_CONTROL_REG        = $AF0268
=$af0269				SP13_ADDY_PTR_L         = $AF0269
=$af026a				SP13_ADDY_PTR_M         = $AF026A
=$af026b				SP13_ADDY_PTR_H         = $AF026B
=$af026c				SP13_X_POS_L            = $AF026C
=$af026d				SP13_X_POS_H            = $AF026D
=$af026e				SP13_Y_POS_L            = $AF026E
=$af026f				SP13_Y_POS_H            = $AF026F
=$af0270				SP14_CONTROL_REG        = $AF0270
=$af0271				SP14_ADDY_PTR_L         = $AF0271
=$af0272				SP14_ADDY_PTR_M         = $AF0272
=$af0273				SP14_ADDY_PTR_H         = $AF0273
=$af0274				SP14_X_POS_L            = $AF0274
=$af0275				SP14_X_POS_H            = $AF0275
=$af0276				SP14_Y_POS_L            = $AF0276
=$af0277				SP14_Y_POS_H            = $AF0277
=$af0278				SP15_CONTROL_REG        = $AF0278
=$af0279				SP15_ADDY_PTR_L         = $AF0279
=$af027a				SP15_ADDY_PTR_M         = $AF027A
=$af027b				SP15_ADDY_PTR_H         = $AF027B
=$af027c				SP15_X_POS_L            = $AF027C
=$af027d				SP15_X_POS_H            = $AF027D
=$af027e				SP15_Y_POS_L            = $AF027E
=$af027f				SP15_Y_POS_H            = $AF027F
=$af0280				SP16_CONTROL_REG        = $AF0280
=$af0281				SP16_ADDY_PTR_L         = $AF0281
=$af0282				SP16_ADDY_PTR_M         = $AF0282
=$af0283				SP16_ADDY_PTR_H         = $AF0283
=$af0284				SP16_X_POS_L            = $AF0284
=$af0285				SP16_X_POS_H            = $AF0285
=$af0286				SP16_Y_POS_L            = $AF0286
=$af0287				SP16_Y_POS_H            = $AF0287
=$af0288				SP17_CONTROL_REG        = $AF0288
=$af0289				SP17_ADDY_PTR_L         = $AF0289
=$af028a				SP17_ADDY_PTR_M         = $AF028A
=$af028b				SP17_ADDY_PTR_H         = $AF028B
=$af028c				SP17_X_POS_L            = $AF028C
=$af028d				SP17_X_POS_H            = $AF028D
=$af028e				SP17_Y_POS_L            = $AF028E
=$af028f				SP17_Y_POS_H            = $AF028F
=$af0400				VDMA_CONTROL_REG        = $AF0400
=$af0401				VDMA_COUNT_REG_L        = $AF0401
=$af0402				VDMA_COUNT_REG_M        = $AF0402
=$af0403				VDMA_COUNT_REG_H        = $AF0403
=$af0404				VDMA_DATA_2_WRITE_L     = $AF0404
=$af0405				VDMA_DATA_2_WRITE_H     = $AF0405
=$af0406				VDMA_STRIDE_L           = $AF0406
=$af0407				VDMA_STRIDE_H           = $AF0407
=$af0408				VDMA_SRC_ADDY_L         = $AF0408
=$af0409				VDMA_SRC_ADDY_M         = $AF0409
=$af040a				VDMA_SRC_ADDY_H         = $AF040A
=$af040b				VDMA_RESERVED_0         = $AF040B
=$af040c				VDMA_DST_ADDY_L         = $AF040C
=$af040d				VDMA_DST_ADDY_M         = $AF040D
=$af040e				VDMA_DST_ADDY_H         = $AF040E
=$af040f				VDMA_RESERVED_1         = $AF040F
=$af0500				MOUSE_PTR_GRAP0_START    = $AF0500 ; 16 x 16 = 256 Pixels (Grey Scale) 0 = Transparent, 1 = Black , 255 = White
=$af05ff				MOUSE_PTR_GRAP0_END      = $AF05FF ; Pointer 0
=$af0600				MOUSE_PTR_GRAP1_START    = $AF0600 ;
=$af06ff				MOUSE_PTR_GRAP1_END      = $AF06FF ; Pointer 1
=$af0700				MOUSE_PTR_CTRL_REG_L    = $AF0700 ; Bit[0] Enable, Bit[1] = 0  ( 0 = Pointer0, 1 = Pointer1)
=$af0701				MOUSE_PTR_CTRL_REG_H    = $AF0701 ;
=$af0702				MOUSE_PTR_X_POS_L       = $AF0702 ; X Position (0 - 639) (Can only read now) Writing will have no effect
=$af0703				MOUSE_PTR_X_POS_H       = $AF0703 ;
=$af0704				MOUSE_PTR_Y_POS_L       = $AF0704 ; Y Position (0 - 479) (Can only read now) Writing will have no effect
=$af0705				MOUSE_PTR_Y_POS_H       = $AF0705 ;
=$af0706				MOUSE_PTR_BYTE0         = $AF0706 ; Byte 0 of Mouse Packet (you must write 3 Bytes)
=$af0707				MOUSE_PTR_BYTE1         = $AF0707 ; Byte 1 of Mouse Packet (if you don't, then )
=$af0708				MOUSE_PTR_BYTE2         = $AF0708 ; Byte 2 of Mouse Packet (state Machine will be jammed in 1 state)
=$af070b				C256F_MODEL_MAJOR       = $AF070B ;
=$af070c				C256F_MODEL_MINOR       = $AF070C ;
=$af070d				FPGA_DOR                = $AF070D ;
=$af070e				FPGA_MOR                = $AF070E ;
=$af070f				FPGA_YOR                = $AF070F ;
=$af1f40				FG_CHAR_LUT_PTR         = $AF1F40
=$af1f80				BG_CHAR_LUT_PTR		      = $AF1F80
=$af2000				GRPH_LUT0_PTR		        = $AF2000
=$af2400				GRPH_LUT1_PTR		        = $AF2400
=$af2800				GRPH_LUT2_PTR		        = $AF2800
=$af2c00				GRPH_LUT3_PTR		        = $AF2C00
=$af3000				GRPH_LUT4_PTR		        = $AF3000
=$af3400				GRPH_LUT5_PTR		        = $AF3400
=$af3800				GRPH_LUT6_PTR		        = $AF3800
=$af3c00				GRPH_LUT7_PTR		        = $AF3C00
=$af4000				GAMMA_B_LUT_PTR		      = $AF4000
=$af4100				GAMMA_G_LUT_PTR		      = $AF4100
=$af4200				GAMMA_R_LUT_PTR		      = $AF4200
=$af5000				TILE_MAP0       		    = $AF5000     ;$AF5000 - $AF57FF
=$af5800				TILE_MAP1               = $AF5800     ;$AF5800 - $AF5FFF
=$af6000				TILE_MAP2               = $AF6000     ;$AF6000 - $AF67FF
=$af6800				TILE_MAP3               = $AF6800     ;$AF6800 - $AF6FFF
=$af8000				FONT_MEMORY_BANK0       = $AF8000     ;$AF8000 - $AF87FF
=$af8800				FONT_MEMORY_BANK1       = $AF8800     ;$AF8800 - $AF8FFF
=$afa000				CS_TEXT_MEM_PTR         = $AFA000
=$afc000				CS_COLOR_MEM_PTR        = $AFC000
=$afe000				BTX_START               = $AFE000     ; BEATRIX Registers
=$afffff				BTX_END                 = $AFFFFF

;******  Return to file: kernel.asm


;******  Processing file: super_io_def.asm

=$af1100				PME_STS_REG     = $AF1100
=$af1102				PME_EN_REG		  = $AF1102
=$af1104				PME_STS1_REG		= $AF1104
=$af1105				PME_STS2_REG		= $AF1105
=$af1106				PME_STS3_REG		= $AF1106
=$af1107				PME_STS4_REG		= $AF1107
=$af1108				PME_STS5_REG		= $AF1108
=$af110a				PME_EN1_REG     = $AF110A
=$af110b				PME_EN2_REG     = $AF110B
=$af110c				PME_EN3_REG     = $AF110C
=$af110d				PME_EN4_REG     = $AF110D
=$af110e				PME_EN5_REG     = $AF110E
=$af1110				SMI_STS1_REG		= $AF1110
=$af1111				SMI_STS2_REG		= $AF1111
=$af1112				SMI_STS3_REG		= $AF1112
=$af1113				SMI_STS4_REG		= $AF1113
=$af1114				SMI_STS5_REG		= $AF1114
=$af1116				SMI_EN1_REG     = $AF1116
=$af1117				SMI_EN2_REG     = $AF1117
=$af1118				SMI_EN3_REG     = $AF1118
=$af1119				SMI_EN4_REG     = $AF1119
=$af111a				SMI_EN5_REG     = $AF111A
=$af111c				MSC_ST_REG      = $AF111C
=$af111e				FORCE_DISK_CHANGE       = $AF111E
=$af111f				FLOPPY_DATA_RATE        = $AF111F
=$af1120				UART1_FIFO_CTRL_SHDW    = $AF1120
=$af1121				UART2_FIFO_CTRL_SHDW    = $AF1121
=$af1122				DEV_DISABLE_REG         = $AF1122
=$af1123				GP10_REG    		= $AF1123
=$af1124				GP11_REG    		= $AF1124
=$af1125				GP12_REG    		= $AF1125
=$af1126				GP13_REG    		= $AF1126
=$af1127				GP14_REG    		= $AF1127
=$af1128				GP15_REG    		= $AF1128
=$af1129				GP16_REG    		= $AF1129
=$af112a				GP17_REG    		= $AF112A
=$af112b				GP20_REG    		= $AF112B
=$af112c				GP21_REG    		= $AF112C
=$af112d				GP22_REG		= $AF112D
=$af112f				GP24_REG		= $AF112F
=$af1130				GP25_REG		= $AF1130
=$af1131				GP26_REG		= $AF1131
=$af1132				GP27_REG		= $AF1132
=$af1133				GP30_REG		= $AF1133
=$af1134				GP31_REG		= $AF1134
=$af1135				GP32_REG		= $AF1135
=$af1136				GP33_REG		= $AF1136
=$af1137				GP34_REG		= $AF1137
=$af1138				GP35_REG		= $AF1138
=$af1139				GP36_REG		= $AF1139
=$af113a				GP37_REG		= $AF113A
=$af113b				GP40_REG		= $AF113B
=$af113c				GP41_REG		= $AF113C
=$af113d				GP42_REG		= $AF113D
=$af113e				GP43_REG		= $AF113E
=$af113f				GP50_REG		= $AF113F
=$af1140				GP51_REG		= $AF1140
=$af1141				GP52_REG		= $AF1141
=$af1142				GP53_REG		= $AF1142
=$af1143				GP54_REG		= $AF1143
=$af1144				GP55_REG		= $AF1144
=$af1145				GP56_REG		= $AF1145
=$af1146				GP57_REG		= $AF1146
=$af1147				GP60_REG		= $AF1147
=$af1148				GP61_REG		= $AF1148
=$af114b				GP1_REG			= $AF114B
=$af114c				GP2_REG			= $AF114C
=$af114d				GP3_REG			= $AF114D
=$af114e				GP4_REG			= $AF114E
=$af114f				GP5_REG			= $AF114F
=$af1150				GP6_REG			= $AF1150
=$af1156				FAN1_REG		        = $AF1156
=$af1157				FAN2_REG            = $AF1157
=$af1158				FAN_CTRL_REG  	    = $AF1158
=$af1159				FAN1_TACH_REG       = $AF1159
=$af115a				FAN2_TACH_REG       = $AF115A
=$af115b				FAN1_PRELOAD_REG    = $AF115B
=$af115c				FAN2_PRELOAD_REG    = $AF115C
=$af115d				LED1_REG    		    = $AF115D
=$af115e				LED2_REG    		    = $AF115E
=$af115f				KEYBOARD_SCAN_CODE	= $AF115F

;******  Return to file: kernel.asm


;******  Processing file: keyboard_def.asm

=$af1064				STATUS_PORT 	        =	$AF1064
=$af1060				KBD_OUT_BUF 	        =	$AF1060
=$af1060				KBD_INPT_BUF	        = $AF1060
=$af1064				KBD_CMD_BUF		        = $AF1064
=$af1060				KBD_DATA_BUF	        = $AF1060
=$af1060				PORT_A			          =	$AF1060
=$af1061				PORT_B			          =	$AF1061
=$01					OUT_BUF_FULL  =	$01
=$02					INPT_BUF_FULL	=	$02
=$04					SYS_FLAG		  =	$04
=$08					CMD_DATA		  =	$08
=$10					KEYBD_INH     =	$10
=$20					TRANS_TMOUT	  =	$20
=$40					RCV_TMOUT		  =	$40
=$80					PARITY_EVEN		=	$80
=$10					INH_KEYBOARD	=	$10
=$ae					KBD_ENA			  =	$AE
=$ad					KBD_DIS			  =	$AD
=$f1					KB_MENU			  =	$F1
=$f4					KB_ENABLE		  =	$F4
=$f7					KB_MAKEBREAK  =	$F7
=$fe					KB_ECHO			  =	$FE
=$ff					KB_RESET		  =	$FF
=$ed					KB_LED_CMD		=	$ED
=$aa					KB_OK			    =	$AA
=$fa					KB_ACK			  =	$FA
=$ff					KB_OVERRUN		=	$FF
=$fe					KB_RESEND		  =	$FE
=$f0					KB_BREAK		  =	$F0
=$10					KB_FA			    =	$10
=$20					KB_FE			    =	$20
=$40					KB_PR_LED		  =	$40

;******  Return to file: kernel.asm


;******  Processing file: SID_def.asm

=$afe400				SID0_V1_FREQ_LO    = $AFE400 ;SID - L - Voice 1 (Write Only) - FREQ LOW
=$afe401				SID0_V1_FREQ_HI    = $AFE401 ;SID - L - Voice 1 (Write Only) - FREQ HI
=$afe402				SID0_V1_PW_LO      = $AFE402 ;SID - L - Voice 1 (Write Only) - PW LOW
=$afe403				SID0_V1_PW_HI      = $AFE403 ;SID - L - Voice 1 (Write Only) - PW HI
=$afe404				SID0_V1_CTRL       = $AFE404 ;SID - L - Voice 1 (Write Only) - CTRL REG
=$afe405				SID0_V1_ATCK_DECY  = $AFE405 ;SID - L - Voice 1 (Write Only) - ATTACK / DECAY
=$afe406				SID0_V1_SSTN_RLSE  = $AFE406 ;SID - L - Voice 1 (Write Only) - SUSTAIN / RELEASE
=$afe407				SID0_V2_FREQ_LO    = $AFE407 ;SID - L - Voice 2 (Write Only) - FREQ LOW
=$afe408				SID0_V2_FREQ_HI    = $AFE408 ;SID - L - Voice 2 (Write Only) - FREQ HI
=$afe409				SID0_V2_PW_LO      = $AFE409 ;SID - L - Voice 2 (Write Only) - PW LOW
=$afe40a				SID0_V2_PW_HI      = $AFE40A ;SID - L - Voice 2 (Write Only) - PW HI
=$afe40b				SID0_V2_CTRL       = $AFE40B ;SID - L - Voice 2 (Write Only) - CTRL REG
=$afe40c				SID0_V2_ATCK_DECY  = $AFE40C ;SID - L - Voice 2 (Write Only) - ATTACK / DECAY
=$afe40d				SID0_V2_SSTN_RLSE  = $AFE40D ;SID - L - Voice 2 (Write Only) - SUSTAIN / RELEASE
=$afe40e				SID0_V3_FREQ_LO    = $AFE40E ;SID - L - Voice 3 (Write Only) - FREQ LOW
=$afe40f				SID0_V3_FREQ_HI    = $AFE40F ;SID - L - Voice 3 (Write Only) - FREQ HI
=$afe410				SID0_V3_PW_LO      = $AFE410 ;SID - L - Voice 3 (Write Only) - PW LOW
=$afe411				SID0_V3_PW_HI      = $AFE411 ;SID - L - Voice 3 (Write Only) - PW HI
=$afe412				SID0_V3_CTRL       = $AFE412 ;SID - L - Voice 3 (Write Only) - CTRL REG
=$afe413				SID0_V3_ATCK_DECY  = $AFE413 ;SID - L - Voice 3 (Write Only) - ATTACK / DECAY
=$afe414				SID0_V3_SSTN_RLSE  = $AFE414 ;SID - L - Voice 3 (Write Only) - SUSTAIN / RELEASE
=$afe415				SID0_FC_LO         = $AFE415 ;SID - L - Filter (Write Only) - FC LOW
=$afe416				SID0_FC_HI         = $AFE416 ;SID - L - Filter (Write Only) - FC HI
=$afe417				SID0_RES_FILT      = $AFE417 ;SID - L - Filter (Write Only) - RES / FILT
=$afe418				SID0_MODE_VOL      = $AFE418 ;SID - L - Filter (Write Only) - MODE / VOL
=$afe419				SID0_POT_X         = $AFE419 ;SID - L - Misc (Read Only) - POT X (C256 - NOT USED)
=$afe41a				SID0_POT_Y         = $AFE41A ;SID - L - Misc (Read Only) - POT Y (C256 - NOT USED)
=$afe41b				SID0_OSC3_RND      = $AFE41B ;SID - L - Misc (Read Only) - OSC3 / RANDOM
=$afe41c				SID0_ENV3          = $AFE41C ;SID - L - Misc (Read Only)  - ENV3
=$afe41d				SID0_NOT_USED0     = $AFE41D ;SID - L - NOT USED
=$afe41e				SID0_NOT_USED1     = $AFE41E ;SID - L - NOT USED
=$afe41f				SID0_NOT_USED2     = $AFE41F ;SID - L - NOT USED

;******  Return to file: kernel.asm


;******  Processing file: RTC_def.asm

=$af0800				RTC_SEC       = $AF0800 ;Seconds Register
=$af0801				RTC_SEC_ALARM = $AF0801 ;Seconds Alarm Register
=$af0802				RTC_MIN       = $AF0802 ;Minutes Register
=$af0803				RTC_MIN_ALARM = $AF0803 ;Minutes Alarm Register
=$af0804				RTC_HRS       = $AF0804 ;Hours Register
=$af0805				RTC_HRS_ALARM = $AF0805 ;Hours Alarm Register
=$af0806				RTC_DAY       = $AF0806 ;Day Register
=$af0807				RTC_DAY_ALARM = $AF0807 ;Day Alarm Register
=$af0808				RTC_DOW       = $AF0808 ;Day of Week Register
=$af0809				RTC_MONTH     = $AF0809 ;Month Register
=$af080a				RTC_YEAR      = $AF080A ;Year Register
=$af080b				RTC_RATES     = $AF080B ;Rates Register
=$af080c				RTC_ENABLE    = $AF080C ;Enables Register
=$af080d				RTC_FLAGS     = $AF080D ;Flags Register
=$af080e				RTC_CTRL      = $AF080E ;Control Register
=$af080f				RTC_CENTURY   = $AF080F ;Century Register

;******  Return to file: kernel.asm


;******  Processing file: io_def.asm

=$afe800				JOYSTICK0     = $AFE800  ;(R) Joystick 0 - J7 (Next to Buzzer)
=$afe801				JOYSTICK1     = $AFE801  ;(R) Joystick 1 - J8
=$afe802				JOYSTICK2     = $AFE802  ;(R) Joystick 2 - J9
=$afe803				JOYSTICK3     = $AFE803  ;(R) Joystick 3 - J10 (next to SD Card)
=$afe804				DIPSWITCH     = $AFE804  ;(R) $AFE804...$AFE807
=$afe808				SDCARD_DATA   = $AFE808  ;(R/W) SDCARD (CH376S) Data PORT_A (A0 = 0)
=$afe809				SDCARD_CMD    = $AFE809  ;(R/W) SDCARD (CH376S) CMD/STATUS Port (A0 = 1)
=$afe810				SDCARD_STAT   = $AFE810  ;(R) SDCARD (Bit[0] = CD, Bit[1] = WP)
=$afe820				CODEC_DATA_LO = $AFE820  ;(W) LSB of Add/Data Reg to Control CODEC See WM8776 Spec
=$afe821				CODEC_DATA_HI = $AFE821  ;(W) MSB od Add/Data Reg to Control CODEC See WM8776 Spec
=$afe822				CODEC_WR_CTRL = $AFE822  ;(W) Bit[0] = 1 -> Start Writing the CODEC Control Register

;******  Return to file: kernel.asm


;******  Processing file: CMD_Parser.asm

.193000					SAVECHAR2CMDLINE
.193000	0b		phd		                PHD
.193001	e2 20		sep #$20	                SEP #$20        ; set A short
.193003					NOT_CARRIAGE_RETURN
.193003	a6 52		ldx $52		                LDX KEY_BUFFER_WPOS   ; So the Receive Character is saved in the Buffer
.193005	c9 20		cmp #$20	                CMP #$20
.193007	90 22		bcc $19302b	                BCC CHECK_LOWERTHANSPACE
.193009	c9 80		cmp #$80	                CMP #$80
.19300b	b0 39		bcs $193046	                BCS EXIT_SAVE2_CMDLINE
.19300d	e0 80 00	cpx #$0080	                CPX #KEY_BUFFER_SIZE  ; Make sure we haven't been overboard.
.193010	b0 34		bcs $193046	                BCS EXIT_SAVE2_CMDLINE  ; Stop storing - An error should ensue here...
.193012	c9 61		cmp #$61	                CMP #$61              ; "a"
.193014	90 06		bcc $19301c	                BCC CAPS_NO_CHANGE ;
.193016	c9 7b		cmp #$7b	                CMP #$7B              ; '{'  Char after 'z'
.193018	b0 02		bcs $19301c	                BCS CAPS_NO_CHANGE ;
.19301a	29 df		and #$df	                AND #$DF    ; remove the $20 in $61
.19301c					CAPS_NO_CHANGE
.19301c	9f 00 0f 00	sta $000f00,x	                STA @lKEY_BUFFER, X
.193020	e8		inx		                INX
.193021	86 52		stx $52		                STX KEY_BUFFER_WPOS
.193023	a9 00		lda #$00	                LDA #$00
.193025	9f 00 0f 00	sta $000f00,x	                STA @lKEY_BUFFER, X   ; Store a EOL in the following location for good measure
.193029	80 1b		bra $193046	                BRA EXIT_SAVE2_CMDLINE
.19302b					CHECK_LOWERTHANSPACE
.19302b	c9 08		cmp #$08	                CMP #$08    ; BackSpace
.19302d	f0 19		beq $193048	                BEQ GO_BACKTHEPOINTER;
.19302f	c9 0d		cmp #$0d	                CMP #$0D    ; Check to see if the incomming Character is a Cariage Return
.193031	d0 d0		bne $193003	                BNE NOT_CARRIAGE_RETURN
.193033	9f 00 0f 00	sta $000f00,x	                STA @lKEY_BUFFER, X
.193037	a2 00 00	ldx #$0000	                LDX #$0000
.19303a	86 50		stx $50		                STX KEY_BUFFER_RPOS
.19303c	af 83 0f 00	lda $000f83	                LDA @lKEY_BUFFER_CMD
.193040	09 01		ora #$01	                ORA #$01      ; Set Bit 0 - to indicate that there is a command to process
.193042	8f 83 0f 00	sta $000f83	                STA @lKEY_BUFFER_CMD
.193046					EXIT_SAVE2_CMDLINE
.193046	2b		pld		                PLD
.193047	6b		rtl		                RTL
.193048					GO_BACKTHEPOINTER
.193048	a9 00		lda #$00	                LDA #$00
.19304a	9f 00 0f 00	sta $000f00,x	                STA @lKEY_BUFFER, X
.19304e	e0 00 00	cpx #$0000	                CPX #$0000
.193051	f0 f3		beq $193046	                BEQ EXIT_SAVE2_CMDLINE
.193053	ca		dex		                DEX
.193054	80 f0		bra $193046	                BRA EXIT_SAVE2_CMDLINE
.193056					PROCESS_COMMAND_LINE
.193056	08		php		                PHP
.193057	c2 10		rep #$10	                REP #$10        ; set X long
.193059	e2 20		sep #$20	                SEP #$20        ; set A short
.19305b	a2 00 00	ldx #$0000	                LDX #$0000
.19305e	86 52		stx $52		                STX KEY_BUFFER_WPOS
.193060	a6 50		ldx $50		                LDX KEY_BUFFER_RPOS ; Load the Read Pointer
.193062					NOT_VALID_CHAR4CMD
.193062	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.193066	c9 0d		cmp #$0d	                CMP #$0D              ; Check for Carriage Return
.193068	f0 24		beq $19308e	                BEQ NO_CMD_2_PROCESS  ; Exit, if the first char is a Carriage return
.19306a	c9 41		cmp #$41	                CMP #$41              ; Smaller than "A"
.19306c	90 04		bcc $193072	                BCC NOT_A_VALIDCHAR   ; check for space before the Command
.19306e	c9 5b		cmp #$5b	                CMP #$5B              ; Smaller than "Z" We are going to accept the character
.193070	90 08		bcc $19307a	                BCC VALIDCHAR_GO_FIND_CMD;
.193072					NOT_A_VALIDCHAR
.193072	e8		inx		                INX
.193073	e0 80 00	cpx #$0080	                CPX #KEY_BUFFER_SIZE
.193076	d0 ea		bne $193062	                BNE NOT_VALID_CHAR4CMD
.193078	f0 0d		beq $193087	                BEQ ERROR_BUFFER_OVERRUN  ; This means that we have reached the end of Buffer
.19307a					VALIDCHAR_GO_FIND_CMD
.19307a	20 99 30	jsr $193099	                JSR HOWMANYCHARINCMD  ; Comming back from this Routine we know the size of the Command
.19307d	c0 10 00	cpy #$0010	                CPY #$0010            ; if the value of the size of the command is 16, then it is not a legit command
.193080	b0 0e		bcs $193090	                BCS NOTRECOGNIZEDCOMMAND  ; This will output a Command Not Recognized
.193082	20 b2 30	jsr $1930b2	                JSR FINDCMDINLIST     ; This is where, it gets really cool
.193085	80 07		bra $19308e	                BRA DONE_COMMANDPROCESS
.193087					ERROR_BUFFER_OVERRUN
.193087	a2 45 36	ldx #$3645	                LDX #<>CMD_Error_Overrun
.19308a	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.19308e					DONE_COMMANDPROCESS
.19308e					NO_CMD_2_PROCESS
.19308e	28		plp		                PLP
.19308f	6b		rtl		                RTL
.193090					NOTRECOGNIZEDCOMMAND
.193090	a2 5f 36	ldx #$365f	                LDX #<>CMD_Error_Notfound
.193093	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.193097	28		plp		                PLP
.193098	60		rts		                RTS
.193099					HOWMANYCHARINCMD
.193099	a0 00 00	ldy #$0000	                LDY #$0000
.19309c	da		phx		                PHX ; Push X to Stack for the time being
.19309d					ENDOFCOMMANDNOTFOUND
.19309d	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.1930a1	c9 20		cmp #$20	                CMP #$20              ; Check for a Space
.1930a3	f0 0b		beq $1930b0	                BEQ FOUNDTHEFOLLOWINGSPACE
.1930a5	c9 0d		cmp #$0d	                CMP #$0D              ; Check to see end of Command (if there is no arguments)
.1930a7	f0 07		beq $1930b0	                BEQ FOUNDTHEFOLLOWINGSPACE
.1930a9	e8		inx		                INX
.1930aa	c8		iny		                INY
.1930ab	c0 10 00	cpy #$0010	                CPY #$0010              ; Set the Maximum number of Character to 16 in the command
.1930ae	90 ed		bcc $19309d	                BCC ENDOFCOMMANDNOTFOUND
.1930b0					FOUNDTHEFOLLOWINGSPACE
.1930b0	fa		plx		                PLX ; Get the Pointer Location of the First Character of the Command
.1930b1	60		rts		                RTS
.1930b2					FINDCMDINLIST
.1930b2	86 40		stx $40		                STX CMD_PARSER_TMPX   ; Save X for the Time Being
.1930b4	84 42		sty $42		                STY CMD_PARSER_TMPY   ; Save Y for the Time Being
.1930b6	c2 20		rep #$20	                REP #$20        ; set A long
.1930b8	a9 78 35	lda #$3578	                LDA #<>CMDListPtr
.1930bb	85 44		sta $44		                STA CMD_LIST_PTR
.1930bd	a9 00 00	lda #$0000	                LDA #$0000  ; Just to make sure B is zero
.1930c0	e2 20		sep #$20	                SEP #$20        ; set A short
.1930c2	a9 19		lda #$19	                LDA #`CMDListPtr
.1930c4	85 46		sta $46		                STA CMD_LIST_PTR+2
.1930c6	a0 00 00	ldy #$0000	                LDY #$0000
.1930c9	84 54		sty $54		                STY CMD_VARIABLE_TMP
.1930cb					NOTTHERIGHTSIZEMOVEON
.1930cb	a4 54		ldy $54		                LDY CMD_VARIABLE_TMP
.1930cd	b7 44		lda [$44],y	                LDA [CMD_LIST_PTR],Y
.1930cf	85 48		sta $48		                STA CMD_PARSER_PTR
.1930d1	c8		iny		                INY
.1930d2	b7 44		lda [$44],y	                LDA [CMD_LIST_PTR],Y
.1930d4	85 49		sta $49		                STA CMD_PARSER_PTR+1
.1930d6	c8		iny		                INY
.1930d7	b7 44		lda [$44],y	                LDA [CMD_LIST_PTR],Y
.1930d9	85 4a		sta $4a		                STA CMD_PARSER_PTR+2
.1930db	c8		iny		                INY
.1930dc	c0 3f 00	cpy #$003f	                CPY #size(CMDListPtr)
.1930df	b0 41		bcs $193122	                BCS COMMANDNOTFOUND   ; If we reach that limit then the Count didn't match any command in place
.1930e1	84 54		sty $54		                STY CMD_VARIABLE_TMP
.1930e3	a7 48		lda [$48]	                LDA [CMD_PARSER_PTR] ;
.1930e5	c5 42		cmp $42		                CMP CMD_PARSER_TMPY ;
.1930e7	d0 e2		bne $1930cb	                BNE NOTTHERIGHTSIZEMOVEON
.1930e9	20 2a 31	jsr $19312a	                JSR CHECKSYNTAX       ; Now we have found a Command in the list that matches the number of Char, let's see if this is one if we are looking for
.1930ec	b0 dd		bcs $1930cb	                BCS NOTTHERIGHTSIZEMOVEON ; Failed to Find
.1930ee	86 40		stx $40		                STX CMD_PARSER_TMPX   ; Just to make sure, this is where the Pointer in the line buffer is...
.1930f0	c8		iny		                INY   ; Point to after the $00, the next 2 bytes are the Attributes
.1930f1	a9 ff		lda #$ff	                LDA #$FF
.1930f3	85 5d		sta $5d		                STA CMD_VALID
.1930f5	b7 48		lda [$48],y	                LDA [CMD_PARSER_PTR], Y ;
.1930f7	85 4b		sta $4b		                STA CMD_ATTRIBUTE
.1930f9	c8		iny		                INY
.1930fa	b7 48		lda [$48],y	                LDA [CMD_PARSER_PTR], Y
.1930fc	85 4c		sta $4c		                STA CMD_ATTRIBUTE+1
.1930fe	c8		iny		                INY   ; This will point towards the Jumping Vector for the execution of the Command
.1930ff	b7 48		lda [$48],y	                LDA [CMD_PARSER_PTR], Y
.193101	85 4d		sta $4d		                STA CMD_EXEC_ADDY
.193103	c8		iny		                INY
.193104	b7 48		lda [$48],y	                LDA [CMD_PARSER_PTR], Y
.193106	85 4e		sta $4e		                STA CMD_EXEC_ADDY+1
.193108	c8		iny		                INY
.193109	b7 48		lda [$48],y	                LDA [CMD_PARSER_PTR], Y
.19310b	85 4f		sta $4f		                STA CMD_EXEC_ADDY+2
.19310d	a6 4b		ldx $4b		                LDX CMD_ATTRIBUTE
.19310f	e0 00 00	cpx #$0000	                CPX #$0000
.193112	f0 09		beq $19311d	                BEQ NO_ATTRIBUTE_GO_EXEC
.193114	20 43 31	jsr $193143	                JSR PROCESS_ARGUMENTS
.193117	a5 5d		lda $5d		                LDA CMD_VALID
.193119	c9 ff		cmp #$ff	                CMP #$FF
.19311b	f0 0c		beq $193129	                BEQ EXITWITHERROR       ; if Carry Set
.19311d					NO_ATTRIBUTE_GO_EXEC
.19311d	e2 20		sep #$20	                SEP #$20        ; set A short
.19311f	dc 4d 00	jmp [$004d]	                JML [CMD_EXEC_ADDY]
.193122					COMMANDNOTFOUND
.193122	a2 5f 36	ldx #$365f	                LDX #<>CMD_Error_Notfound
.193125	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.193129					EXITWITHERROR
.193129	60		rts		                RTS
.19312a					CHECKSYNTAX
.19312a	a0 01 00	ldy #$0001	                LDY #$0001      ; Point towards the Next Byte after the Size
.19312d	a6 40		ldx $40		                LDX CMD_PARSER_TMPX ; This is the Pointer in the Line Buffer where the First Character ought to be...
.19312f					CHECKSYNTAXNEXTCHAR
.19312f	b7 48		lda [$48],y	                LDA [CMD_PARSER_PTR], Y ;
.193131	c9 00		cmp #$00	                CMP #$00  ; End of Character Check, if we reach that point, then we are on our way to have something happening! Call mom and dad and tell them how they failed to be good parents! Like all parents
.193133	f0 0c		beq $193141	                BEQ SUCCESSFOUNDCOMMAND
.193135	df 00 0f 00	cmp $000f00,x	                CMP @lKEY_BUFFER, X   ;
.193139	d0 04		bne $19313f	                BNE CHARDONTMATCH
.19313b	e8		inx		                INX
.19313c	c8		iny		                INY
.19313d	80 f0		bra $19312f	                BRA CHECKSYNTAXNEXTCHAR
.19313f	38		sec		CHARDONTMATCH   SEC
.193140	60		rts		                RTS
.193141					SUCCESSFOUNDCOMMAND
.193141	18		clc		                CLC
.193142	60		rts		                RTS
.193143					PROCESS_ARGUMENTS
.193143	c2 30		rep #$30	                REP #$30        ; set A&X long
.193145	a6 40		ldx $40		                LDX CMD_PARSER_TMPX ; This is the Pointer after the command
.193147	20 05 32	jsr $193205	                JSR MOVE_POINTER_2_ARG  ; If there is supposed to be a parameter, this will go and fetch the next valid char
.19314a	90 03		bcc $19314f	                BCC ATTRIBUTE_2_PROCESS
.19314c	e2 20		sep #$20	                SEP #$20        ; set A short
.19314e	60		rts		                RTS
.19314f					ATTRIBUTE_2_PROCESS
.19314f	c2 20		rep #$20	                REP #$20        ; set A long
.193151	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.193153	29 01 00	and #$0001	                AND #CMD_ARGTYPE_DEV    ; This is to know, if it is for a Flppy or for the SDCard
.193156	c9 01 00	cmp #$0001	                CMP #CMD_ARGTYPE_DEV
.193159	d0 08		bne $193163	                BNE NOT_CMD_ARGTYPE_DEV ; Device Type @S, @F, @C, @P
.19315b	20 37 32	jsr $193237	                JSR FIND_CMD_ARGTYPE_DEV
.19315e	90 03		bcc $193163	                BCC NOT_CMD_ARGTYPE_DEV
.193160	e2 20		sep #$20	                SEP #$20        ; set A short
.193162	60		rts		                RTS
.193163					NOT_CMD_ARGTYPE_DEV
.193163	c2 20		rep #$20	                REP #$20        ; set A long
.193165	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.193167	29 02 00	and #$0002	                AND #CMD_ARGTYPE_FN
.19316a	c9 02 00	cmp #$0002	                CMP #CMD_ARGTYPE_FN
.19316d	d0 08		bne $193177	                BNE NOT_CMD_ARGTYPE_FN
.19316f	20 56 32	jsr $193256	                JSR FIND_CMD_ARGTYPE_FN ; File Name
.193172	90 03		bcc $193177	                BCC NOT_CMD_ARGTYPE_FN
.193174	e2 20		sep #$20	                SEP #$20        ; set A short
.193176	60		rts		                RTS
.193177					NOT_CMD_ARGTYPE_FN
.193177	c2 20		rep #$20	                REP #$20        ; set A long
.193179	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.19317b	29 04 00	and #$0004	                AND #CMD_ARGTYPE_SA
.19317e	c9 04 00	cmp #$0004	                CMP #CMD_ARGTYPE_SA
.193181	d0 03		bne $193186	                BNE NOT_CMD_ARGTYPE_SA; Starting Address (Source)
.193183	20 7d 32	jsr $19327d	                JSR FIND_CMD_ARGTYPE_SA
.193186					NOT_CMD_ARGTYPE_SA
.193186	c2 20		rep #$20	                REP #$20        ; set A long
.193188	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.19318a	29 08 00	and #$0008	                AND #CMD_ARGTYPE_EA
.19318d	c9 08 00	cmp #$0008	                CMP #CMD_ARGTYPE_EA
.193190	d0 03		bne $193195	                BNE NOT_CMD_ARGTYPE_EA ; Ending Address (Destination)
.193192	20 82 32	jsr $193282	                JSR FIND_CMD_ARGTYPE_EA
.193195					NOT_CMD_ARGTYPE_EA
.193195	c2 20		rep #$20	                REP #$20        ; set A long
.193197	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.193199	29 10 00	and #$0010	                AND #CMD_ARGTYPE_8D
.19319c	c9 10 00	cmp #$0010	                CMP #CMD_ARGTYPE_8D
.19319f	d0 03		bne $1931a4	                BNE NOT_CMD_ARGTYPE_8D
.1931a1	20 87 32	jsr $193287	                JSR FIND_CMD_ARGTYPE_8D ; 8bits Data
.1931a4					NOT_CMD_ARGTYPE_8D
.1931a4	c2 20		rep #$20	                REP #$20        ; set A long
.1931a6	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.1931a8	29 20 00	and #$0020	                AND #CMD_ARGTYPE_16D
.1931ab	c9 20 00	cmp #$0020	                CMP #CMD_ARGTYPE_16D
.1931ae	d0 03		bne $1931b3	                BNE NOT_CMD_ARGTYPE_16D
.1931b0	20 8c 32	jsr $19328c	                JSR FIND_CMD_ARGTYPE_16D; 16bit Data
.1931b3					NOT_CMD_ARGTYPE_16D
.1931b3	c2 20		rep #$20	                REP #$20        ; set A long
.1931b5	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.1931b7	29 40 00	and #$0040	                AND #CMD_ARGTYPE_TIM
.1931ba	c9 40 00	cmp #$0040	                CMP #CMD_ARGTYPE_TIM
.1931bd	d0 03		bne $1931c2	                BNE NOT_CMD_ARGTYPE_TIM
.1931bf	20 91 32	jsr $193291	                JSR FIND_CMD_ARGTYPE_TIM ; Time HH:MM:SS
.1931c2					NOT_CMD_ARGTYPE_TIM
.1931c2	c2 20		rep #$20	                REP #$20        ; set A long
.1931c4	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.1931c6	29 80 00	and #$0080	                AND #CMD_ARGTYPE_DAT
.1931c9	c9 80 00	cmp #$0080	                CMP #CMD_ARGTYPE_DAT
.1931cc	d0 03		bne $1931d1	                BNE NOT_CMD_ARGTYPE_DAT
.1931ce	20 96 32	jsr $193296	                JSR FIND_CMD_ARGTYPE_DAT ; DD/MM/YY, SAT
.1931d1					NOT_CMD_ARGTYPE_DAT
.1931d1	c2 20		rep #$20	                REP #$20        ; set A long
.1931d3	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.1931d5	29 00 01	and #$0100	                AND #CMD_ARGTYPE_RGB
.1931d8	c9 00 01	cmp #$0100	                CMP #CMD_ARGTYPE_RGB
.1931db	d0 03		bne $1931e0	                BNE NOT_CMD_ARGTYPE_RGB ; 24bit Data
.1931dd	20 9b 32	jsr $19329b	                JSR FIND_CMD_ARGTYPE_RGB;
.1931e0					NOT_CMD_ARGTYPE_RGB
.1931e0	c2 20		rep #$20	                REP #$20        ; set A long
.1931e2	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.1931e4	29 00 02	and #$0200	                AND #CMD_ARGTYPE_FN2
.1931e7	c9 00 02	cmp #$0200	                CMP #CMD_ARGTYPE_FN2
.1931ea	d0 03		bne $1931ef	                BNE NOT_CMD_ARGTYPE_FN2 ; Second File Name
.1931ec	20 a0 32	jsr $1932a0	                JSR FIND_CMD_ARGTYPE_FN2
.1931ef					NOT_CMD_ARGTYPE_FN2
.1931ef	c2 20		rep #$20	                REP #$20        ; set A long
.1931f1	a5 4b		lda $4b		                LDA CMD_ATTRIBUTE
.1931f3	29 00 04	and #$0400	                AND #CMD_ARGTYPE_DEC
.1931f6	c9 00 04	cmp #$0400	                CMP #CMD_ARGTYPE_DEC
.1931f9	d0 03		bne $1931fe	                BNE NO_ATTRIBUTE_2_PROCESS
.1931fb	20 a5 32	jsr $1932a5	                JSR FIND_CMD_ARGTYPE_DEC
.1931fe					NO_ATTRIBUTE_2_PROCESS
.1931fe	e2 20		sep #$20	                SEP #$20        ; set A short
.193200	a9 00		lda #$00	                LDA #$00
.193202	85 5d		sta $5d		                STA CMD_VALID
.193204	60		rts		                RTS
.193205					MOVE_POINTER_2_ARG
.193205	e2 20		sep #$20	                SEP #$20        ; set A short
.193207					MOVE_POINTER_2_NEXT_SPACE
.193207	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.19320b	c9 0d		cmp #$0d	                CMP #$0D
.19320d	f0 12		beq $193221	                BEQ ERROR_PARAMETERMISSING
.19320f	c9 20		cmp #$20	                CMP #$20
.193211	d0 08		bne $19321b	                BNE POINTER_POINTING_NOT_A_SPACE_EXIT
.193213	e8		inx		                INX
.193214	e0 30 00	cpx #$0030	                CPX #$0030  ; If the Move Pointer gets
.193217	90 ee		bcc $193207	                BCC MOVE_POINTER_2_NEXT_SPACE
.193219	80 06		bra $193221	                BRA ERROR_PARAMETERMISSING
.19321b					POINTER_POINTING_NOT_A_SPACE_EXIT
.19321b	86 40		stx $40		                STX CMD_PARSER_TMPX
.19321d	c2 20		rep #$20	                REP #$20        ; set A long
.19321f	18		clc		                CLC
.193220	60		rts		                RTS
.193221					ERROR_PARAMETERMISSING
.193221	c2 20		rep #$20	                REP #$20        ; set A long
.193223	a2 f8 35	ldx #$35f8	                LDX #<>CMD_Error_Missing
.193226	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.19322a	38		sec		                SEC
.19322b	60		rts		                RTS
.19322c					ERROR_WRONGDEVICE
.19322c	c2 20		rep #$20	                REP #$20        ; set A long
.19322e	a2 14 36	ldx #$3614	                LDX #<>CMD_Wrong_Device
.193231	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.193235	38		sec		                SEC
.193236	60		rts		                RTS
.193237					FIND_CMD_ARGTYPE_DEV
.193237	e2 20		sep #$20	                SEP #$20        ; set A short
.193239	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.19323d	c9 40		cmp #$40	                CMP #'@'
.19323f	d0 e0		bne $193221	                BNE ERROR_PARAMETERMISSING
.193241	e8		inx		                INX
.193242	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.193246	c9 53		cmp #$53	                CMP #'S'                ; Is it
.193248	f0 04		beq $19324e	                BEQ SDCARD_CHOICE
.19324a	c9 46		cmp #$46	                CMP #'F'
.19324c	d0 de		bne $19322c	                BNE ERROR_WRONGDEVICE
.19324e					SDCARD_CHOICE
.19324e	85 56		sta $56		                STA CMD_ARG_DEV
.193250	86 40		stx $40		                STX CMD_PARSER_TMPX
.193252	18		clc		                CLC
.193253	c2 20		rep #$20	                REP #$20        ; set A long
.193255	60		rts		                RTS
.193256					FIND_CMD_ARGTYPE_FN
.193256	a6 40		ldx $40		                LDX CMD_PARSER_TMPX
.193258	e8		inx		                INX
.193259	20 05 32	jsr $193205	                JSR MOVE_POINTER_2_ARG  ; Check if there is a space after the parameter
.19325c	e2 20		sep #$20	                SEP #$20        ; set A short
.19325e	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.193262	c9 2c		cmp #$2c	                CMP #','
.193264	d0 bb		bne $193221	                BNE ERROR_PARAMETERMISSING
.193266	e8		inx		                INX
.193267	20 05 32	jsr $193205	                JSR MOVE_POINTER_2_ARG  ; Check if there is a space after the parameter
.19326a	e2 20		sep #$20	                SEP #$20        ; set A short
.19326c	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.193270	c9 22		cmp #$22	                CMP #'"'
.193272	d0 ad		bne $193221	                BNE ERROR_PARAMETERMISSING
.193274	e8		inx		                INX
.193275	bf 00 0f 00	lda $000f00,x	                LDA @lKEY_BUFFER, X     ; Fetch the first char
.193279	99 80 03	sta $0380,y	                STA SDOS_FILE_NAME,Y
.19327c	60		rts		                RTS
.19327d					FIND_CMD_ARGTYPE_SA
.19327d	48		pha		                PHA
.19327e	c2 20		rep #$20	                REP #$20        ; set A long
.193280	68		pla		                PLA
.193281	60		rts		                RTS
.193282					FIND_CMD_ARGTYPE_EA
.193282	48		pha		                PHA
.193283	c2 20		rep #$20	                REP #$20        ; set A long
.193285	68		pla		                PLA
.193286	60		rts		                RTS
.193287					FIND_CMD_ARGTYPE_8D
.193287	48		pha		                PHA
.193288	c2 20		rep #$20	                REP #$20        ; set A long
.19328a	68		pla		                PLA
.19328b	60		rts		                RTS
.19328c					FIND_CMD_ARGTYPE_16D
.19328c	48		pha		                PHA
.19328d	c2 20		rep #$20	                REP #$20        ; set A long
.19328f	68		pla		                PLA
.193290	60		rts		                RTS
.193291					FIND_CMD_ARGTYPE_TIM
.193291	48		pha		                PHA
.193292	c2 20		rep #$20	                REP #$20        ; set A long
.193294	68		pla		                PLA
.193295	60		rts		                RTS
.193296					FIND_CMD_ARGTYPE_DAT
.193296	48		pha		                PHA
.193297	c2 20		rep #$20	                REP #$20        ; set A long
.193299	68		pla		                PLA
.19329a	60		rts		                RTS
.19329b					FIND_CMD_ARGTYPE_RGB
.19329b	48		pha		                PHA
.19329c	c2 20		rep #$20	                REP #$20        ; set A long
.19329e	68		pla		                PLA
.19329f	60		rts		                RTS
.1932a0					FIND_CMD_ARGTYPE_FN2
.1932a0	48		pha		                PHA
.1932a1	c2 20		rep #$20	                REP #$20        ; set A long
.1932a3	68		pla		                PLA
.1932a4	60		rts		                RTS
.1932a5					FIND_CMD_ARGTYPE_DEC
.1932a5	48		pha		                PHA
.1932a6	c2 20		rep #$20	                REP #$20        ; set A long
.1932a8	68		pla		                PLA
.1932a9	60		rts		                RTS
.1932aa					ENTRY_CMD_CLS
.1932aa	e2 20		sep #$20	                SEP #$20        ; set A short
.1932ac	c2 10		rep #$10	                REP #$10        ; set X long
.1932ae	a2 00 00	ldx #$0000	              LDX #$0000		; Only Use One Pointer
.1932b1	a9 20		lda #$20	              LDA #$20		; Fill the Entire Screen with Space
.1932b3	9f 00 a0 af	sta $afa000,x	CLEARSCREENL0	STA CS_TEXT_MEM_PTR, x	;
.1932b7	e8		inx		              inx
.1932b8	e0 00 20	cpx #$2000	              cpx #$2000
.1932bb	d0 f6		bne $1932b3	              bne CLEARSCREENL0
.1932bd	a2 00 00	ldx #$0000	              LDX	#$0000		; Only Use One Pointer
.1932c0	a9 ed		lda #$ed	              LDA #$ED		; Fill the Color Memory with Foreground: 75% Purple, Background 12.5% White
.1932c2	9f 00 c0 af	sta $afc000,x	CLEARSCREENL1	STA CS_COLOR_MEM_PTR, x	;
.1932c6	e8		inx		              inx
.1932c7	e0 00 20	cpx #$2000	              cpx #$2000
.1932ca	d0 f6		bne $1932c2	              bne CLEARSCREENL1
.1932cc	a2 00 00	ldx #$0000	              LDX #$0000
.1932cf	86 52		stx $52		              STX KEY_BUFFER_WPOS
.1932d1	86 50		stx $50		              STX KEY_BUFFER_RPOS
.1932d3	a0 00 00	ldy #$0000	              LDY #$0000
.1932d6	22 5c 06 19	jsl $19065c	              JSL ILOCATE
.1932da	60		rts		              RTS
.1932db					ENTRY_CMD_DIR
.1932db	a2 b7 35	ldx #$35b7	              LDX #<>DIR_COMMAND
.1932de	22 73 05 19	jsl $190573	              JSL IPRINT       ; print the first line
.1932e2	af 02 e8 af	lda $afe802	              LDA @lJOYSTICK2
.1932e6	29 80		and #$80	              AND #$80        ; Card Present when 1
.1932e8	d0 18		bne $193302	              BNE SDNOT_PRESENT;
.1932ea	af 03 e8 af	lda $afe803	              LDA @lJOYSTICK3
.1932ee	29 80		and #$80	              AND #$80        ; Card WProtect When 0
.1932f0	f0 07		beq $1932f9	              BEQ SDNOT_WP;
.1932f2	a2 7f 36	ldx #$367f	              LDX #<>CMD_Error_SD_WP
.1932f5	22 73 05 19	jsl $190573	              JSL IPRINT       ; print the first line
.1932f9					SDNOT_WP
.1932f9	22 20 20 19	jsl $192020	              JSL ISDOS_INIT
.1932fd	22 6d 20 19	jsl $19206d	              JSL ISDOS_DIR
.193301	60		rts		              RTS
.193302					SDNOT_PRESENT
.193302	a2 6c 36	ldx #$366c	              LDX #<>CMD_Error_SD_NotPresent
.193305	22 73 05 19	jsl $190573	              JSL IPRINT       ; print the first line
.193309	60		rts		              RTS
.19330a	60		rts		RTS
.19330b					ENTRY_CMD_EXEC
.19330b	a2 c5 35	ldx #$35c5	  LDX #<>EXEC_COMMAND
.19330e	22 73 05 19	jsl $190573	  JSL IPRINT       ; print the first line
.193312	60		rts		RTS
.193313					ENTRY_CMD_LOAD
.193313	a2 df 35	ldx #$35df	LDX #<>LOAD_COMMAND
.193316	22 73 05 19	jsl $190573	JSL IPRINT       ; print the first line
.19331a	60		rts		RTS
.19331b	60		rts		ENTRY_CMD_SAVE RTS
.19331c	60		rts		ENTRY_CMD_PEEK8     RTS
.19331d	60		rts		ENTRY_CMD_POKE8     RTS
.19331e	60		rts		ENTRY_CMD_POKE16    RTS
.19331f	60		rts		ENTRY_CMD_PEEK16    RTS
.193320	60		rts		ENTRY_CMD_RECWAV    RTS
.193321	60		rts		ENTRY_CMD_EXECFNX   RTS
.193322					ENTRY_CMD_GETDATE
.193322	e2 20		sep #$20	                SEP #$20        ; set A short
.193324	af 06 08 af	lda $af0806	              LDA @lRTC_DAY   ; Go Read the Hour Registers
.193328	48		pha		              PHA
.193329	29 30		and #$30	              AND #$30
.19332b	4a		lsr a		              LSR A
.19332c	4a		lsr a		              LSR A
.19332d	4a		lsr a		              LSR A
.19332e	4a		lsr a		              LSR A
.19332f	09 30		ora #$30	              ORA #$30
.193331	22 93 05 19	jsl $190593	              JSL IPUTC
.193335	68		pla		              PLA
.193336	29 0f		and #$0f	              AND #$0F
.193338	09 30		ora #$30	              ORA #$30
.19333a	22 93 05 19	jsl $190593	              JSL IPUTC
.19333e	a9 2f		lda #$2f	              LDA #'/'
.193340	22 93 05 19	jsl $190593	              JSL IPUTC
.193344	af 09 08 af	lda $af0809	              LDA @lRTC_MONTH   ; Go Read the Min Registers
.193348	48		pha		              PHA
.193349	29 10		and #$10	              AND #$10
.19334b	4a		lsr a		              LSR A
.19334c	4a		lsr a		              LSR A
.19334d	4a		lsr a		              LSR A
.19334e	4a		lsr a		              LSR A
.19334f	69 30		adc #$30	              ADC #$30
.193351	22 93 05 19	jsl $190593	              JSL IPUTC
.193355	68		pla		              PLA
.193356	29 0f		and #$0f	              AND #$0F
.193358	09 30		ora #$30	              ORA #$30
.19335a	22 93 05 19	jsl $190593	              JSL IPUTC
.19335e	a9 2f		lda #$2f	              LDA #'/'
.193360	22 93 05 19	jsl $190593	              JSL IPUTC
.193364	af 0a 08 af	lda $af080a	              LDA @lRTC_YEAR   ; Go Read the Sec Registers
.193368	48		pha		              PHA
.193369	29 f0		and #$f0	              AND #$F0
.19336b	4a		lsr a		              LSR A
.19336c	4a		lsr a		              LSR A
.19336d	4a		lsr a		              LSR A
.19336e	4a		lsr a		              LSR A
.19336f	09 30		ora #$30	              ORA #$30
.193371	22 93 05 19	jsl $190593	              JSL IPUTC
.193375	68		pla		              PLA
.193376	29 0f		and #$0f	              AND #$0F
.193378	09 30		ora #$30	              ORA #$30
.19337a	22 93 05 19	jsl $190593	              JSL IPUTC
.19337e	a9 2c		lda #$2c	              LDA #','
.193380	22 93 05 19	jsl $190593	              JSL IPUTC
.193384	af 08 08 af	lda $af0808	              LDA @lRTC_DOW
.193388	3a		dec a		              DEC A
.193389	0a		asl a		              ASL A
.19338a	0a		asl a		              ASL A
.19338b	aa		tax		              TAX
.19338c					GO_PUTC_THE_DOW
.19338c	bf 89 36 19	lda $193689,x	              LDA @lDOW,X
.193390	c9 00		cmp #$00	              CMP #$00
.193392	f0 09		beq $19339d	              BEQ DOW_IPUTC_DONE
.193394	e8		inx		              INX
.193395	da		phx		              PHX
.193396	22 93 05 19	jsl $190593	              JSL IPUTC
.19339a	fa		plx		              PLX
.19339b	80 ef		bra $19338c	              BRA GO_PUTC_THE_DOW
.19339d					DOW_IPUTC_DONE
.19339d	a9 0d		lda #$0d	              LDA #$0D
.19339f	22 93 05 19	jsl $190593	              JSL IPUTC
.1933a3	60		rts		              RTS
.1933a4					ENTRY_CMD_GETTIME
.1933a4	e2 20		sep #$20	                SEP #$20        ; set A short
.1933a6	af 04 08 af	lda $af0804	              LDA @lRTC_HRS   ; Go Read the Hour Registers
.1933aa	48		pha		              PHA
.1933ab	29 30		and #$30	              AND #$30
.1933ad	4a		lsr a		              LSR A
.1933ae	4a		lsr a		              LSR A
.1933af	4a		lsr a		              LSR A
.1933b0	4a		lsr a		              LSR A
.1933b1	09 30		ora #$30	              ORA #$30
.1933b3	22 93 05 19	jsl $190593	              JSL IPUTC
.1933b7	68		pla		              PLA
.1933b8	29 0f		and #$0f	              AND #$0F
.1933ba	09 30		ora #$30	              ORA #$30
.1933bc	22 93 05 19	jsl $190593	              JSL IPUTC
.1933c0	a9 3a		lda #$3a	              LDA #':'
.1933c2	22 93 05 19	jsl $190593	              JSL IPUTC
.1933c6	af 02 08 af	lda $af0802	              LDA @lRTC_MIN   ; Go Read the Min Registers
.1933ca	48		pha		              PHA
.1933cb	29 70		and #$70	              AND #$70
.1933cd	4a		lsr a		              LSR A
.1933ce	4a		lsr a		              LSR A
.1933cf	4a		lsr a		              LSR A
.1933d0	4a		lsr a		              LSR A
.1933d1	69 30		adc #$30	              ADC #$30
.1933d3	22 93 05 19	jsl $190593	              JSL IPUTC
.1933d7	68		pla		              PLA
.1933d8	29 0f		and #$0f	              AND #$0F
.1933da	09 30		ora #$30	              ORA #$30
.1933dc	22 93 05 19	jsl $190593	              JSL IPUTC
.1933e0	a9 3a		lda #$3a	              LDA #':'
.1933e2	22 93 05 19	jsl $190593	              JSL IPUTC
.1933e6	af 00 08 af	lda $af0800	              LDA @lRTC_SEC   ; Go Read the Sec Registers
.1933ea	48		pha		              PHA
.1933eb	29 f0		and #$f0	              AND #$F0
.1933ed	4a		lsr a		              LSR A
.1933ee	4a		lsr a		              LSR A
.1933ef	4a		lsr a		              LSR A
.1933f0	4a		lsr a		              LSR A
.1933f1	09 30		ora #$30	              ORA #$30
.1933f3	22 93 05 19	jsl $190593	              JSL IPUTC
.1933f7	68		pla		              PLA
.1933f8	29 0f		and #$0f	              AND #$0F
.1933fa	09 30		ora #$30	              ORA #$30
.1933fc	22 93 05 19	jsl $190593	              JSL IPUTC
.193400	af 04 08 af	lda $af0804	              LDA @lRTC_HRS
.193404	29 80		and #$80	              AND #$80
.193406	c9 80		cmp #$80	              CMP #$80
.193408	f0 08		beq $193412	              BEQ AMFMCHOICE
.19340a	a9 41		lda #$41	              LDA #'A'
.19340c	22 93 05 19	jsl $190593	              JSL IPUTC
.193410	80 06		bra $193418	              BRA GO_PUTC_THE_M
.193412					AMFMCHOICE
.193412	a9 50		lda #$50	              LDA #'P'
.193414	22 93 05 19	jsl $190593	              JSL IPUTC
.193418					GO_PUTC_THE_M
.193418	a9 4d		lda #$4d	              LDA #'M'
.19341a	22 93 05 19	jsl $190593	              JSL IPUTC
.19341e	a9 0d		lda #$0d	              LDA #$0D
.193420	22 93 05 19	jsl $190593	              JSL IPUTC
.193424	60		rts		RTS
.193425	60		rts		ENTRY_CMD_MONITOR   RTS
.193426	60		rts		ENTRY_CMD_PLAYRAD   RTS
.193427	60		rts		ENTRY_CMD_PLAYWAV   RTS
.193428	60		rts		ENTRY_CMD_SETDATE   RTS
.193429	60		rts		ENTRY_CMD_SETTIME   RTS
.19342a	60		rts		ENTRY_CMD_SYSINFO   RTS
.19342b	60		rts		ENTRY_CMD_DISKCOPY  RTS
.19342c	60		rts		ENTRY_CMD_SETTXTLUT RTS
.19342d					CMD
>19342d	03 43 4c 53 00 00 00 aa		CLS       .text $03, "CLS", $00, CMD_ARGTYPE_NO, ENTRY_CMD_CLS                                        ; Clear Screen
>193435	32 19
>193437	03 44 49 52 00 01 00 db		DIR       .text $03, "DIR", $00, CMD_ARGTYPE_DEV, ENTRY_CMD_DIR                                       ; @F, @S
>19343f	32 19
>193441	04 45 58 45 43 00 04 00		EXEC      .text $04, "EXEC", $00, CMD_ARGTYPE_SA, ENTRY_CMD_EXEC                                        ; EXEC S:$00000
>193449	0b 33 19
>19344c	04 4c 4f 41 44 00 0b 00		LOAD      .text $04, "LOAD", $00, (CMD_ARGTYPE_DEV | CMD_ARGTYPE_FN | CMD_ARGTYPE_EA), ENTRY_CMD_LOAD   ; "LOAD @F, "NAME.XXX", D:$000000
>193454	13 33 19
>193457	04 53 41 56 45 00 0f 00		SAVE      .text $04, "SAVE", $00, (CMD_ARGTYPE_DEV | CMD_ARGTYPE_FN | CMD_ARGTYPE_SA | CMD_ARGTYPE_EA), ENTRY_CMD_SAVE           ; SAVE @F, "NAME.XXX", S:$000000, D:$000000
>19345f	1b 33 19
>193462	06 50 45 45 4b 38 48 00		PEEK8     .text $06, "PEEK8H", $00,  CMD_ARGTYPE_SA, ENTRY_CMD_PEEK8       ; PEEK8 $000000
>19346a	04 00 1c 33 19
>19346f	06 50 4f 4b 45 38 48 00		POKE8     .text $06, "POKE8H", $00, (CMD_ARGTYPE_SA | CMD_ARGTYPE_8D), ENTRY_CMD_POKE8          ; POKE8 $000000, $00
>193477	14 00 1d 33 19
>19347c	06 52 45 43 57 41 56 00		RECWAV    .text $06, "RECWAV", $00, (CMD_ARGTYPE_DEV | CMD_ARGTYPE_FN) , ENTRY_CMD_RECWAV          ; RECWAV @S, "NAME.XXX" (Samples)
>193484	03 00 20 33 19
>193489	07 45 58 45 43 46 4e 58		EXECFNX   .text $07, "EXECFNX", $00, CMD_ARGTYPE_FN, ENTRY_CMD_EXECFNX        ; "EXECFNX "NAME.XXX"
>193491	00 02 00 21 33 19
>193497	07 47 45 54 44 41 54 45		GETDATE   .text $07, "GETDATE", $00, CMD_ARGTYPE_NO, ENTRY_CMD_GETDATE       ; GETDATE
>19349f	00 00 00 22 33 19
>1934a5	07 47 45 54 54 49 4d 45		GETTIME   .text $07, "GETTIME", $00, CMD_ARGTYPE_NO, ENTRY_CMD_GETTIME        ; GETTIME
>1934ad	00 00 00 a4 33 19
>1934b3	07 4d 4f 4e 49 54 4f 52		MONITOR   .text $07, "MONITOR", $00, CMD_ARGTYPE_NO, ENTRY_CMD_MONITOR       ; MONITOR TBD
>1934bb	00 00 00 25 34 19
>1934c1	07 50 4c 41 59 52 41 44		PLAYRAD   .text $07, "PLAYRAD", $00, (CMD_ARGTYPE_DEV | CMD_ARGTYPE_FN), ENTRY_CMD_PLAYRAD        ; PLAYRAD @S, "NAME.XXX" (music File)
>1934c9	00 03 00 26 34 19
>1934cf	07 50 4c 41 59 57 41 56		PLAYWAV   .text $07, "PLAYWAV", $00, (CMD_ARGTYPE_DEV | CMD_ARGTYPE_FN), ENTRY_CMD_PLAYWAV                ; PLAYWAV @S, "NAME.XXX" (samples)
>1934d7	00 03 00 27 34 19
>1934dd	07 50 45 45 4b 31 36 48		PEEK16    .text $07, "PEEK16H", $00, CMD_ARGTYPE_SA, ENTRY_CMD_POKE16, ENTRY_CMD_PEEK16        ; PEEK16 $000000
>1934e5	00 04 00 1e 33 19 1f 33 19
>1934ee	07 50 4f 4b 45 31 36 48		POKE16    .text $07, "POKE16H", $00, (CMD_ARGTYPE_SA | CMD_ARGTYPE_16D), ENTRY_CMD_POKE16           ; POKE16 $000000, $0000
>1934f6	00 24 00 1e 33 19
>1934fc	07 53 45 54 44 41 54 45		SETDATE   .text $07, "SETDATE", $00, CMD_ARGTYPE_DAT, ENTRY_CMD_SETDATE      ; SETDATE YY:MM:DD
>193504	00 80 00 28 34 19
>19350a	07 53 45 54 54 49 4d 45		SETTIME   .text $07, "SETTIME", $00, CMD_ARGTYPE_TIM, ENTRY_CMD_SETTIME       ; SETTIME HH:MM:SS
>193512	00 40 00 29 34 19
>193518	04 53 59 53 49 4e 46 4f		SYSINFO   .text $04, "SYSINFO", $00, CMD_ARGTYPE_NO, ENTRY_CMD_SYSINFO
>193520	00 00 00 2a 34 19
>193526	08 44 49 53 4b 43 4f 50		DISKCOPY  .text $08, "DISKCOPY", $00, CMD_ARGTYPE_DEV, CMD_ARGTYPE_DEV, ENTRY_CMD_DISKCOPY           ; DISKCOPY @F, @F
>19352e	59 00 01 00 01 00 2b 34 19
>193537	08 46 49 4c 45 43 4f 50		FILECOPY  .text $08, "FILECOPY", $00, (CMD_ARGTYPE_FN | CMD_ARGTYPE_FN2)
>19353f	59 00 02 02
>193543	08 53 45 54 42 47 43 4c		SETBGCLR  .text $08, "SETBGCLR", $00, CMD_ARGTYPE_DEC
>19354b	52 00 00 04
>19354f	08 53 45 54 46 47 43 4c		SETFGCLR  .text $08, "SETFGCLR", $00, CMD_ARGTYPE_DEC
>193557	52 00 00 04
>19355b	09 53 45 54 54 58 54 4c		SETTXTLUT .text $09, "SETTXTLUT", $00, (CMD_ARGTYPE_DAT | CMD_ARGTYPE_RGB), ENTRY_CMD_SETTXTLUT        ; SETLUT $00, $000000
>193563	55 54 00 80 01 2c 34 19
>19356b	09 53 45 54 42 52 44 43		SETBRDCLR .text $09, "SETBRDCLR", $00, CMD_ARGTYPE_RGB
>193573	4c 52 00 00 01
>193578	2d 34 19 37 34 19 41 34		CMDListPtr .long CMD.CLS, CMD.DIR, CMD.EXEC, CMD.LOAD, CMD.SAVE, CMD.PEEK8, CMD.POKE8, CMD.PEEK16, CMD.POKE16, CMD.RECWAV, CMD.EXECFNX, CMD.GETDATE, CMD.GETTIME, CMD.MONITOR, CMD.PLAYRAD, CMD.PLAYWAV, CMD.SETDATE, CMD.SETTIME, CMD.SYSINFO, CMD.DISKCOPY, CMD.SETTXTLUT
>193580	19 4c 34 19 57 34 19 62 34 19 6f 34 19 dd 34 19
>193590	ee 34 19 7c 34 19 89 34 19 97 34 19 a5 34 19 b3
>1935a0	34 19 c1 34 19 cf 34 19 fc 34 19 0a 35 19 18 35
>1935b0	19 26 35 19 5b 35 19
=$0000					CMD_ARGTYPE_NO    = $0000 ; No Argument
=$0001					CMD_ARGTYPE_DEV   = $0001 ; Device Type @S, @F
=$0002					CMD_ARGTYPE_FN    = $0002 ; File Name
=$0004					CMD_ARGTYPE_SA    = $0004 ; Starting Address (Source)
=$0008					CMD_ARGTYPE_EA    = $0008 ; Ending Address (Destination)
=$0010					CMD_ARGTYPE_8D    = $0010 ; 8bits Data
=$0020					CMD_ARGTYPE_16D   = $0020 ; 16bits Data
=$0040					CMD_ARGTYPE_TIM   = $0040 ; Time
=$0080					CMD_ARGTYPE_DAT   = $0080 ; Date
=$0100					CMD_ARGTYPE_RGB   = $0100 ; RGB Data (24Bit Data) for LUT mainly
=$0200					CMD_ARGTYPE_FN2   = $0200 ; Second File name
=$0400					CMD_ARGTYPE_DEC   = $0400 ; Decimal value
>1935b7	0d 40 53 44 43 41 52 44		DIR_COMMAND .text $0D, "@SDCARD:", $00
>1935bf	3a 00
>1935c1	43 4c 53 00			CLS_COMMAND .text "CLS", $00
>1935c5	45 58 45 43 20 43 6f 6d		EXEC_COMMAND .text "EXEC Command Executing...", $00
>1935cd	6d 61 6e 64 20 45 78 65 63 75 74 69 6e 67 2e 2e
>1935dd	2e 00
>1935df	4c 4f 41 44 00			LOAD_COMMAND .text "LOAD", $00
>1935e4	45 30 30 30 20 2d 20 53		CMD_Error_Syntax  .text "E000 - SYNTAX ERROR", $00
>1935ec	59 4e 54 41 58 20 45 52 52 4f 52 00
>1935f8	45 30 30 31 20 2d 20 4d		CMD_Error_Missing .text "E001 - MISSING PARAMETER(S)", $00
>193600	49 53 53 49 4e 47 20 50 41 52 41 4d 45 54 45 52
>193610	28 53 29 00
>193614	45 30 30 32 20 2d 20 4e		CMD_Wrong_Device  .text "E002 - NO SUCH DEVICE EXISTS", $00
>19361c	4f 20 53 55 43 48 20 44 45 56 49 43 45 20 45 58
>19362c	49 53 54 53 00
>193631	57 72 6f 6e 67 20 50 61		CMD_Error_Wrong   .text "Wrong Parameters...", $00
>193639	72 61 6d 65 74 65 72 73 2e 2e 2e 00
>193645	45 30 30 34 20 42 55 46		CMD_Error_Overrun .text "E004 BUFFER OVERRUN ERROR", $00
>19364d	46 45 52 20 4f 56 45 52 52 55 4e 20 45 52 52 4f
>19365d	52 00
>19365f	53 59 4e 54 41 58 20 45		CMD_Error_Notfound .text "SYNTAX ERROR", $00
>193667	52 52 4f 52 00
>19366c	53 44 43 41 52 44 20 4e		CMD_Error_SD_NotPresent .text "SDCARD NOT PRESENT", $00
>193674	4f 54 20 50 52 45 53 45 4e 54 00
>19367f	53 44 43 41 52 44 20 57		CMD_Error_SD_WP .text "SDCARD WP", $00
>193687	50 00
>193689	53 55 4e 00 4d 4f 4e 00		DOW      .text "SUN", $00, "MON", $00, "TUE", $00, "WED", $00, "THU", $00, "FRI", $00, "SAT", $00
>193691	54 55 45 00 57 45 44 00 54 48 55 00 46 52 49 00
>1936a1	53 41 54 00

;******  Return to file: kernel.asm


;******  Processing file: monitor.asm

.195000	5c 5c 50 19	jmp $19505c	MONITOR         JML IMONITOR
.195004	5c 8a 50 19	jmp $19508a	MSTATUS         JML IMSTATUS
.195008	5c 68 50 19	jmp $195068	MREADY          JML IMREADY
.19500c	5c 35 51 19	jmp $195135	MRETURN         JML IMRETURN
.195010	5c 36 51 19	jmp $195136	MPARSE          JML IMPARSE
.195014	5c 37 51 19	jmp $195137	MPARSE1         JML IMPARSE1
.195018	5c 38 51 19	jmp $195138	MEXECUTE        JML IMEXECUTE
.19501c	5c 39 51 19	jmp $195139	MASSEMBLE       JML IMASSEMBLE
.195020	5c 3a 51 19	jmp $19513a	MASSEMBLEA      JML IMASSEMBLEA
.195024	5c 3b 51 19	jmp $19513b	MCOMPARE        JML IMCOMPARE
.195028	5c 3c 51 19	jmp $19513c	MDISASSEMBLE    JML IMDISASSEMBLE
.19502c	5c 3d 51 19	jmp $19513d	MFILL           JML IMFILL
.195030	5c 3f 51 19	jmp $19513f	MJUMP           JML IMJUMP
.195034	5c 40 51 19	jmp $195140	MHUNT           JML IMHUNT
.195038	5c 41 51 19	jmp $195141	MLOAD           JML IMLOAD
.19503c	5c 42 51 19	jmp $195142	MMEMORY         JML IMMEMORY
.195040	5c 43 51 19	jmp $195143	MREGISTERS      JML IMREGISTERS
.195044	5c 44 51 19	jmp $195144	MSAVE           JML IMSAVE
.195048	5c 45 51 19	jmp $195145	MTRANSFER       JML IMTRANSFER
.19504c	5c 46 51 19	jmp $195146	MVERIFY         JML IMVERIFY
.195050	5c 47 51 19	jmp $195147	MEXIT           JML IMEXIT
.195054	5c 48 51 19	jmp $195148	MMODIFY         JML IMMODIFY
.195058	5c 49 51 19	jmp $195149	MDOS            JML IMDOS
.19505c	18		clc		IMONITOR        CLC           ; clear the carry flag
.19505d	fb		xce		                XCE           ; move carry to emulation flag.
.19505e	c2 20		rep #$20	                REP #$20        ; set A long
.195060	a9 ff fe	lda #$feff	                LDA #STACK_END ; Reset the stack
.195063	1b		tcs		                TAS
.195064	5c 68 50 19	jmp $195068	                JML IMREADY
.195068					IMREADY
.195068	c2 30		rep #$30	                REP #$30        ; set A&X long
.19506a	a9 68 50	lda #$5068	                LDA #<>IMREADY
.19506d	8d e1 ff	sta $ffe1	                STA JMP_READY+1
.195070	e2 20		sep #$20	                SEP #$20        ; set A short
.195072	a9 19		lda #$19	                LDA #`IMREADY
.195074	8d e3 ff	sta $ffe3	                STA JMP_READY+3
.195077	c2 20		rep #$20	                REP #$20        ; set A long
.195079	a9 35 51	lda #$5135	                LDA #<>IMRETURN
.19507c	8d f1 ff	sta $fff1	                STA RETURN+1
.19507f	e2 20		sep #$20	                SEP #$20        ; set A short
.195081	a9 19		lda #$19	                LDA #`IMRETURN
.195083	8d f3 ff	sta $fff3	                STA RETURN+3
.195086	5c 8a 50 19	jmp $19508a	                JML IMSTATUS
.19508a					IMSTATUS
.19508a	48		pha		                PHA             ; begin setdbr macro
.19508b	08		php		                PHP
.19508c	e2 20		sep #$20	                SEP #$20        ; set A short
.19508e	a9 19		lda #$19		LDA #`mregisters_msg
.195090	48		pha		                PHA
.195091	ab		plb		                PLB
.195092	28		plp		                PLP
.195093	68		pla		                PLA             ; end setdbr macro
.195094	a2 4a 51	ldx #$514a	                LDX #<>mregisters_msg
.195097	22 73 05 19	jsl $190573	                JSL IPRINT
.19509b	e2 20		sep #$20	                SEP #$20        ; set A short
.19509d	a9 3b		lda #$3b	                LDA #';'
.19509f	22 93 05 19	jsl $190593	                JSL IPUTC
.1950a3	c2 30		rep #$30	                REP #$30        ; set A&X long
.1950a5	48		pha		                PHA             ; begin setdbr macro
.1950a6	08		php		                PHP
.1950a7	e2 20		sep #$20	                SEP #$20        ; set A short
.1950a9	a9 00		lda #$00		LDA #$0
.1950ab	48		pha		                PHA
.1950ac	ab		plb		                PLB
.1950ad	28		plp		                PLP
.1950ae	68		pla		                PLA             ; end setdbr macro
.1950af	a0 03 00	ldy #$0003	                LDY #3
.1950b2	a2 42 02	ldx #$0242	                LDX #CPUPC+2
.1950b5	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.1950b9	a5 20		lda $20		                LDA ' '
.1950bb	22 93 05 19	jsl $190593	                JSL IPUTC
.1950bf	a0 02 00	ldy #$0002	                LDY #2
.1950c2	a2 45 02	ldx #$0245	                LDX #CPUA+1
.1950c5	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.1950c9	a5 20		lda $20		                LDA ' '
.1950cb	22 93 05 19	jsl $190593	                JSL IPUTC
.1950cf	a0 02 00	ldy #$0002	                LDY #2
.1950d2	a2 47 02	ldx #$0247	                LDX #CPUX+1
.1950d5	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.1950d9	a5 20		lda $20		                LDA ' '
.1950db	22 93 05 19	jsl $190593	                JSL IPUTC
.1950df	a0 02 00	ldy #$0002	                LDY #2
.1950e2	a2 49 02	ldx #$0249	                LDX #CPUY+1
.1950e5	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.1950e9	a5 20		lda $20		                LDA ' '
.1950eb	22 93 05 19	jsl $190593	                JSL IPUTC
.1950ef	a0 02 00	ldy #$0002	                LDY #2
.1950f2	a2 4b 02	ldx #$024b	                LDX #CPUSTACK+1
.1950f5	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.1950f9	a5 20		lda $20		                LDA ' '
.1950fb	22 93 05 19	jsl $190593	                JSL IPUTC
.1950ff	a0 01 00	ldy #$0001	                LDY #1
.195102	a2 4e 02	ldx #$024e	                LDX #CPUDBR
.195105	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.195109	a5 20		lda $20		                LDA ' '
.19510b	22 93 05 19	jsl $190593	                JSL IPUTC
.19510f	22 93 05 19	jsl $190593	                JSL IPUTC
.195113	a0 02 00	ldy #$0002	                LDY #2
.195116	a2 4d 02	ldx #$024d	                LDX #CPUDP+1
.195119	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.19511d	a5 20		lda $20		                LDA ' '
.19511f	22 93 05 19	jsl $190593	                JSL IPUTC
.195123	a0 01 00	ldy #$0001	                LDY #1
.195126	a2 4f 02	ldx #$024f	                LDX #CPUFLAGS
.195129	22 ac 06 19	jsl $1906ac	                JSL IPRINTH
.19512d	22 c1 05 19	jsl $1905c1	                JSL IPRINTCR
.195131	5c 61 05 19	jmp $190561	                JML IREADYWAIT
.195135	6b		rtl		IMRETURN        RTL ; Handle RETURN key (ie: execute command)
.195136	00		brk #		IMPARSE         BRK ; Parse the current command line
.195137	00		brk #		IMPARSE1        BRK ; Parse one word on the current command line
.195138	00		brk #		IMEXECUTE       BRK ; Execute the current command line (requires MCMD and MARG1-MARG8 to be populated)
.195139	00		brk #		IMASSEMBLE      BRK ; Assemble a line of text.
.19513a	00		brk #		IMASSEMBLEA     BRK ; Assemble a line of text.
.19513b	00		brk #		IMCOMPARE       BRK ; Compare memory. len=1
.19513c	00		brk #		IMDISASSEMBLE   BRK ; Disassemble memory. end=1 instruction
.19513d	00		brk #		IMFILL          BRK ; Fill memory with specified value. Start and end must be in the same bank.
.19513e	00		brk #		IMGO            BRK ; Execute from specified address
.19513f	00		brk #		IMJUMP          BRK ; Execute from spefified address
.195140	00		brk #		IMHUNT          BRK ; Hunt (find) value in memory
.195141	00		brk #		IMLOAD          BRK ; Load data from disk. Device=1 (internal floppy) Start=Address in file
.195142	00		brk #		IMMEMORY        BRK ; View memory
.195143	00		brk #		IMREGISTERS     BRK ; View/edit registers
.195144	00		brk #		IMSAVE          BRK ; Save memory to disk
.195145	00		brk #		IMTRANSFER      BRK ; Transfer (copy) data in memory
.195146	00		brk #		IMVERIFY        BRK ; Verify memory and file on disk
.195147	00		brk #		IMEXIT          BRK ; Exit monitor and return to BASIC command prompt
.195148	00		brk #		IMMODIFY        BRK ; Modify memory
.195149	00		brk #		IMDOS           BRK ; Execute DOS command
.19514a					MMESSAGES
>19514a					MMERROR         .text
>19514a	0d 20 50 43 20 20 20 20		mregisters_msg  .null $0D," PC     A    X    Y    SP   DBR DP   NVMXDIZC"
>195152	20 41 20 20 20 20 58 20 20 20 20 59 20 20 20 20
>195162	53 50 20 20 20 44 42 52 20 44 50 20 20 20 4e 56
>195172	4d 58 44 49 5a 43 00

;******  Return to file: kernel.asm


;******  Processing file: SDOS.asm


;******  Processing file: ch376s_inc.asm

=$00					DEF_NULL_CHAR       = $00
=$2a					DEF_WILDCARD_CHAR   = $2A
=$5c					DEF_SEPAR_CHAR1     = $5C
=$2f					DEF_SEPAR_CHAR2     = $2F
=$0a					CH_CMD_RD_VAR8        = $0A     ; Read 8Bit Value
=$0b					CH_CMD_WR_VAR8        = $0B     ; Write 8Bit Value to controller
=$0c					CH_CMD_RD_VAR32       = $0C     ; Read 32Bit Value
=$0d					CH_CMD_WR_VAR32       = $0D
=$15					CH_CMD_SET_MODE       = $15     ; Set the Controller's mode, in our Case in SDCARD
=$22					CH_CMD_GET_STATUS     = $22     ; Get Interrupt Status
=$27					CH_CMD_RD_DATA0       = $27     ;
=$2f					CH_CMD_SET_FILENAME   = $2F     ;SET_FILE_NAME
=$31					CH_CMD_DISK_MOUNT     = $31     ;DISK_MOUNT
=$32					CH_CMD_FILE_OPEN      = $32     ;FILE_OPEN
=$33					CH_CMD_FILE_ENUM_GO   = $33
=$36					CH_CMD_FILE_CLOSE     = $36     ; To be Implemented
=$39					CH_CMD_BYTE_LOCATE    = $39
=$3a					CH_CMD_BYTE_READ      = $3A
=$3b					CH_CMD_BYTE_RD_GO     = $3B
=$3c					CH_CMD_BYTE_WRITE     = $3C
=$3d					CH_CMD_BYTE_WR_GO     = $3D
=$44					CH_VAR_DISK_ROOT		  = $44
=$48					CH_VAR_DSK_TOTAL_CLUS	= $48
=$4c					CH_VAR_DSK_START_LBA	= $4C
=$50					CH_VAR_DSK_DAT_START	= $50
=$54					CH_VAR_LBA_BUFFER		  = $54
=$58					CH_VAR_LBA_CURRENT		= $58
=$5c					CH_VAR_FAT_DIR_LBA		= $5C
=$60					CH_VAR_START_CLUSTER	= $60
=$64					CH_VAR_CURRENT_CLUST	= $64
=$68					CH_VAR_FILE_SIZE		  = $68
=$6c					CH_VAR_CURRENT_OFFSET	= $6C
=$14					CH376S_STAT_SUCCESS  = $14
=$17					CH376S_STAT_BUF_OVF  = $17
=$1d					CH376S_STAT_DSK_RD   = $1D
=$1e					CH376S_STAT_DSK_WR   = $1E
=$41					CH376S_ERR_OPEN_DIR  = $41
=$42					CH376S_ERR_MISS_FIL  = $42
=$43					CH376S_ERR_FND_NAME  = $43
=$82					CH376S_ERR_DISK_DSC  = $82
=$84					CH376S_ERR_LRG_SEC   = $84
=$92					CH376S_ERR_PARTTION  = $92
=$a1					CH376S_ERR_NOT_FORM  = $A1
=$b1					CH376S_ERR_DSK_FULL  = $B1
=$b2					CH376S_FDT_OVER      = $B2
=$b4					CH376S_FILE_CLOSED   = $B4
=$00					SDCARD_PRSNT_NO_CARD = $00
=$01					SDCARD_PRSNT_CD      = $01
=$02					SDCARD_PRSNT_WP      = $02
=$04					SDCARD_PRSNT_MNTED   = $04  ; Card is present and Mounted1

;******  Return to file: SDOS.asm

.192000	5c d2 21 19	jmp $1921d2	SDOS_CHECK_CD JML ISDOS_CHK_CD ; Check if Card is Present
.192004	5c e1 21 19	jmp $1921e1	SDOS_CHECK_WP JML ISDOS_CHK_WP ; Check if Card is Write Protected
.192008	5c 20 20 19	jmp $192020	SDOS_INIT     JML ISDOS_INIT
.19200c	5c 6d 20 19	jmp $19206d	SDOS_DIR      JML ISDOS_DIR
.192010	5c 27 21 19	jmp $192127	SDOS_CHDIR    JML ISDOS_CHDIR
.192014	5c 28 21 19	jmp $192128	SDOS_LOAD     JML ISDOS_LOAD
.192018	5c 2c 21 19	jmp $19212c	SDOS_SAVE     JML ISDOS_SAVE
.19201c	5c 2d 21 19	jmp $19212d	SDOS_EXEC     JML ISDOS_EXEC
.192020					ISDOS_INIT
.192020	e2 20		sep #$20	                SEP #$20        ; set A short
.192022	af 41 01 00	lda $000141	              LDA @lINT_PENDING_REG1  ; Read the Pending Register &
.192026	29 7f		and #$7f	              AND #~FNX1_INT07_SDCARD   ; Enable
.192028	8f 41 01 00	sta $000141	              STA @lINT_PENDING_REG1
.19202c	a9 06		lda #$06	              LDA #$06
.19202e	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD
.192032	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.192035	a9 a8		lda #$a8	              LDA #$A8
.192037	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA
.19203b	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.19203e	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.192041	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.192044	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA
.192048	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.19204b	a9 15		lda #$15	              LDA #CH_CMD_SET_MODE
.19204d	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD
.192051	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.192054	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.192057	a9 03		lda #$03	              LDA #$03            ; Mode 3 - SDCARD
.192059	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA     ; Write the MODE and Wait for around ~10us
.19205d					ISDOS_WAIT_FOR_MODE_SW
.19205d	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA ; Wait 0.6us
.192060	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA
.192064	c9 51		cmp #$51	              CMP #$51   ; CMD_RET_SUCCESS		EQU		051H, CMD_RET_ABORT		EQU		05FH
.192066	d0 f5		bne $19205d	              BNE ISDOS_WAIT_FOR_MODE_SW
.192068	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA     ; See the Status Output
.19206c	6b		rtl		              RTL
.19206d					ISDOS_DIR
.19206d	e2 20		sep #$20	                SEP #$20        ; set A short
.19206f	c2 10		rep #$10	                REP #$10        ; set X long
.192071	20 2e 21	jsr $19212e	              JSR ISDOS_MOUNT_CARD;     First to See if the Card is Present
.192074	a2 00 00	ldx #$0000	              LDX #$0000
.192077					ISDOS_DIR_TRF
.192077	bf c4 23 19	lda $1923c4,x	              LDA sd_card_dir_string,X    ; /
.19207b	9f 80 03 00	sta $000380,x	              STA @lSDOS_FILE_NAME,X
.19207f	e8		inx		              INX
.192080	e0 03 00	cpx #$0003	              CPX #$0003
.192083	d0 f2		bne $192077	              BNE ISDOS_DIR_TRF
.192085	20 63 21	jsr $192163	              JSR SDOS_FILE_OPEN         ; Now that the file name is set, go open File
.192088	c9 1d		cmp #$1d	              CMP #CH376S_STAT_DSK_RD
.19208a	f0 03		beq $19208f	              BEQ ISDOS_DIR_CONT0
.19208c	82 80 00	brl $19210f	              BRL ISDOS_MISS_FILE
.19208f					ISDOS_DIR_CONT0
.19208f					ISDOS_NEXT_ENTRY
.19208f	a9 27		lda #$27	              LDA #CH_CMD_RD_DATA0
.192091	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD
.192095	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA;
.192098	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA  ;  Load First Data
.19209c	a0 00 00	ldy #$0000	              LDY #$0000
.19209f	a2 00 00	ldx #$0000	              LDX #$0000
.1920a2	a8		tay		              TAY              ; GET Size (Save in Case we need it)
.1920a3					ISDOS_DIR_GET_CHAR
.1920a3	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA ; Wait 0.6us
.1920a6	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA  ;
.1920aa	22 93 05 19	jsl $190593	              JSL IPUTC        ; Print the character
.1920ae	e8		inx		              INX
.1920af	e0 08 00	cpx #$0008	              CPX #$0008
.1920b2	d0 03		bne $1920b7	              BNE ISDOS_DIR_CONT1
.1920b4	20 20 21	jsr $192120	              JSR ISDOS_DISPLAY_DOT
.1920b7					ISDOS_DIR_CONT1
.1920b7	e0 0b 00	cpx #$000b	              CPX #$000B          ; the First 11th Character is the file name
.1920ba	d0 e7		bne $1920a3	              BNE ISDOS_DIR_GET_CHAR
.1920bc	a9 20		lda #$20	              LDA #$20
.1920be	22 93 05 19	jsl $190593	              JSL IPUTC        ; Print the character
.1920c2	a9 28		lda #$28	              LDA #'('
.1920c4	22 93 05 19	jsl $190593	              JSL IPUTC        ; Print the character
.1920c8	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA  ;
.1920cc	29 10		and #$10	              AND #$10
.1920ce	c9 10		cmp #$10	              CMP #$10
.1920d0	f0 04		beq $1920d6	              BEQ ISDOS_DIR_ATTR0
.1920d2	a9 46		lda #$46	              LDA #'F'
.1920d4	80 02		bra $1920d8	              BRA ISDOS_DIR_ATTR1
.1920d6					ISDOS_DIR_ATTR0
.1920d6	a9 44		lda #$44	              LDA #'D'
.1920d8					ISDOS_DIR_ATTR1
.1920d8	22 93 05 19	jsl $190593	              JSL IPUTC        ; Print the character
.1920dc	a9 29		lda #$29	              LDA #')'
.1920de	22 93 05 19	jsl $190593	              JSL IPUTC        ; Print the character
.1920e2	a9 0d		lda #$0d	              LDA #$0D         ; Carriage Return
.1920e4	22 93 05 19	jsl $190593	              JSL IPUTC        ; Print the character
.1920e8					ISDOS_DIR_GET_CHAR_FINISH
.1920e8	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA ; Wait 0.6us
.1920eb	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA  ; After the name Just empty the buffer
.1920ef	e8		inx		              INX
.1920f0	e0 20 00	cpx #$0020	              CPX #$0020
.1920f3	d0 f3		bne $1920e8	              BNE ISDOS_DIR_GET_CHAR_FINISH
.1920f5	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.1920f8	a9 33		lda #$33	              LDA #CH_CMD_FILE_ENUM_GO
.1920fa	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD
.1920fe	20 ae 21	jsr $1921ae	              JSR SDCARD_WAIT_4_INT       ; Go Wait for Interrupt
.192101	c9 1d		cmp #$1d	              CMP #CH376S_STAT_DSK_RD
.192103	f0 8a		beq $19208f	              BEQ ISDOS_NEXT_ENTRY
.192105	c9 42		cmp #$42	              CMP #CH376S_ERR_MISS_FIL
.192107	d0 06		bne $19210f	              BNE  ISDOS_MISS_FILE
.192109	a2 4f 24	ldx #$244f	              LDX #<>sd_card_msg5   ; End of File
.19210c	82 09 00	brl $192118	              BRL ISDOS_DIR_DONE
.19210f					ISDOS_MISS_FILE
.19210f	a2 da 23	ldx #$23da	              LDX #<>sd_card_err0
.192112	82 03 00	brl $192118	              BRL ISDOS_DIR_DONE
.192115					NO_SDCARD_PRESENT
.192115	a2 c7 23	ldx #$23c7	              LDX #<>sd_no_card_msg
.192118					ISDOS_DIR_DONE
.192118	22 73 05 19	jsl $190573	              JSL IPRINT       ; print the first line
.19211c	20 73 21	jsr $192173	              JSR SDOS_FILE_CLOSE
.19211f	6b		rtl		              RTL;
.192120					ISDOS_DISPLAY_DOT
.192120	a9 2e		lda #$2e	              LDA #'.'
.192122	22 93 05 19	jsl $190593	              JSL IPUTC        ; Print the character
.192126	60		rts		              RTS;
.192127	00		brk #		ISDOS_CHDIR   BRK;
.192128					ISDOS_LOAD
.192128	20 4f 22	jsr $19224f	              JSR SDOS_READ_FILE;
.19212b	6b		rtl		              RTL;
.19212c	00		brk #		ISDOS_SAVE    BRK;
.19212d	00		brk #		ISDOS_EXEC    BRK;
.19212e					ISDOS_MOUNT_CARD
.19212e	e2 20		sep #$20	                SEP #$20        ; set A short
.192130	c2 10		rep #$10	                REP #$10        ; set X long
.192132	a0 00 00	ldy #$0000	              LDY #$0000
.192135	a9 01		lda #$01	              LDA #$01
.192137	85 3f		sta $3f		              STA SDCARD_PRSNT_MNT        ; Bit[0] = Card Present
.192139					TRY_MOUNT_AGAIN
.192139	a9 31		lda #$31	              LDA #CH_CMD_DISK_MOUNT      ; If Present, go Mount it.
.19213b	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD              ;
.19213f	20 ae 21	jsr $1921ae	              JSR SDCARD_WAIT_4_INT       ;
.192142	c9 14		cmp #$14	              CMP #CH376S_STAT_SUCCESS    ;
.192144	f0 09		beq $19214f	              BEQ ISDOS_MOUNTED
.192146	c8		iny		              INY
.192147	c0 05 00	cpy #$0005	              CPY #$0005
.19214a	d0 ed		bne $192139	              BNE TRY_MOUNT_AGAIN
.19214c	4c 56 21	jmp $192156	              JMP SDCARD_ERROR_MOUNT
.19214f					ISDOS_MOUNTED
.19214f	a5 3f		lda $3f		              LDA SDCARD_PRSNT_MNT
.192151	29 fb		and #$fb	              AND #~SDCARD_PRSNT_MNTED
.192153	09 04		ora #$04	              ORA #SDCARD_PRSNT_MNTED     ; Set Bit to Indicate that is mounted
.192155	60		rts		              RTS
.192156					SDCARD_ERROR_MOUNT
.192156	a2 2a 24	ldx #$242a	              LDX #<>sd_card_msg3         ; Print Screen the Message "Card Detected"
.192159	22 73 05 19	jsl $190573	              JSL IPRINT       ; print the first line
.19215d	60		rts		              RTS
.19215e	a9 00		lda #$00	ISDOS_NO_CARD LDA #SDCARD_PRSNT_NO_CARD
.192160	85 3f		sta $3f		              STA SDCARD_PRSNT_MNT
.192162	60		rts		              RTS
.192163					SDOS_FILE_OPEN
.192163	20 86 21	jsr $192186	              JSR SDOS_SET_FILE_NAME ; Make Sure the Pointer to the File Name is properly
.192166	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.192169	a9 32		lda #$32	              LDA #CH_CMD_FILE_OPEN ;
.19216b	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD          ; Go Request to open the File
.19216f	20 ae 21	jsr $1921ae	              JSR SDCARD_WAIT_4_INT   ; A Interrupt is Generated, so go polling it
.192172	60		rts		              RTS
.192173					SDOS_FILE_CLOSE
.192173	a9 36		lda #$36	              LDA #CH_CMD_FILE_CLOSE ;
.192175	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD          ; Go Request to open the File
.192179	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.19217c	a9 00		lda #$00	              LDA #$00                ; FALSE
.19217e	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA         ; Store into the Data Register of the CH376s
.192182	20 ae 21	jsr $1921ae	              JSR SDCARD_WAIT_4_INT   ; A Interrupt is Generated, so go polling it
.192185	60		rts		              RTS
.192186					SDOS_SET_FILE_NAME
.192186	a9 2f		lda #$2f	              LDA #CH_CMD_SET_FILENAME
.192188	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD
.19218c	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.19218f	a2 00 00	ldx #$0000	              LDX #$0000
.192192					SDOS_SET_FILE_LOOP
.192192	bf 80 03 00	lda $000380,x	              LDA @lSDOS_FILE_NAME, X   ; This is where the FileName ought to be.
.192196	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA         ; Store into the Data Register of the CH376s
.19219a	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.19219d	e8		inx		              INX
.19219e	c9 00		cmp #$00	              CMP #$00              ; Check end of Line
.1921a0	d0 f0		bne $192192	              BNE SDOS_SET_FILE_LOOP
.1921a2	60		rts		              RTS
.1921a3					DLYCMD_2_DTA
.1921a3	ea		nop		              NOP
.1921a4	ea		nop		              NOP
.1921a5	ea		nop		              NOP
.1921a6	ea		nop		              NOP
.1921a7	ea		nop		              NOP
.1921a8					DLYDTA_2_DTA
.1921a8	ea		nop		              NOP
.1921a9	ea		nop		              NOP
.1921aa	ea		nop		              NOP
.1921ab	ea		nop		              NOP
.1921ac	ea		nop		              NOP
.1921ad	60		rts		              RTS;
.1921ae					SDCARD_WAIT_4_INT
.1921ae	e2 20		sep #$20	                SEP #$20        ; set A short
.1921b0					SDCARD_BUSY_INT
.1921b0	af 41 01 00	lda $000141	              LDA @lINT_PENDING_REG1  ; Check to See if the Pending Register for the SD_INT is Set
.1921b4	29 80		and #$80	              AND #FNX1_INT07_SDCARD  ;
.1921b6	c9 80		cmp #$80	              CMP #FNX1_INT07_SDCARD
.1921b8	d0 f6		bne $1921b0	              BNE SDCARD_BUSY_INT   ; Go Check again to see if it is checked
.1921ba	8f 41 01 00	sta $000141	              STA @lINT_PENDING_REG1    ;Interrupt as occured, clear the Pending Register for next time.
.1921be	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA ;
.1921c1	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA ;
.1921c4	a9 22		lda #$22	              LDA #CH_CMD_GET_STATUS
.1921c6	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD;
.1921ca	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA;   ; 1.5us Delay to get the Value Return
.1921cd	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA;
.1921d1	60		rts		              RTS           ;
.1921d2					ISDOS_CHK_CD
.1921d2	e2 20		sep #$20	                SEP #$20        ; set A short
.1921d4	18		clc		              CLC
.1921d5	af 10 e8 af	lda $afe810	              LDA SDCARD_STAT;  BIT[0] = Cd, BIT[1] = WP
.1921d9	29 01		and #$01	              AND #$01
.1921db	c9 01		cmp #$01	              CMP #$01
.1921dd	f0 01		beq $1921e0	              BEQ SDCD_NOT_PRST;
.1921df	38		sec		              SEC
.1921e0	60		rts		SDCD_NOT_PRST RTS
.1921e1					ISDOS_CHK_WP
.1921e1	e2 20		sep #$20	                SEP #$20        ; set A short
.1921e3	18		clc		              CLC
.1921e4	af 10 e8 af	lda $afe810	              LDA SDCARD_STAT;  BIT[0] = Cd, BIT[1] = WP
.1921e8	29 02		and #$02	              AND #$02
.1921ea	d0 01		bne $1921ed	              BNE SDCD_NOT_WP;
.1921ec	38		sec		              SEC
.1921ed	60		rts		SDCD_NOT_WP   RTS
.1921ee					ISDOS_GET_FILE_SIZE
.1921ee	e2 20		sep #$20	                SEP #$20        ; set A short
.1921f0	a9 0c		lda #$0c	              LDA #CH_CMD_RD_VAR32
.1921f2	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD;
.1921f6	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA;   ; 3us Delay to get the Value Return
.1921f9	a9 68		lda #$68	              LDA #CH_VAR_FILE_SIZE
.1921fb	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA;
.1921ff	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.192202	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA         ;LSB First
.192206	8f 28 03 00	sta $000328	              STA @lSDOS_FILE_SIZE+0
.19220a	8f 20 01 00	sta $000120	              STA @lADDER32_A_LL;     ; Store in ADDER32 REgister A
.19220e	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.192211	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA
.192215	8f 29 03 00	sta $000329	              STA @lSDOS_FILE_SIZE+1
.192219	8f 21 01 00	sta $000121	              STA @lADDER32_A_LH;     ; Store in ADDER32 REgister A
.19221d	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.192220	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA
.192224	8f 2a 03 00	sta $00032a	              STA @lSDOS_FILE_SIZE+2
.192228	8f 22 01 00	sta $000122	              STA @lADDER32_A_HL;     ; Store in ADDER32 REgister A
.19222c	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.19222f	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA
.192233	8f 2b 03 00	sta $00032b	              STA @lSDOS_FILE_SIZE+3   ;MSB Last
.192237	8f 23 01 00	sta $000123	              STA @lADDER32_A_HH;     ; Store in ADDER32 REgister A
.19223b	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.19223e	af 28 01 00	lda $000128	              LDA @lADDER32_R_LL;
.192242	af 29 01 00	lda $000129	              LDA @lADDER32_R_LH;
.192246	af 2a 01 00	lda $00012a	              LDA @lADDER32_R_HL;
.19224a	af 2b 01 00	lda $00012b	              LDA @lADDER32_R_HH;
.19224e	60		rts		              RTS
.19224f					SDOS_READ_FILE
.19224f	c2 30		rep #$30	                REP #$30        ; set A&X long
.192251	20 5c 23	jsr $19235c	              JSR SDOS_SETUP_ADDER_B;
.192254	e2 20		sep #$20	                SEP #$20        ; set A short
.192256	20 63 21	jsr $192163	              JSR SDOS_FILE_OPEN
.192259	c9 14		cmp #$14	              CMP #CH376S_STAT_SUCCESS ; if the file open successfully, let's go on.
.19225b	f0 03		beq $192260	              BEQ SDOS_READ_FILE_KEEP_GOING
.19225d	82 91 00	brl $1922f1	              BRL SDOS_READ_END
.192260					SDOS_READ_FILE_KEEP_GOING
.192260	a2 5e 24	ldx #$245e	              LDX #<>sd_card_msg6         ; Print Screen the Message "FILE FOUND, LOADING..."
.192263	22 73 05 19	jsl $190573	              JSL IPRINT       ; print the first line
.192267	20 ee 21	jsr $1921ee	              JSR ISDOS_GET_FILE_SIZE   ; Get the File Size in 32Bits
.19226a	c2 20		rep #$20	                REP #$20        ; set A long
.19226c	20 80 23	jsr $192380	              JSR SDOS_SETUP_CH376S_BUFFER_SIZE;
.19226f	a9 00 00	lda #$0000	              LDA #$0000
.192272	8f 3c 00 00	sta $00003c	              STA @lSDCARD_BYTE_NUM; Just make sure the High Part of the Size is Zero
.192276	8f 34 03 00	sta $000334	              STA @lSDOS_BYTE_PTR   ; Clear the Byte Pointer 32 Bytes Register
.19227a	8f 36 03 00	sta $000336	              STA @lSDOS_BYTE_PTR+2 ; This is to Relocated the Pointer after you passed the 64K Boundary
.19227e	e2 20		sep #$20	                SEP #$20        ; set A short
.192280					SDOS_READ_FILE_GO_FETCH_A_NEW_64KBlock
.192280	a9 3a		lda #$3a	              LDA #CH_CMD_BYTE_READ
.192282	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD;
.192286	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA;   ; 3us Delay to get the Value Return
.192289	af 2c 03 00	lda $00032c	              LDA @lSDOS_BYTE_NUMBER
.19228d	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA
.192291	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA;   ; 1.5us Delay to get the Value Return
.192294	af 2d 03 00	lda $00032d	              LDA @lSDOS_BYTE_NUMBER+1
.192298	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA
.19229c	20 ae 21	jsr $1921ae	              JSR SDCARD_WAIT_4_INT
.19229f	c9 1d		cmp #$1d	              CMP #CH376S_STAT_DSK_RD ;
.1922a1	f0 03		beq $1922a6	              BEQ SDOS_READ_FILE_GO_FETCH_A_NEW_BLOCK
.1922a3	82 4b 00	brl $1922f1	              BRL SDOS_READ_END
.1922a6					SDOS_READ_FILE_GO_FETCH_A_NEW_BLOCK
.1922a6	20 9f 23	jsr $19239f	              JSR SDOS_READ_BLOCK
.1922a9	a9 3b		lda #$3b	              LDA #CH_CMD_BYTE_RD_GO
.1922ab	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD
.1922af	20 ae 21	jsr $1921ae	              JSR SDCARD_WAIT_4_INT
.1922b2	c9 1d		cmp #$1d	              CMP #CH376S_STAT_DSK_RD ;
.1922b4	d0 05		bne $1922bb	              BNE SDOS_READ_PROC_DONE
.1922b6	20 fb 22	jsr $1922fb	              JSR SDOS_ADJUST_POINTER  ; Go Adjust the Address
.1922b9	80 eb		bra $1922a6	              BRA SDOS_READ_FILE_GO_FETCH_A_NEW_BLOCK
.1922bb					SDOS_READ_PROC_DONE
.1922bb	c2 20		rep #$20	                REP #$20        ; set A long
.1922bd	af 2c 03 00	lda $00032c	              LDA @lSDOS_BYTE_NUMBER  ; Load the Previously number of Byte
.1922c1	c9 ff ff	cmp #$ffff	              CMP #$FFFF
.1922c4	d0 24		bne $1922ea	              BNE SDOS_READ_DONE1                  ; if it equal 64K, then the file is bugger than 64K
.1922c6	af 28 01 00	lda $000128	              LDA @lADDER32_R_LL
.1922ca	8f 20 01 00	sta $000120	              STA @lADDER32_A_LL
.1922ce	af 2a 01 00	lda $00012a	              LDA @lADDER32_R_HL
.1922d2	8f 22 01 00	sta $000122	              STA @lADDER32_A_HL
.1922d6	20 80 23	jsr $192380	              JSR SDOS_SETUP_CH376S_BUFFER_SIZE ;
.1922d9	20 42 23	jsr $192342	              JSR SDOS_COMPUTE_LOCATE_POINTER
.1922dc	e2 20		sep #$20	                SEP #$20        ; set A short
.1922de	20 0d 23	jsr $19230d	              JSR SDOS_BYTE_LOCATE    ; Apply the new location for the CH376S
.1922e1	20 ae 21	jsr $1921ae	              JSR SDCARD_WAIT_4_INT
.1922e4	c9 14		cmp #$14	              CMP #CH376S_STAT_SUCCESS ;
.1922e6	d0 09		bne $1922f1	              BNE SDOS_READ_END
.1922e8	80 96		bra $192280	              BRA SDOS_READ_FILE_GO_FETCH_A_NEW_64KBlock ; Let's go fetch a new block of 64K or less
.1922ea					SDOS_READ_DONE1
.1922ea	a9 00		lda #$00	              LDA #$00
.1922ec	a2 75 24	ldx #$2475	              LDX #<>sd_card_msg7         ; Print Screen the Message "FILE LOADED"
.1922ef	80 05		bra $1922f6	              BRA SDOS_READ_PROC_DONE1
.1922f1					SDOS_READ_END
.1922f1	a9 ff		lda #$ff	              LDA #$FF
.1922f3	a2 f0 23	ldx #$23f0	              LDX #<>sd_card_err1         ;"ERROR LOADING FILE"
.1922f6					SDOS_READ_PROC_DONE1
.1922f6	22 73 05 19	jsl $190573	              JSL IPRINT       ; print the first line
.1922fa	60		rts		              RTS;
.1922fb					SDOS_ADJUST_POINTER
.1922fb	c2 20		rep #$20	                REP #$20        ; set A long
.1922fd	18		clc		              CLC
.1922fe	a5 38		lda $38		              LDA SDCARD_FILE_PTR ;Load the Pointer
.192300	65 3c		adc $3c		              ADC SDCARD_BYTE_NUM
.192302	85 38		sta $38		              STA SDCARD_FILE_PTR;
.192304	e2 20		sep #$20	                SEP #$20        ; set A short
.192306	a5 3a		lda $3a		              LDA SDCARD_FILE_PTR+2;
.192308	69 00		adc #$00	              ADC #$00          ; This is just add up the Carry
.19230a	85 3a		sta $3a		              STA SDCARD_FILE_PTR+2;
.19230c					SDOS_ADJ_DONE
.19230c	60		rts		              RTS
.19230d					SDOS_BYTE_LOCATE
.19230d	e2 20		sep #$20	                SEP #$20        ; set A short
.19230f	a9 39		lda #$39	              LDA #CH_CMD_BYTE_LOCATE
.192311	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD
.192315	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA
.192318	af 34 03 00	lda $000334	              LDA @lSDOS_BYTE_PTR
.19231c	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA
.192320	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.192323	af 35 03 00	lda $000335	              LDA @lSDOS_BYTE_PTR+1
.192327	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA
.19232b	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.19232e	af 36 03 00	lda $000336	              LDA @lSDOS_BYTE_PTR+2
.192332	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA
.192336	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA
.192339	af 37 03 00	lda $000337	              LDA @lSDOS_BYTE_PTR+3
.19233d	8f 08 e8 af	sta $afe808	              STA SDCARD_DATA
.192341	60		rts		              RTS
.192342					SDOS_COMPUTE_LOCATE_POINTER
.192342	c2 20		rep #$20	                REP #$20        ; set A long
.192344	18		clc		              CLC
.192345	af 34 03 00	lda $000334	              LDA @lSDOS_BYTE_PTR ; $00330
.192349	69 ff ff	adc #$ffff	              ADC #$FFFF
.19234c	8f 34 03 00	sta $000334	              STA @lSDOS_BYTE_PTR
.192350	af 36 03 00	lda $000336	              LDA @lSDOS_BYTE_PTR+2
.192354	69 00 00	adc #$0000	              ADC #$0000          ; this is to Add the Carry
.192357	8f 36 03 00	sta $000336	              STA @lSDOS_BYTE_PTR+2
.19235b	60		rts		              RTS
.19235c					SDOS_SETUP_ADDER_B
.19235c	c2 20		rep #$20	                REP #$20        ; set A long
.19235e	a9 01 00	lda #$0001	              LDA #$0001
.192361	8f 24 01 00	sta $000124	              STA @lADDER32_B_LL
.192365	a9 ff ff	lda #$ffff	              LDA #$FFFF
.192368	8f 26 01 00	sta $000126	              STA @lADDER32_B_HL
.19236c	60		rts		              RTS
.19236d					SDOS_LOAD_ADDER_A_WITH_SIZE
.19236d	c2 20		rep #$20	                REP #$20        ; set A long
.19236f	af 28 03 00	lda $000328	              LDA @lSDOS_FILE_SIZE;
.192373	8f 20 01 00	sta $000120	              STA @lADDER32_A_LL;
.192377	af 2a 03 00	lda $00032a	              LDA @lSDOS_FILE_SIZE+2;
.19237b	8f 22 01 00	sta $000122	              STA @lADDER32_A_HL;
.19237f	60		rts		              RTS
.192380					SDOS_SETUP_CH376S_BUFFER_SIZE
.192380	c2 20		rep #$20	                REP #$20        ; set A long
.192382	af 2a 01 00	lda $00012a	              LDA  @lADDER32_R_HL
.192386	29 00 80	and #$8000	              AND #$8000          ; Check if it is negative
.192389	c9 00 80	cmp #$8000	              CMP #$8000          ; if it is then just put the Size of the file in ByteNumber
.19238c	f0 08		beq $192396	              BEQ SDOS_SETUP_SMALLR_THAN64K
.19238e	a9 ff ff	lda #$ffff	              LDA #$FFFF
.192391	8f 2c 03 00	sta $00032c	              STA @lSDOS_BYTE_NUMBER
.192395	60		rts		              RTS
.192396					SDOS_SETUP_SMALLR_THAN64K
.192396	af 20 01 00	lda $000120	              LDA @lADDER32_A_LL
.19239a	8f 2c 03 00	sta $00032c	              STA @lSDOS_BYTE_NUMBER
.19239e	60		rts		              RTS
.19239f					SDOS_READ_BLOCK
.19239f	e2 20		sep #$20	                SEP #$20        ; set A short
.1923a1	a9 27		lda #$27	              LDA #CH_CMD_RD_DATA0
.1923a3	8f 09 e8 af	sta $afe809	              STA SDCARD_CMD;
.1923a7	20 a3 21	jsr $1921a3	              JSR DLYCMD_2_DTA;   ; 3us Delay to get the Value Return
.1923aa	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA     ; Read First Byte for Number of Byte to Read
.1923ae	85 3c		sta $3c		              STA SDCARD_BYTE_NUM  ; Store the Number of byte to be read
.1923b0	20 a8 21	jsr $1921a8	              JSR DLYDTA_2_DTA;   ; 3us Delay to get the Value Return
.1923b3	a0 00 00	ldy #$0000	              LDY #$0000
.1923b6					SDOS_READ_MORE
.1923b6	af 08 e8 af	lda $afe808	              LDA SDCARD_DATA
.1923ba	97 38		sta [$38],y	              STA [SDCARD_FILE_PTR], Y        ; Store Block Data Sector Begin
.1923bc	c8		iny		              INY
.1923bd	c4 3c		cpy $3c		              CPY SDCARD_BYTE_NUM
.1923bf	d0 f5		bne $1923b6	              BNE SDOS_READ_MORE
.1923c1	a5 3c		lda $3c		              LDA SDCARD_BYTE_NUM  ; Reload the Number of Byte Read
.1923c3	60		rts		              RTS
>1923c4	2f 2a 00			sd_card_dir_string  .text $2F, $2A ,$00
>1923c7	4e 4f 20 53 44 43 41 52		sd_no_card_msg      .text "NO SDCARD PRESENT", $0D, $00
>1923cf	44 20 50 52 45 53 45 4e 54 0d 00
>1923da	45 52 52 4f 52 20 49 4e		sd_card_err0        .text "ERROR IN READIND CARD", $00
>1923e2	20 52 45 41 44 49 4e 44 20 43 41 52 44 00
>1923f0	45 52 52 4f 52 20 4c 4f		sd_card_err1        .text "ERROR LOADING FILE", $00
>1923f8	41 44 49 4e 47 20 46 49 4c 45 00
>192403	4e 61 6d 65 3a 20 0d 00		sd_card_msg0        .text "Name: ", $0D,$00
>19240b	53 44 43 41 52 44 20 44		sd_card_msg1        .text "SDCARD DETECTED", $00
>192413	45 54 45 43 54 45 44 00
>19241b	53 44 43 41 52 44 20 4d		sd_card_msg2        .text "SDCARD MOUNTED", $00
>192423	4f 55 4e 54 45 44 00
>19242a	46 41 49 4c 45 44 20 54		sd_card_msg3        .text "FAILED TO MOUNT SDCARD", $0D, $00
>192432	4f 20 4d 4f 55 4e 54 20 53 44 43 41 52 44 0d 00
>192442	46 49 4c 45 20 4f 50 45		sd_card_msg4        .text "FILE OPENED", $0D, $00
>19244a	4e 45 44 0d 00
>19244f	45 4e 44 20 4f 46 20 4c		sd_card_msg5        .text "END OF LINE...", $00
>192457	49 4e 45 2e 2e 2e 00
>19245e	46 49 4c 45 20 46 4f 55		sd_card_msg6        .text "FILE FOUND, LOADING...", $00
>192466	4e 44 2c 20 4c 4f 41 44 49 4e 47 2e 2e 2e 00
>192475	46 49 4c 45 20 4c 4f 41		sd_card_msg7        .text "FILE LOADED", $00
>19247d	44 45 44 00

;******  Return to file: kernel.asm


;******  Processing file: OPL2_Library.asm


;******  Processing file: OPL2_def.asm

=$afe500				OPL2_L_BASE               = $AFE500
=$afe501				OPL2_L_TEST               = $AFE501 ; TEST
=$afe502				OPL2_L_TIMER1             = $AFE502 ; TIMER-1
=$afe503				OPL2_L_TIMER2             = $AFE503 ; TIMER-2
=$afe504				OPL2_L_IRQ                = $AFE504 ;
=$afe508				OPL2_L_CSM                = $AFE508 ;
=$afe520				OPL2_L_AM_VID_EG_KSR_MULT = $AFE520 ; $40..$35 (21 Registers)
=$afee40				OPL2_L_KSL_TL             = $AFEE40;  $40..$55 (21 Registers)
=$afe560				OPL2_L_AR_DR              = $AFE560;  $60..$75 (21 Registers)
=$afe580				OPL2_L_SL_RR              = $AFE580;  $80..$95 (21 Registers)
=$afe5a0				OPL2_L_FNumber            = $AFE5A0;  $A0..$A8
=$afe5b0				OPL2_L_KON_BLOCK_FNumber  = $AFE5B0;  $B0..$B9
=$afe5bd				OPL2_L_DPTH_RHYTM         = $AFE5BD;  $BD
=$afe5c0				OPL2_L_FEEDBACK           = $AFE5C0;  $C0..$C9
=$afe5e0				OPL2_L_WAVE_SELECT        = $AFE5E0;  $E0..$F5
=$afe600				OPL2_R_BASE               = $AFE600
=$afe601				OPL2_R_TEST               = $AFE601 ; TEST
=$afe602				OPL2_R_TIMER1             = $AFE602 ; TIMER-1
=$afe603				OPL2_R_TIMER2             = $AFE603 ; TIMER-2
=$afe604				OPL2_R_IRQ                = $AFE604 ;
=$afe608				OPL2_R_CSM                = $AFE608 ;
=$afe620				OPL2_R_AM_VID_EG_KSR_MULT = $AFE620 ; $40..$35 (21 Registers)
=$afe640				OPL2_R_KSL_TL             = $AFE640;  $40..$55 (21 Registers)
=$afe660				OPL2_R_AR_DR              = $AFE660;  $60..$75 (21 Registers)
=$afe680				OPL2_R_SL_RR              = $AFE680;  $80..$95 (21 Registers)
=$afe6a0				OPL2_R_FNumber            = $AFE6A0;  $A0..$A8
=$afe6b0				OPL2_R_KON_BLOCK_FNumber  = $AFE6B0;  $B0..$B9
=$afe6bd				OPL2_R_DPTH_RHYTM         = $AFE6BD;  $BD
=$afe6c0				OPL2_R_FEEDBACK           = $AFE6C0;  $C0..$C9
=$afe6e0				OPL2_R_WAVE_SELECT        = $AFE6E0;  $E0..$F5
=$e700					OPL2_S_BASE_LL            = $E700
=$00af					OPL2_S_BASE_HL            = $00AF
=$afe701				OPL2_S_TEST               = $AFE701 ; TEST
=$afe702				OPL2_S_TIMER1             = $AFE702 ; TIMER-1
=$afe703				OPL2_S_TIMER2             = $AFE703 ; TIMER-2
=$afe704				OPL2_S_IRQ                = $AFE704 ;
=$afe708				OPL2_S_CSM                = $AFE708 ;
=$afe720				OPL2_S_AM_VID_EG_KSR_MULT = $AFE720 ; $40..$35 (21 Registers)
=$afe740				OPL2_S_KSL_TL             = $AFE740;  $40..$55 (21 Registers)
=$afe760				OPL2_S_AR_DR              = $AFE760;  $60..$75 (21 Registers)
=$afe780				OPL2_S_SL_RR              = $AFE780;  $80..$95 (21 Registers)
=$afe7a0				OPL2_S_FNumber            = $AFE7A0;  $A0..$A8
=$afe7b0				OPL2_S_KON_BLOCK_FNumber  = $AFE7B0;  $B0..$B9
=$afe7bd				OPL2_S_DPTH_RHYTM         = $AFE7BD;  $BD
=$afe7c0				OPL2_S_FEEDBACK           = $AFE7C0;  $C0..$C9
=$afe7e0				OPL2_S_WAVE_SELECT        = $AFE7E0;  $E0..$F5
=9					OPL2_NUM_CHANNELS = 9
=0					OPERATOR1 = 0
=1					OPERATOR2 = 1
=0					MODULATOR = 0
=1					CARRIER = 1
=0					FREQ_MODULATION = 0
=1					ADDITIVE_SYNTH  = 1
=$10					DRUM_BASS   = $10
=$08					DRUM_SNARE  = $08
=$04					DRUM_TOM    = $04
=$02					DRUM_CYMBAL = $02
=$01					DRUM_HI_HAT = $01
=0					NOTE_C =    0
=1					NOTE_CS =   1
=2					NOTE_D =    2
=3					NOTE_DS =   3
=4					NOTE_E =    4
=5					NOTE_F =    5
=6					NOTE_FS =   6
=7					NOTE_G =    7
=8					NOTE_GS =   8
=9					NOTE_A =    9
=10					NOTE_AS =  10
=11					NOTE_B =   11
>192481	6b 01 81 01 98 01 b0 01		noteFNumbers    .word  $016B, $0181, $0198, $01B0, $01CA, $01E5, $0202, $0220, $0241, $0263, $0287, $02AE
>192489	ca 01 e5 01 02 02 20 02 41 02 63 02 87 02 ae 02
>192499	00 01 02 08 09 0a 10 11		registerOffsets_operator0 .byte $00, $01, $02, $08, $09, $0A, $10, $11, $12 ;initializers for operator 1 */
>1924a1	12
>1924a2	03 04 05 0b 0c 0d 13 14		registerOffsets_operator1 .byte $03, $04, $05, $0B, $0C, $0D, $13, $14, $15 ;initializers for operator 2 */
>1924aa	15
>1924ab	10 13 14 12 15 11		drumOffsets               .byte $10, $13, $14, $12, $15, $11
>1924b1	10 08 04 02 01			drumBits                  .byte $10, $08, $04, $02, $01
>1924b6	20 40 60 80 e0 c0		instrumentBaseRegs        .byte $20, $40, $60, $80, $E0, $C0

;******  Return to file: OPL2_Library.asm

.1924bc					IOPL2_TONE_TEST
.1924bc	e2 20		sep #$20	                SEP #$20        ; set A short
.1924be	a9 01		lda #$01	                LDA #$01
.1924c0	85 26		sta $26		                STA OPL2_OPERATOR
.1924c2	c2 30		rep #$30	                REP #$30        ; set A&X long
.1924c4	22 3c 25 19	jsl $19253c	                JSL OPL2_INIT
.1924c8	e2 20		sep #$20	                SEP #$20        ; set A short
.1924ca	a9 00		lda #$00	                LDA #$00
.1924cc	85 36		sta $36		                STA OPL2_LOOP
.1924ce					OPL2_TONE_TESTING_L0
.1924ce	e2 20		sep #$20	                SEP #$20        ; set A short
.1924d0	a5 36		lda $36		                LDA OPL2_LOOP
.1924d2	85 27		sta $27		                STA OPL2_CHANNEL
.1924d4	38		sec		                SEC
.1924d5	22 88 25 19	jsl $192588	                JSL OPL2_SET_TREMOLO
.1924d9	38		sec		                SEC
.1924da	22 b7 25 19	jsl $1925b7	                JSL OPL2_SET_VIBRATO
.1924de	a9 04		lda #$04	                LDA #$04
.1924e0	85 32		sta $32		                STA OPL2_PARAMETER0
.1924e2	22 eb 25 19	jsl $1925eb	                JSL OPL2_SET_MULTIPLIER
.1924e6	a9 0a		lda #$0a	                LDA #$0A
.1924e8	85 32		sta $32		                STA OPL2_PARAMETER0
.1924ea	22 53 26 19	jsl $192653	                JSL OPL2_SET_ATTACK
.1924ee	a9 04		lda #$04	                LDA #$04
.1924f0	85 32		sta $32		                STA OPL2_PARAMETER0
.1924f2	22 87 26 19	jsl $192687	                JSL OPL2_SET_DECAY
.1924f6	a9 0f		lda #$0f	                LDA #$0F
.1924f8	85 32		sta $32		                STA OPL2_PARAMETER0
.1924fa	22 b3 26 19	jsl $1926b3	                JSL OPL2_SET_SUSTAIN
.1924fe	a9 0f		lda #$0f	                LDA #$0F
.192500	85 32		sta $32		                STA OPL2_PARAMETER0
.192502	22 e7 26 19	jsl $1926e7	                JSL OPL2_SET_RELEASE
.192506	e2 20		sep #$20	                SEP #$20        ; set A short
.192508	e6 36		inc $36		                INC OPL2_LOOP
.19250a	a5 36		lda $36		                LDA OPL2_LOOP
.19250c	c9 03		cmp #$03	                CMP #$03
.19250e	d0 be		bne $1924ce	                BNE OPL2_TONE_TESTING_L0
.192510	a9 00		lda #$00	                LDA #$00
.192512	85 36		sta $36		                STA OPL2_LOOP
.192514					OPL2_TONE_TESTING_L1
.192514	85 30		sta $30		                STA OPL2_NOTE
.192516	29 03		and #$03	                AND #$03        ; replace modulo 3
.192518	85 27		sta $27		                STA OPL2_CHANNEL
.19251a	a9 03		lda #$03	                LDA #$03
.19251c	85 31		sta $31		                STA OPL2_OCTAVE
.19251e	22 5e 25 19	jsl $19255e	                JSL OPL2_PLAYNOTE
.192522	e2 20		sep #$20	                SEP #$20        ; set A short
.192524	c2 10		rep #$10	                REP #$10        ; set X long
.192526	a2 00 00	ldx #$0000	                LDX #$0000
.192529					OPL2_TONE_TESTING_L2
.192529	ea		nop		                NOP
.19252a	ea		nop		                NOP
.19252b	ea		nop		                NOP
.19252c	ea		nop		                NOP
.19252d	e8		inx		                INX
.19252e	e0 ff ff	cpx #$ffff	                CPX #$FFFF
.192531	d0 f6		bne $192529	                BNE OPL2_TONE_TESTING_L2
.192533	e6 36		inc $36		                INC OPL2_LOOP
.192535	a5 36		lda $36		                LDA OPL2_LOOP
.192537	c9 0c		cmp #$0c	                CMP #12
.192539	d0 d9		bne $192514	                BNE OPL2_TONE_TESTING_L1
.19253b	6b		rtl		                RTL
.19253c					OPL2_INIT
.19253c	c2 20		rep #$20	                REP #$20        ; set A long
.19253e	a9 00 00	lda #$0000	                LDA #$0000
.192541	85 28		sta $28		                STA OPL2_REG_REGION
.192543	85 2a		sta $2a		                STA OPL2_REG_OFFSET
.192545	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.192547	85 2e		sta $2e		                STA OPL2_IND_ADDY_HL
.192549	85 30		sta $30		                STA OPL2_NOTE
.19254b	85 32		sta $32		                STA OPL2_PARAMETER0
.19254d	85 34		sta $34		                STA OPL2_PARAMETER2
.19254f	6b		rtl		                RTL
.192550					OPL2_Reset
.192550	6b		rtl		                RTL
.192551					OPL2_Get_FrequencyBlock
.192551	6b		rtl		                RTL
.192552					OPL2_Get_Register
.192552	6b		rtl		                RTL
.192553					OPL2_Get_WaveFormSelect
.192553	6b		rtl		                RTL
.192554					OPL2_Get_ScalingLevel
.192554	6b		rtl		                RTL
.192555					OPL2_Get_Block
.192555	6b		rtl		                RTL
.192556					OPL2_Get_KeyOn
.192556	6b		rtl		                RTL
.192557					OPL2_Get_Feedback
.192557	6b		rtl		                RTL
.192558					OPL2_Get_SynthMode
.192558	6b		rtl		                RTL
.192559					OPL2_Get_DeepTremolo
.192559	6b		rtl		                RTL
.19255a					OPL2_Get_DeepVibrato
.19255a	6b		rtl		                RTL
.19255b					OPL2_Get_Percussion
.19255b	6b		rtl		                RTL
.19255c					OPL2_Get_Drums
.19255c	6b		rtl		                RTL
.19255d					OPL2_Get_WaveForm
.19255d	6b		rtl		                RTL
.19255e					OPL2_PLAYNOTE
.19255e	e2 20		sep #$20	                SEP #$20        ; set A short
.192560	a9 00		lda #$00	                LDA #$00
.192562	85 32		sta $32		                STA OPL2_PARAMETER0 ; Set Keyon False
.192564	20 b2 27	jsr $1927b2	                JSR OPL2_SET_KEYON
.192567	20 81 27	jsr $192781	                JSR OPL2_SET_BLOCK  ; OPL2_SET_BLOCK Already to OPL2_OCTAVE
.19256a	e2 10		sep #$10	                SEP #$10        ; set X short
.19256c	c2 20		rep #$20	                REP #$20        ; set A long
.19256e	a6 30		ldx $30		                LDX OPL2_NOTE
.192570	bf 81 24 19	lda $192481,x	                LDA @lnoteFNumbers,X
.192574	85 32		sta $32		                STA OPL2_PARAMETER0 ; Store the 16bit in Param OPL2_PARAMETER0 & OPL2_PARAMETER1
.192576	22 13 27 19	jsl $192713	                JSL OPL2_SET_FNUMBER
.19257a	e2 20		sep #$20	                SEP #$20        ; set A short
.19257c	a9 01		lda #$01	                LDA #$01
.19257e	85 32		sta $32		                STA OPL2_PARAMETER0 ; Set Keyon False
.192580	20 b2 27	jsr $1927b2	                JSR OPL2_SET_KEYON
.192583	6b		rtl		                RTL
.192584					OPL2_PLAYDRUM
.192584	6b		rtl		                RTL
.192585					OPL2_Set_Instrument
.192585	6b		rtl		                RTL
.192586					OPL2_Set_Register
.192586	6b		rtl		                RTL
.192587					OPL2_Set_WaveFormSelect
.192587	6b		rtl		                RTL
.192588					OPL2_SET_TREMOLO
.192588	08		php		                PHP ; Push the Carry
.192589	c2 20		rep #$20	                REP #$20        ; set A long
.19258b	a9 20 00	lda #$0020	                LDA #$0020;
.19258e	85 28		sta $28		                STA OPL2_REG_REGION
.192590	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.192593	28		plp		                PLP ; Pull the Carry out
.192594	e2 20		sep #$20	                SEP #$20        ; set A short
.192596	b0 08		bcs $1925a0	                BCS OPL2_Set_Tremolo_Set;
.192598	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.19259a	29 7f		and #$7f	                AND #$7F
.19259c	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.19259e	80 06		bra $1925a6	                BRA OPL2_Set_Tremolo_Exit
.1925a0					OPL2_Set_Tremolo_Set
.1925a0	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1925a2	09 80		ora #$80	                ORA #$80
.1925a4	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.1925a6					OPL2_Set_Tremolo_Exit
.1925a6	6b		rtl		                RTL
.1925a7					OPL2_GET_TREMOLO
.1925a7	c2 20		rep #$20	                REP #$20        ; set A long
.1925a9	a9 20 00	lda #$0020	                LDA #$0020;
.1925ac	85 28		sta $28		                STA OPL2_REG_REGION
.1925ae	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1925b1	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1925b3	29 80 00	and #$0080	                AND #$80
.1925b6	6b		rtl		                RTL
.1925b7					OPL2_SET_VIBRATO
.1925b7	08		php		                PHP ; Push the Carry
.1925b8	c2 20		rep #$20	                REP #$20        ; set A long
.1925ba	a9 20 00	lda #$0020	                LDA #$0020;
.1925bd	85 28		sta $28		                STA OPL2_REG_REGION
.1925bf	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1925c2	28		plp		                PLP ; Pull the Carry out
.1925c3	e2 20		sep #$20	                SEP #$20        ; set A short
.1925c5	b0 08		bcs $1925cf	                BCS OPL2_Set_Vibrato_Set;
.1925c7	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1925c9	29 bf		and #$bf	                AND #$BF
.1925cb	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.1925cd	80 06		bra $1925d5	                BRA OPL2_Set_Vibrato_Exit
.1925cf					OPL2_Set_Vibrato_Set
.1925cf	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1925d1	09 40		ora #$40	                ORA #$40
.1925d3	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.1925d5					OPL2_Set_Vibrato_Exit
.1925d5	6b		rtl		                RTL
.1925d6					OPL2_GET_VIBRATO
.1925d6	c2 20		rep #$20	                REP #$20        ; set A long
.1925d8	a9 20 00	lda #$0020	                LDA #$0020;
.1925db	85 28		sta $28		                STA OPL2_REG_REGION
.1925dd	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1925e0	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1925e2	29 40 00	and #$0040	                AND #$40
.1925e5	6b		rtl		                RTL
.1925e6					OPL2_Set_MaintainSustain
.1925e6	6b		rtl		                RTL
.1925e7					OPL2_Get_MaintainSustain
.1925e7	6b		rtl		                RTL
.1925e8					OPL2_Set_EnvelopeScaling
.1925e8	6b		rtl		                RTL
.1925e9					OPL2_Get_EnvelopeScaling
.1925e9	6b		rtl		                RTL
.1925ea					OPL2_Get_Multiplier
.1925ea	6b		rtl		                RTL
.1925eb					OPL2_SET_MULTIPLIER
.1925eb	c2 20		rep #$20	                REP #$20        ; set A long
.1925ed	a9 20 00	lda #$0020	                LDA #$0020;
.1925f0	85 28		sta $28		                STA OPL2_REG_REGION
.1925f2	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1925f5	e2 20		sep #$20	                SEP #$20        ; set A short
.1925f7	a5 32		lda $32		                LDA OPL2_PARAMETER0
.1925f9	29 0f		and #$0f	                AND #$0F
.1925fb	85 32		sta $32		                STA OPL2_PARAMETER0
.1925fd	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1925ff	29 f0		and #$f0	                AND #$F0
.192601	05 32		ora $32		                ORA OPL2_PARAMETER0
.192603	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.192605	6b		rtl		                RTL
.192606					OPL2_SET_SCALINGLEVEL
.192606	c2 20		rep #$20	                REP #$20        ; set A long
.192608	a9 40 00	lda #$0040	                LDA #$0040;
.19260b	85 28		sta $28		                STA OPL2_REG_REGION
.19260d	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.192610	e2 20		sep #$20	                SEP #$20        ; set A short
.192612	a5 32		lda $32		                LDA OPL2_PARAMETER0 ; Attack
.192614	29 03		and #$03	                AND #$03
.192616	0a		asl a		                ASL
.192617	0a		asl a		                ASL
.192618	0a		asl a		                ASL
.192619	0a		asl a		                ASL
.19261a	0a		asl a		                ASL
.19261b	0a		asl a		                ASL
.19261c	85 32		sta $32		                STA OPL2_PARAMETER0
.19261e	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.192620	29 3f		and #$3f	                AND #$3F
.192622	05 32		ora $32		                ORA OPL2_PARAMETER0
.192624	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.192626	6b		rtl		                RTL
.192627					OPL2_SET_VOLUME
.192627	c2 20		rep #$20	                REP #$20        ; set A long
.192629	a9 40 00	lda #$0040	                LDA #$0040  ;
.19262c	85 28		sta $28		                STA OPL2_REG_REGION
.19262e	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.192631	e2 20		sep #$20	                SEP #$20        ; set A short
.192633	a5 32		lda $32		                LDA OPL2_PARAMETER0 ; Volume
.192635	29 3f		and #$3f	                AND #$3F
.192637	85 32		sta $32		                STA OPL2_PARAMETER0
.192639	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.19263b	29 c0		and #$c0	                AND #$C0
.19263d	05 32		ora $32		                ORA OPL2_PARAMETER0
.19263f	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.192641	6b		rtl		                RTL
.192642					OPL2_GET_VOLUME
.192642	c2 20		rep #$20	                REP #$20        ; set A long
.192644	a9 40 00	lda #$0040	                LDA #$0040  ;
.192647	85 28		sta $28		                STA OPL2_REG_REGION
.192649	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.19264c	e2 20		sep #$20	                SEP #$20        ; set A short
.19264e	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.192650	29 3f		and #$3f	                AND #$3F
.192652	6b		rtl		                RTL
.192653					OPL2_SET_ATTACK
.192653	c2 20		rep #$20	                REP #$20        ; set A long
.192655	a9 60 00	lda #$0060	                LDA #$0060  ;
.192658	85 28		sta $28		                STA OPL2_REG_REGION
.19265a	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.19265d	e2 20		sep #$20	                SEP #$20        ; set A short
.19265f	a5 32		lda $32		                LDA OPL2_PARAMETER0 ; Attack
.192661	29 0f		and #$0f	                AND #$0F
.192663	0a		asl a		                ASL
.192664	0a		asl a		                ASL
.192665	0a		asl a		                ASL
.192666	0a		asl a		                ASL
.192667	85 32		sta $32		                STA OPL2_PARAMETER0
.192669	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.19266b	29 0f		and #$0f	                AND #$0F
.19266d	05 32		ora $32		                ORA OPL2_PARAMETER0
.19266f	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.192671	6b		rtl		                RTL
.192672					OPL2_GET_ATTACK
.192672	c2 20		rep #$20	                REP #$20        ; set A long
.192674	a9 60 00	lda #$0060	                LDA #$0060
.192677	85 28		sta $28		                STA OPL2_REG_REGION
.192679	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.19267c	e2 20		sep #$20	                SEP #$20        ; set A short
.19267e	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.192680	29 f0		and #$f0	                AND #$F0
.192682	4a		lsr a		                LSR
.192683	4a		lsr a		                LSR
.192684	4a		lsr a		                LSR
.192685	4a		lsr a		                LSR
.192686	6b		rtl		                RTL
.192687					OPL2_SET_DECAY
.192687	c2 20		rep #$20	                REP #$20        ; set A long
.192689	a9 60 00	lda #$0060	                LDA #$0060;
.19268c	85 28		sta $28		                STA OPL2_REG_REGION
.19268e	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.192691	e2 20		sep #$20	                SEP #$20        ; set A short
.192693	a5 32		lda $32		                LDA OPL2_PARAMETER0 ; Attack
.192695	29 0f		and #$0f	                AND #$0F
.192697	85 32		sta $32		                STA OPL2_PARAMETER0
.192699	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.19269b	29 f0		and #$f0	                AND #$F0
.19269d	05 32		ora $32		                ORA OPL2_PARAMETER0
.19269f	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.1926a1	6b		rtl		                RTL
.1926a2					OPL2_GET_DECAY
.1926a2	c2 20		rep #$20	                REP #$20        ; set A long
.1926a4	a9 60 00	lda #$0060	                LDA #$0060
.1926a7	85 28		sta $28		                STA OPL2_REG_REGION
.1926a9	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1926ac	e2 20		sep #$20	                SEP #$20        ; set A short
.1926ae	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1926b0	29 0f		and #$0f	                AND #$0F
.1926b2	6b		rtl		                RTL
.1926b3					OPL2_SET_SUSTAIN
.1926b3	c2 20		rep #$20	                REP #$20        ; set A long
.1926b5	a9 80 00	lda #$0080	                LDA #$0080;
.1926b8	85 28		sta $28		                STA OPL2_REG_REGION
.1926ba	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1926bd	e2 20		sep #$20	                SEP #$20        ; set A short
.1926bf	a5 32		lda $32		                LDA OPL2_PARAMETER0 ; Attack
.1926c1	29 0f		and #$0f	                AND #$0F
.1926c3	0a		asl a		                ASL
.1926c4	0a		asl a		                ASL
.1926c5	0a		asl a		                ASL
.1926c6	0a		asl a		                ASL
.1926c7	85 32		sta $32		                STA OPL2_PARAMETER0
.1926c9	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1926cb	29 0f		and #$0f	                AND #$0F
.1926cd	05 32		ora $32		                ORA OPL2_PARAMETER0
.1926cf	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.1926d1	6b		rtl		                RTL
.1926d2					OPL2_GET_SUSTAIN
.1926d2	c2 20		rep #$20	                REP #$20        ; set A long
.1926d4	a9 80 00	lda #$0080	                LDA #$0080
.1926d7	85 28		sta $28		                STA OPL2_REG_REGION
.1926d9	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1926dc	e2 20		sep #$20	                SEP #$20        ; set A short
.1926de	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1926e0	29 f0		and #$f0	                AND #$F0
.1926e2	4a		lsr a		                LSR
.1926e3	4a		lsr a		                LSR
.1926e4	4a		lsr a		                LSR
.1926e5	4a		lsr a		                LSR
.1926e6	6b		rtl		                RTL
.1926e7					OPL2_SET_RELEASE
.1926e7	c2 20		rep #$20	                REP #$20        ; set A long
.1926e9	a9 80 00	lda #$0080	                LDA #$0080;
.1926ec	85 28		sta $28		                STA OPL2_REG_REGION
.1926ee	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.1926f1	e2 20		sep #$20	                SEP #$20        ; set A short
.1926f3	a5 32		lda $32		                LDA OPL2_PARAMETER0 ; Attack
.1926f5	29 0f		and #$0f	                AND #$0F
.1926f7	85 32		sta $32		                STA OPL2_PARAMETER0
.1926f9	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1926fb	29 f0		and #$f0	                AND #$F0
.1926fd	05 32		ora $32		                ORA OPL2_PARAMETER0
.1926ff	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.192701	6b		rtl		                RTL
.192702					OPL2_GET_RELEASE
.192702	c2 20		rep #$20	                REP #$20        ; set A long
.192704	a9 80 00	lda #$0080	                LDA #$0080
.192707	85 28		sta $28		                STA OPL2_REG_REGION
.192709	20 ed 27	jsr $1927ed	                JSR OPL2_GET_REG_OFFSET
.19270c	e2 20		sep #$20	                SEP #$20        ; set A short
.19270e	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.192710	29 0f		and #$0f	                AND #$0F
.192712	6b		rtl		                RTL
.192713					OPL2_SET_FNUMBER
.192713	e2 20		sep #$20	                SEP #$20        ; set A short
.192715	18		clc		                CLC
.192716	a5 27		lda $27		                LDA OPL2_CHANNEL
.192718	29 0f		and #$0f	                AND #$0F  ; This is just precaution, it should be between 0 to 8
.19271a	69 a0		adc #$a0	                ADC #$A0
.19271c	85 2a		sta $2a		                STA OPL2_REG_OFFSET
.19271e	a9 00		lda #$00	                LDA #$00
.192720	85 2b		sta $2b		                STA OPL2_REG_OFFSET+1;
.192722	c2 30		rep #$30	                REP #$30        ; set A&X long
.192724	18		clc		                CLC
.192725	a9 00 e7	lda #$e700	                LDA #OPL2_S_BASE_LL
.192728	65 2a		adc $2a		                ADC OPL2_REG_OFFSET
.19272a	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.19272c	a9 af 00	lda #$00af	                LDA #OPL2_S_BASE_HL
.19272f	85 2e		sta $2e		                STA OPL2_IND_ADDY_HL
.192731	e2 20		sep #$20	                SEP #$20        ; set A short
.192733	a5 32		lda $32		                LDA OPL2_PARAMETER0     ; Load the 16Bits Value of FNumber
.192735	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]  ; Load
.192737	18		clc		                CLC
.192738	a5 2c		lda $2c		                LDA OPL2_IND_ADDY_LL
.19273a	69 10		adc #$10	                ADC #$10
.19273c	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.19273e	a5 33		lda $33		                LDA OPL2_PARAMETER1
.192740	29 03		and #$03	                AND #$03
.192742	85 33		sta $33		                STA OPL2_PARAMETER1
.192744	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.192746	29 fc		and #$fc	                AND #$FC
.192748	05 33		ora $33		                ORA OPL2_PARAMETER1
.19274a	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.19274c	6b		rtl		                RTL
.19274d					OPL2_GET_FNUMBER
.19274d	e2 20		sep #$20	                SEP #$20        ; set A short
.19274f	18		clc		                CLC
.192750	a5 27		lda $27		                LDA OPL2_CHANNEL
.192752	29 0f		and #$0f	                AND #$0F  ; This is just precaution, it should be between 0 to 8
.192754	69 a0		adc #$a0	                ADC #$A0
.192756	85 2a		sta $2a		                STA OPL2_REG_OFFSET
.192758	a9 00		lda #$00	                LDA #$00
.19275a	85 2b		sta $2b		                STA OPL2_REG_OFFSET+1;
.19275c	c2 30		rep #$30	                REP #$30        ; set A&X long
.19275e	18		clc		                CLC
.19275f	a9 00 e7	lda #$e700	                LDA #OPL2_S_BASE_LL
.192762	65 2a		adc $2a		                ADC OPL2_REG_OFFSET
.192764	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.192766	a9 af 00	lda #$00af	                LDA #OPL2_S_BASE_HL
.192769	85 2e		sta $2e		                STA OPL2_IND_ADDY_HL
.19276b	e2 20		sep #$20	                SEP #$20        ; set A short
.19276d	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.19276f	85 32		sta $32		                STA OPL2_PARAMETER0
.192771	18		clc		                CLC
.192772	a5 2c		lda $2c		                LDA OPL2_IND_ADDY_LL
.192774	69 10		adc #$10	                ADC #$10
.192776	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.192778	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.19277a	29 03		and #$03	                AND #$03
.19277c	85 33		sta $33		                STA OPL2_PARAMETER1
.19277e	6b		rtl		                RTL
.19277f					OPL2_Set_Frequency
.19277f	6b		rtl		                RTL
.192780					OPL2_Get_Frequency
.192780	6b		rtl		                RTL
.192781					OPL2_SET_BLOCK
.192781	e2 20		sep #$20	                SEP #$20        ; set A short
.192783	18		clc		                CLC
.192784	a5 27		lda $27		                LDA OPL2_CHANNEL
.192786	29 0f		and #$0f	                AND #$0F  ; This is just precaution, it should be between 0 to 8
.192788	69 b0		adc #$b0	                ADC #$B0
.19278a	85 2a		sta $2a		                STA OPL2_REG_OFFSET
.19278c	a9 00		lda #$00	                LDA #$00
.19278e	85 2b		sta $2b		                STA OPL2_REG_OFFSET+1;
.192790	c2 30		rep #$30	                REP #$30        ; set A&X long
.192792	18		clc		                CLC
.192793	a9 00 e7	lda #$e700	                LDA #OPL2_S_BASE_LL
.192796	65 2a		adc $2a		                ADC OPL2_REG_OFFSET
.192798	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.19279a	a9 af 00	lda #$00af	                LDA #OPL2_S_BASE_HL
.19279d	85 2e		sta $2e		                STA OPL2_IND_ADDY_HL
.19279f	e2 20		sep #$20	                SEP #$20        ; set A short
.1927a1	a5 31		lda $31		                LDA OPL2_OCTAVE
.1927a3	29 07		and #$07	                AND #$07
.1927a5	0a		asl a		                ASL
.1927a6	0a		asl a		                ASL
.1927a7	85 31		sta $31		                STA OPL2_OCTAVE
.1927a9	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1927ab	29 e3		and #$e3	                AND #$E3
.1927ad	05 31		ora $31		                ORA OPL2_OCTAVE
.1927af	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.1927b1	60		rts		                RTS
.1927b2					OPL2_SET_KEYON
.1927b2	e2 20		sep #$20	                SEP #$20        ; set A short
.1927b4	18		clc		                CLC
.1927b5	a5 27		lda $27		                LDA OPL2_CHANNEL
.1927b7	29 0f		and #$0f	                AND #$0F  ; This is just precaution, it should be between 0 to 8
.1927b9	69 b0		adc #$b0	                ADC #$B0
.1927bb	85 2a		sta $2a		                STA OPL2_REG_OFFSET
.1927bd	a9 00		lda #$00	                LDA #$00
.1927bf	85 2b		sta $2b		                STA OPL2_REG_OFFSET+1;
.1927c1	c2 30		rep #$30	                REP #$30        ; set A&X long
.1927c3	18		clc		                CLC
.1927c4	a9 00 e7	lda #$e700	                LDA #OPL2_S_BASE_LL
.1927c7	65 2a		adc $2a		                ADC OPL2_REG_OFFSET
.1927c9	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.1927cb	a9 af 00	lda #$00af	                LDA #OPL2_S_BASE_HL
.1927ce	85 2e		sta $2e		                STA OPL2_IND_ADDY_HL
.1927d0	e2 20		sep #$20	                SEP #$20        ; set A short
.1927d2	a5 32		lda $32		                LDA OPL2_PARAMETER0
.1927d4	29 01		and #$01	                AND #$01
.1927d6	0a		asl a		                ASL
.1927d7	0a		asl a		                ASL
.1927d8	0a		asl a		                ASL
.1927d9	0a		asl a		                ASL
.1927da	0a		asl a		                ASL
.1927db	85 32		sta $32		                STA OPL2_PARAMETER0
.1927dd	a7 2c		lda [$2c]	                LDA [OPL2_IND_ADDY_LL]
.1927df	29 df		and #$df	                AND #$DF
.1927e1	05 32		ora $32		                ORA OPL2_PARAMETER0
.1927e3	87 2c		sta [$2c]	                STA [OPL2_IND_ADDY_LL]
.1927e5	60		rts		                RTS
.1927e6					OPL2_Set_Feedback
.1927e6	6b		rtl		                RTL
.1927e7					OPL2_Set_SynthMode
.1927e7	6b		rtl		                RTL
.1927e8					OPL2_Set_DeepTremolo
.1927e8	6b		rtl		                RTL
.1927e9					OPL2_Set_DeepVibrato
.1927e9	6b		rtl		                RTL
.1927ea					OPL2_Set_Percussion
.1927ea	6b		rtl		                RTL
.1927eb					OPL2_Set_Drums
.1927eb	6b		rtl		                RTL
.1927ec					OPL2_Set_WaveForm
.1927ec	6b		rtl		                RTL
.1927ed					OPL2_GET_REG_OFFSET
.1927ed	e2 30		sep #$30	                SEP #$30        ; set A&X short
.1927ef	a5 27		lda $27		                LDA OPL2_CHANNEL
.1927f1	29 0f		and #$0f	                AND #$0F
.1927f3	aa		tax		                TAX
.1927f4	a5 26		lda $26		                LDA OPL2_OPERATOR   ; Check which Operator In used
.1927f6	29 01		and #$01	                AND #$01            ; if ZERO = The operator 1, One = Operator 2
.1927f8	c9 01		cmp #$01	                CMP #$01
.1927fa	f0 06		beq $192802	                BEQ OPL2_Get_Register_Offset_l0
.1927fc	bf 99 24 19	lda $192499,x	                LDA @lregisterOffsets_operator0, X
.192800	80 04		bra $192806	                BRA OPL2_Get_Register_Offset_exit
.192802					OPL2_Get_Register_Offset_l0
.192802	bf a2 24 19	lda $1924a2,x	                LDA @lregisterOffsets_operator1, X
.192806					OPL2_Get_Register_Offset_exit
.192806	85 2a		sta $2a		                STA OPL2_REG_OFFSET
.192808	a9 00		lda #$00	                LDA #$00
.19280a	85 2b		sta $2b		                STA OPL2_REG_OFFSET+1;
.19280c	c2 30		rep #$30	                REP #$30        ; set A&X long
.19280e	18		clc		                CLC
.19280f	a9 00 e7	lda #$e700	                LDA #OPL2_S_BASE_LL
.192812	65 2a		adc $2a		                ADC OPL2_REG_OFFSET
.192814	65 28		adc $28		                ADC OPL2_REG_REGION ; Ex: $20, or $40, $60, $80 (in 16bits)
.192816	85 2c		sta $2c		                STA OPL2_IND_ADDY_LL
.192818	a9 af 00	lda #$00af	                LDA #OPL2_S_BASE_HL
.19281b	85 2e		sta $2e		                STA OPL2_IND_ADDY_HL
.19281d	60		rts		                RTS

;******  Return to file: kernel.asm


;******  Processing file: kernel_jumptable.asm

.190000	5c 00 04 19	jmp $190400	BOOT            JML IBOOT
.190004	5c d0 10 19	jmp $1910d0	RESTORE         JML IRESTORE
.190008	5c 07 05 19	jmp $190507	BREAK           JML IBREAK
.19000c	5c 4e 05 19	jmp $19054e	READY           JML IREADY
.190010	5c d1 10 19	jmp $1910d1	SCINIT          JML ISCINIT
.190014	5c d2 10 19	jmp $1910d2	IOINIT          JML IIOINIT
.190018	5c 93 05 19	jmp $190593	PUTC            JML IPUTC
.19001c	5c 7c 05 19	jmp $19057c	PUTS            JML IPUTS
.190020	5c c0 05 19	jmp $1905c0	PUTB            JML IPUTB
.190024	5c d3 10 19	jmp $1910d3	PUTBLOCK        JML IPUTBLOCK
.190028	5c d4 10 19	jmp $1910d4	SETLFS          JML ISETLFS
.19002c	5c d5 10 19	jmp $1910d5	SETNAM          JML ISETNAM
.190030	5c d6 10 19	jmp $1910d6	OPEN            JML IOPEN
.190034	5c d7 10 19	jmp $1910d7	CLOSE           JML ICLOSE
.190038	5c d8 10 19	jmp $1910d8	SETIN           JML ISETIN
.19003c	5c d9 10 19	jmp $1910d9	SETOUT          JML ISETOUT
.190040	5c da 10 19	jmp $1910da	GETB            JML IGETB
.190044	5c db 10 19	jmp $1910db	GETBLOCK        JML IGETBLOCK
.190048	5c dc 10 19	jmp $1910dc	GETCH           JML IGETCH
.19004c	5c 72 05 19	jmp $190572	GETCHW          JML IGETCHW
.190050	5c 69 05 19	jmp $190569	GETCHE          JML IGETCHE
.190054	5c dd 10 19	jmp $1910dd	GETS            JML IGETS
.190058	5c de 10 19	jmp $1910de	GETLINE         JML IGETLINE
.19005c	5c df 10 19	jmp $1910df	GETFIELD        JML IGETFIELD
.190060	5c e0 10 19	jmp $1910e0	TRIM            JML ITRIM
.190064	5c e1 10 19	jmp $1910e1	PRINTC          JML IPRINTC
.190068	5c e2 10 19	jmp $1910e2	PRINTS          JML IPRINTS
.19006c	5c c1 05 19	jmp $1905c1	PRINTCR         JML IPRINTCR
.190070	5c e3 10 19	jmp $1910e3	PRINTF          JML IPRINTF
.190074	5c e4 10 19	jmp $1910e4	PRINTI          JML IPRINTI
.190078	5c ac 06 19	jmp $1906ac	PRINTH          JML IPRINTH
.19007c	5c e5 10 19	jmp $1910e5	PRINTAI         JML IPRINTAI
.190080	5c e6 10 19	jmp $1910e6	PRINTAH         JML IPRINTAH
.190084	5c 5c 06 19	jmp $19065c	LOCATE          JML ILOCATE
.190088	5c e7 10 19	jmp $1910e7	PUSHKEY         JML IPUSHKEY
.19008c	5c e8 10 19	jmp $1910e8	PUSHKEYS        JML IPUSHKEYS
.190090	5c e2 05 19	jmp $1905e2	CSRRIGHT        JML ICSRRIGHT
.190094	5c e9 10 19	jmp $1910e9	CSRLEFT         JML ICSRLEFT
.190098	5c 37 06 19	jmp $190637	CSRUP           JML ICSRUP
.19009c	5c 5b 06 19	jmp $19065b	CSRDOWN         JML ICSRDOWN
.1900a0	5c ea 10 19	jmp $1910ea	CSRHOME         JML ICSRHOME
.1900a4	5c 92 06 19	jmp $190692	SCROLLUP        JML ISCROLLUP
.1900a8	5c da 06 19	jmp $1906da	CLRSCREEN       JML ICLRSCREEN
.1900ac	5c 41 07 19	jmp $190741	INITCHLUT	      JML IINITCHLUT
.1900b0	5c 5b 0a 19	jmp $190a5b	INITSUPERIO	    JML IINITSUPERIO
.1900b4	5c 5a 0b 19	jmp $190b5a	INITKEYBOARD    JML IINITKEYBOARD
.1900b8	5c d2 0c 19	jmp $190cd2	TESTSID         JML ITESTSID
.1900bc	5c 3a 0a 19	jmp $190a3a	INITCURSOR      JML IINITCURSOR
.1900c0	5c f0 09 19	jmp $1909f0	INITFONTSET     JML IINITFONTSET
.1900c4	5c 70 07 19	jmp $190770	INITGAMMATABLE  JML IINITGAMMATABLE
.1900c8	5c 90 07 19	jmp $190790	INITALLLUT      JML IINITALLLUT
.1900cc	5c 52 08 19	jmp $190852	INITVKYTXTMODE  JML IINITVKYTXTMODE
.1900d0	5c 7b 08 19	jmp $19087b	INITVKYGRPMODE  JML IINITVKYGRPMODE
.1900d4	5c b2 08 19	jmp $1908b2	INITTILEMODE    JML IINITTILEMODE
.1900d8	5c b3 08 19	jmp $1908b3	INITSPRITE      JML IINITSPRITE
.1900dc	5c fd 0c 19	jmp $190cfd	INITCODEC       JML IINITCODEC
.1900e0	5c 46 0d 19	jmp $190d46	RESETCODEC      JML IRESETCODEC
.1900e4	5c b4 0d 19	jmp $190db4	BMP_PARSER      JML IBMP_PARSER
.1900e8	5c 69 0d 19	jmp $190d69	BM_FILL_SCREEN  JML IBM_FILL_SCREEN
.1900ec	5c bc 24 19	jmp $1924bc	OPL2_TONE_TEST  JML IOPL2_TONE_TEST

;******  Return to file: kernel.asm

.190400					IBOOT
.190400	18		clc		                CLC           ; clear the carry flag
.190401	fb		xce		                XCE           ; move carry to emulation flag.
.190402	78		sei		                SEI
.190403	c2 30		rep #$30	                REP #$30        ; set A&X long
.190405	a9 ff fe	lda #$feff	                LDA #STACK_END   ; initialize stack pointer
.190408	1b		tcs		                TAS
.190409	48		pha		                PHA             ; begin setdp macro
.19040a	08		php			PHP
.19040b	c2 20		rep #$20	                REP #$20        ; set A long
.19040d	a9 00 00	lda #$0000	                LDA #0         ; set DP to page 0
.190410	5b		tcd		                TCD
.190411	28		plp			PLP
.190412	68		pla		                PLA             ; end setdp macro
.190413	e2 20		sep #$20	                SEP #$20        ; set A short
.190415	a2 00 00	ldx #$0000	                LDX #$0000
.190418	a9 00		lda #$00	                LDA #$00
.19041a					CLEAR_MEM_LOOP
.19041a	95 00		sta $00,x	                STA $0000, X
.19041c	e8		inx		                INX
.19041d	e0 00 04	cpx #$0400	                CPX #$0400
.190420	d0 f8		bne $19041a	                BNE CLEAR_MEM_LOOP
.190422	ea		nop		                NOP
.190423	a9 ff		lda #$ff	                LDA #$FF
.190425	8f 48 01 00	sta $000148	                STA @lINT_EDGE_REG0
.190429	8f 49 01 00	sta $000149	                STA @lINT_EDGE_REG1
.19042d	8f 4a 01 00	sta $00014a	                STA @lINT_EDGE_REG2
.190431	8f 4c 01 00	sta $00014c	                STA @lINT_MASK_REG0
.190435	8f 4d 01 00	sta $00014d	                STA @lINT_MASK_REG1
.190439	8f 4e 01 00	sta $00014e	                STA @lINT_MASK_REG2
.19043d	c2 30		rep #$30	                REP #$30        ; set A&X long
.19043f	a9 00 a0	lda #$a000	                LDA #<>SCREEN_PAGE0      ; store the initial screen buffer location
.190442	85 0c		sta $0c		                STA SCREENBEGIN
.190444	e2 20		sep #$20	                SEP #$20        ; set A short
.190446	a9 af		lda #$af	                LDA #`SCREEN_PAGE0
.190448	85 0e		sta $0e		                STA SCREENBEGIN+2
.19044a	c2 30		rep #$30	                REP #$30        ; set A&X long
.19044c	a9 00 a0	lda #$a000	                LDA #<>SCREEN_PAGE0      ; store the initial screen buffer location
.19044f	85 17		sta $17		                STA CURSORPOS
.190451	e2 20		sep #$20	                SEP #$20        ; set A short
.190453	a9 af		lda #$af	                LDA #`SCREEN_PAGE0
.190455	85 19		sta $19		                STA CURSORPOS+2
.190457	a9 00		lda #$00	                LDA #$00
.190459	8d 87 0f	sta $0f87	                STA KEYBOARD_SC_FLG     ; Clear the Keyboard Flag
.19045c	a9 04		lda #$04	                LDA #$04                ; This is to make sure the RTC will keep working after unit is turn-off
.19045e	8f 0e 08 af	sta $af080e	                STA @lRTC_CTRL
.190462	c2 30		rep #$30	                REP #$30        ; set A&X long
.190464	a2 48 00	ldx #$0048	                LDX #72
.190467	86 0f		stx $0f		                STX COLS_VISIBLE
.190469	a0 38 00	ldy #$0038	                LDY #56
.19046c	84 13		sty $13		                STY LINES_VISIBLE
.19046e	a2 80 00	ldx #$0080	                LDX #128
.190471	86 11		stx $11		                STX COLS_PER_LINE
.190473	a0 40 00	ldy #$0040	                LDY #64
.190476	84 15		sty $15		                STY LINES_MAX
.190478	22 dc 00 19	jsl $1900dc	                JSL INITCODEC
.19047c	22 b0 00 19	jsl $1900b0	                JSL INITSUPERIO
.190480	22 c4 00 19	jsl $1900c4	                JSL INITGAMMATABLE
.190484	22 c8 00 19	jsl $1900c8	                JSL INITALLLUT
.190488	22 ac 00 19	jsl $1900ac	                JSL INITCHLUT
.19048c	22 1b 0a 19	jsl $190a1b	                JSL INITMOUSEPOINTER
.190490	22 bc 00 19	jsl $1900bc	                JSL INITCURSOR
.190494	22 cc 00 19	jsl $1900cc	                JSL INITVKYTXTMODE
.190498	22 f0 09 19	jsl $1909f0	                JSL IINITFONTSET
.19049c	22 da 06 19	jsl $1906da	                JSL ICLRSCREEN  ; Clear Screen and Set a standard color in Color Memory
.1904a0	22 09 07 19	jsl $190709	                JSL ICOLORFLAG  ; This is to set the Color Memory for the Logo
.1904a4	c2 30		rep #$30	                REP #$30        ; set A&X long
.1904a6					greet
.1904a6	48		pha		                PHA             ; begin setdbr macro
.1904a7	08		php		                PHP
.1904a8	e2 20		sep #$20	                SEP #$20        ; set A short
.1904aa	a9 19		lda #$19		LDA #`greet_msg
.1904ac	48		pha		                PHA
.1904ad	ab		plb		                PLB
.1904ae	28		plp		                PLP
.1904af	68		pla		                PLA             ; end setdbr macro
.1904b0	a2 ed 10	ldx #$10ed	                LDX #<>greet_msg
.1904b3	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.1904b7	a2 d6 11	ldx #$11d6	                LDX #<>old_pc_style_stat
.1904ba	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.1904be	48		pha		                PHA             ; begin setdp macro
.1904bf	08		php			PHP
.1904c0	c2 20		rep #$20	                REP #$20        ; set A long
.1904c2	a9 00 00	lda #$0000	                LDA #0         ; set DP to page 0
.1904c5	5b		tcd		                TCD
.1904c6	28		plp			PLP
.1904c7	68		pla		                PLA             ; end setdp macro
.1904c8	22 b4 00 19	jsl $1900b4	                JSL INITKEYBOARD ;
.1904cc	c2 30		rep #$30	                REP #$30        ; set A&X long
.1904ce	22 ec 00 19	jsl $1900ec	                JSL OPL2_TONE_TEST
.1904d2	a2 5e 16	ldx #$165e	                LDX #<>ready_msg
.1904d5	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.1904d9	58		cli		                CLI ; Make sure no Interrupt will come and fuck up Init before this point.
.1904da	e2 20		sep #$20	                SEP #$20        ; set A short
.1904dc	48		pha		                PHA             ; begin setdbr macro
.1904dd	08		php		                PHP
.1904de	e2 20		sep #$20	                SEP #$20        ; set A short
.1904e0	a9 19		lda #$19		LDA #`greet_msg
.1904e2	48		pha		                PHA
.1904e3	ab		plb		                PLB
.1904e4	28		plp		                PLP
.1904e5	68		pla		                PLA             ; end setdbr macro
.1904e6	ea		nop		endlessloop     NOP
.1904e7	af 83 0f 00	lda $000f83	                LDA KEY_BUFFER_CMD
.1904eb	c9 01		cmp #$01	                CMP #$01
.1904ed	f0 04		beq $1904f3	                BEQ GoProcessCommandLine
.1904ef	5c e6 04 19	jmp $1904e6	                JML endlessloop
.1904f3					GoProcessCommandLine
.1904f3	a9 00		lda #$00	                LDA #$00  ; Clear the Flag
.1904f5	8f 83 0f 00	sta $000f83	                STA KEY_BUFFER_CMD
.1904f9	22 56 30 19	jsl $193056	                JSL PROCESS_COMMAND_LINE
.1904fd	a2 5e 16	ldx #$165e	                LDX #<>ready_msg
.190500	22 73 05 19	jsl $190573	                JSL IPRINT
.190504	80 e0		bra $1904e6	                BRA  endlessloop
.190506	00		brk #		greet_done      BRK             ;Terminate boot routine and go to Ready handler.
.190507					IBREAK
.190507	48		pha		                PHA             ; begin setdp macro
.190508	08		php			PHP
.190509	c2 20		rep #$20	                REP #$20        ; set A long
.19050b	a9 00 00	lda #$0000	                LDA #0         ; set DP to page 0
.19050e	5b		tcd		                TCD
.19050f	28		plp			PLP
.190510	68		pla		                PLA             ; end setdp macro
.190511	68		pla		                PLA             ; Pull .Y and stuff it in the CPUY variable
.190512	8f 48 02 00	sta $000248	                STA CPUY
.190516	68		pla		                PLA             ; Pull .X and stuff it in the CPUY variable
.190517	8f 46 02 00	sta $000246	                STA CPUX
.19051b	68		pla		                PLA             ; Pull .A and stuff it in the CPUY variable
.19051c	8f 44 02 00	sta $000244	                STA CPUA
.190520	68		pla		                PLA
.190521	8f 4c 02 00	sta $00024c	                STA CPUDP       ; Pull Direct page
.190525	e2 20		sep #$20	                SEP #$20        ; set A short
.190527	68		pla		                PLA             ; Pull Data Bank (8 bits)
.190528	8f 4e 02 00	sta $00024e	                STA CPUDBR
.19052c	68		pla		                PLA             ; Pull Flags (8 bits)
.19052d	8f 4f 02 00	sta $00024f	                STA CPUFLAGS
.190531	c2 20		rep #$20	                REP #$20        ; set A long
.190533	68		pla		                PLA             ; Pull Program Counter (16 bits)
.190534	8f 40 02 00	sta $000240	                STA CPUPC
.190538	e2 20		sep #$20	                SEP #$20        ; set A short
.19053a	68		pla		                PLA             ; Pull Program Bank (8 bits)
.19053b	8f 42 02 00	sta $000242	                STA CPUPBR
.19053f	c2 20		rep #$20	                REP #$20        ; set A long
.190541	3b		tsc		                TSA             ; Get the stack
.190542	8f 4a 02 00	sta $00024a	                STA CPUSTACK    ; Store the stack at immediately before the interrupt was asserted
.190546	a9 ff fe	lda #$feff	                LDA #<>STACK_END   ; initialize stack pointer back to the bootup value
.190549	1b		tcs		                TAS
.19054a	5c e0 ff 00	jmp $00ffe0	                JML JMP_READY   ; Run READY routine (usually BASIC or MONITOR)
.19054e					IREADY
.19054e	48		pha		                PHA             ; begin setdbr macro
.19054f	08		php		                PHP
.190550	e2 20		sep #$20	                SEP #$20        ; set A short
.190552	a9 19		lda #$19		LDA #`ready_msg
.190554	48		pha		                PHA
.190555	ab		plb		                PLB
.190556	28		plp		                PLP
.190557	68		pla		                PLA             ; end setdbr macro
.190558	e2 20		sep #$20	                SEP #$20        ; set A short
.19055a	a2 5e 16	ldx #$165e	                LDX #<>ready_msg
.19055d	22 73 05 19	jsl $190573	                JSL IPRINT
.190561					IREADYWAIT
.190561	22 69 05 19	jsl $190569	                JSL IGETCHE
.190565	80 fa		bra $190561	                BRA IREADYWAIT
.190567	db		stp		IKEYDOWN        STP             ; Keyboard key pressed
.190568	db		stp		IRETURN         STP
.190569	22 72 05 19	jsl $190572	IGETCHE         JSL IGETCHW
.19056d	22 93 05 19	jsl $190593	                JSL IPUTC
.190571	6b		rtl		                RTL
.190572					IGETCHW
.190572	6b		rtl		                RTL
.190573	22 7c 05 19	jsl $19057c	IPRINT          JSL IPUTS
.190577	22 c1 05 19	jsl $1905c1	                JSL IPRINTCR
.19057b	6b		rtl		                RTL
.19057c	48		pha		IPUTS           PHA
.19057d	08		php		                PHP
.19057e	e2 20		sep #$20	                SEP #$20        ; set A short
.190580	c2 10		rep #$10	                REP #$10        ; set X long
.190582	bd 00 00	lda $190000,x	iputs1          LDA $0,b,x      ; read from the string
.190585	f0 08		beq $19058f	                BEQ iputs_done
.190587	22 93 05 19	jsl $190593	iputs2          JSL IPUTC
.19058b	e8		inx		iputs3          INX
.19058c	4c 82 05	jmp $190582	                JMP iputs1
.19058f	e8		inx		iputs_done      INX
.190590	28		plp		                PLP
.190591	68		pla		                PLA
.190592	6b		rtl		                RTL
.190593	0b		phd		IPUTC           PHD
.190594	08		php		                PHP             ; stash the flags (we'll be changing M)
.190595	48		pha		                PHA             ; begin setdp macro
.190596	08		php			PHP
.190597	c2 20		rep #$20	                REP #$20        ; set A long
.190599	a9 00 00	lda #$0000	                LDA #0         ; set DP to page 0
.19059c	5b		tcd		                TCD
.19059d	28		plp			PLP
.19059e	68		pla		                PLA             ; end setdp macro
.19059f	e2 20		sep #$20	                SEP #$20        ; set A short
.1905a1	c9 0d		cmp #$0d	                CMP #$0D        ; handle CR
.1905a3	d0 06		bne $1905ab	                BNE iputc_bs
.1905a5	22 c1 05 19	jsl $1905c1	                JSL IPRINTCR
.1905a9	80 10		bra $1905bb	                bra iputc_done
.1905ab	c9 08		cmp #$08	iputc_bs        CMP #$08        ; backspace
.1905ad	d0 06		bne $1905b5	                BNE iputc_print
.1905af	22 d2 05 19	jsl $1905d2	                JSL IPRINTBS
.1905b3	80 06		bra $1905bb	                BRA iputc_done
.1905b5	87 17		sta [$17]	iputc_print     STA [CURSORPOS] ; Save the character on the screen
.1905b7	22 e2 05 19	jsl $1905e2	                JSL ICSRRIGHT
.1905bb					iputc_done
>1905bb	42 01				                .byte $42, $01
.1905bd	28		plp		                PLP
.1905be	2b		pld		                PLD
.1905bf	6b		rtl		                RTL
.1905c0					IPUTB
.1905c0	6b		rtl		                RTL
.1905c1	da		phx		IPRINTCR	      PHX
.1905c2	5a		phy		                PHY
.1905c3	08		php		                PHP
.1905c4	a2 00 00	ldx #$0000	                LDX #0
.1905c7	a4 1c		ldy $1c		                LDY CURSORY
.1905c9	c8		iny		                INY
.1905ca	22 5c 06 19	jsl $19065c	                JSL ILOCATE
.1905ce	28		plp		                PLP
.1905cf	7a		ply		                PLY
.1905d0	fa		plx		                PLX
.1905d1	6b		rtl		                RTL
.1905d2	da		phx		IPRINTBS	PHX
.1905d3	5a		phy		                PHY
.1905d4	08		php		                PHP
.1905d5	a6 1a		ldx $1a		                LDX CURSORX
.1905d7	a4 1c		ldy $1c		                LDY CURSORY
.1905d9	ca		dex		                DEX
.1905da	22 5c 06 19	jsl $19065c	                JSL ILOCATE
.1905de	28		plp		                PLP
.1905df	7a		ply		                PLY
.1905e0	fa		plx		                PLX
.1905e1	6b		rtl		                RTL
.1905e2					ICSRRIGHT
.1905e2	da		phx		                PHX
.1905e3	8b		phb		                PHB
.1905e4	c2 20		rep #$20	                REP #$20        ; set A long
.1905e6	c2 10		rep #$10	                REP #$10        ; set X long
.1905e8	48		pha		                PHA             ; begin setdp macro
.1905e9	08		php			PHP
.1905ea	c2 20		rep #$20	                REP #$20        ; set A long
.1905ec	a9 00 00	lda #$0000	                LDA #$0         ; set DP to page 0
.1905ef	5b		tcd		                TCD
.1905f0	28		plp			PLP
.1905f1	68		pla		                PLA             ; end setdp macro
.1905f2	e6 17		inc $17		                INC CURSORPOS
.1905f4	a6 1a		ldx $1a		                LDX CURSORX
.1905f6	e8		inx		                INX
.1905f7	e4 0f		cpx $0f		                CPX COLS_VISIBLE
.1905f9	90 0c		bcc $190607	                BCC icsr_nowrap  ; wrap if the cursor is at or past column 80
.1905fb	a2 00 00	ldx #$0000	                LDX #0
.1905fe	5a		phy		                PHY
.1905ff	a4 1c		ldy $1c		                LDY CURSORY
.190601	c8		iny		                INY
.190602	22 5c 06 19	jsl $19065c	                JSL ILOCATE
.190606	7a		ply		                PLY
.190607	86 1a		stx $1a		icsr_nowrap     STX CURSORX
.190609	48		pha		                PHA
.19060a	8a		txa		                TXA
.19060b	8f 14 00 af	sta $af0014	                STA @lVKY_TXT_CURSOR_X_REG_L  ;Store in Vicky's register
.19060f	68		pla		                PLA
.190610	ab		plb		                PLB
.190611	fa		plx		                PLX
.190612	6b		rtl		                RTL
.190613					ISRLEFT
.190613	da		phx		                PHX
.190614	5a		phy		                PHY
.190615	8b		phb		                PHB
.190616	48		pha		                PHA
.190617	c2 30		rep #$30	                REP #$30        ; set A&X long
.190619	48		pha		                PHA             ; begin setdp macro
.19061a	08		php			PHP
.19061b	c2 20		rep #$20	                REP #$20        ; set A long
.19061d	a9 00 00	lda #$0000	                LDA #$0         ; set DP to page 0
.190620	5b		tcd		                TCD
.190621	28		plp			PLP
.190622	68		pla		                PLA             ; end setdp macro
.190623	a5 1a		lda $1a		                LDA CURSORX
.190625	f0 0b		beq $190632	                BEQ isrleft_done_already_zero ; Check that we are not already @ Zero
.190627	a6 1a		ldx $1a		                LDX CURSORX
.190629	ca		dex		                DEX
.19062a	86 1a		stx $1a		                STX CURSORX
.19062c	a4 1c		ldy $1c		                LDY CURSORY
.19062e	22 5c 06 19	jsl $19065c	                JSL ILOCATE
.190632					isrleft_done_already_zero
.190632	68		pla		                PLA
.190633	ab		plb		                PLB
.190634	7a		ply		                PLY
.190635	fa		plx		                PLX
.190636	6b		rtl		                RTL
.190637					ICSRUP
.190637	da		phx		                PHX
.190638	5a		phy		                PHY
.190639	8b		phb		                PHB
.19063a	48		pha		                PHA
.19063b	c2 30		rep #$30	                REP #$30        ; set A&X long
.19063d	48		pha		                PHA             ; begin setdp macro
.19063e	08		php			PHP
.19063f	c2 20		rep #$20	                REP #$20        ; set A long
.190641	a9 00 00	lda #$0000	                LDA #$0         ; set DP to page 0
.190644	5b		tcd		                TCD
.190645	28		plp			PLP
.190646	68		pla		                PLA             ; end setdp macro
.190647	a5 1c		lda $1c		                LDA CURSORY
.190649	f0 0b		beq $190656	                BEQ isrup_done_already_zero ; Check if we are not already @ Zero
.19064b	a4 1c		ldy $1c		                LDY CURSORY
.19064d	88		dey		                DEY
.19064e	84 1c		sty $1c		                STY CURSORY
.190650	a6 1a		ldx $1a		                LDX CURSORX
.190652	22 5c 06 19	jsl $19065c	                JSL ILOCATE
.190656					isrup_done_already_zero
.190656	68		pla		                PLA
.190657	ab		plb		                PLB
.190658	7a		ply		                PLY
.190659	fa		plx		                PLX
.19065a	6b		rtl		                RTL
.19065b					ICSRDOWN
.19065b	6b		rtl		                RTL
.19065c	48		pha		ILOCATE         PHA
.19065d	08		php		                PHP
.19065e	c2 30		rep #$30	                REP #$30        ; set A&X long
.190660					ilocate_scroll
.190660	c4 13		cpy $13		                CPY LINES_VISIBLE
.190662	90 07		bcc $19066b	                BCC ilocate_scrolldone
.190664	22 92 06 19	jsl $190692	                JSL ISCROLLUP
.190668	88		dey		                DEY
.190669	80 f5		bra $190660	                BRA ilocate_scroll
.19066b					ilocate_scrolldone
.19066b	86 1a		stx $1a		                STX CURSORX
.19066d	84 1c		sty $1c		                STY CURSORY
.19066f	a5 0c		lda $0c		                LDA SCREENBEGIN
.190671					ilocate_row
.190671	c0 00 00	cpy #$0000	                CPY #$0
.190674	f0 08		beq $19067e	                BEQ ilocate_right
.190676	18		clc		ilocate_down    CLC
.190677	65 11		adc $11		                ADC COLS_PER_LINE
.190679	88		dey		                DEY
.19067a	f0 02		beq $19067e	                BEQ ilocate_right
.19067c	80 f8		bra $190676	                BRA ilocate_down
.19067e	18		clc		ilocate_right   CLC
.19067f	65 1a		adc $1a		                ADC CURSORX             ; move the cursor right X columns
.190681	85 17		sta $17		                STA CURSORPOS
.190683	a4 1c		ldy $1c		                LDY CURSORY
.190685	98		tya		                TYA
.190686	8f 16 00 af	sta $af0016	                STA @lVKY_TXT_CURSOR_Y_REG_L  ;Store in Vicky's registers
.19068a	8a		txa		                TXA
.19068b	8f 14 00 af	sta $af0014	                STA @lVKY_TXT_CURSOR_X_REG_L  ;Store in Vicky's register
.19068f	28		plp		ilocate_done    PLP
.190690	68		pla		                PLA
.190691	6b		rtl		                RTL
.190692					ISCROLLUP
.190692	48		pha		                PHA
.190693	da		phx		                PHX
.190694	5a		phy		                PHY
.190695	8b		phb		                PHB
.190696	08		php		                PHP
.190697	c2 30		rep #$30	                REP #$30        ; set A&X long
.190699	18		clc		                CLC
.19069a	a5 0c		lda $0c		                LDA SCREENBEGIN
.19069c	a8		tay		                TAY             ; Destination is first row
.19069d	65 11		adc $11		                ADC COLS_PER_LINE
.19069f	aa		tax		                TAX             ; Source is second row
.1906a0	a9 ef 1f	lda #$1fef	                LDA #SCREEN_PAGE1-SCREEN_PAGE0-COLS_PER_LINE
.1906a3	44 00 00	mvp $00,$00	                MVP $00,$00
.1906a6	28		plp		                PLP
.1906a7	ab		plb		                PLB
.1906a8	7a		ply		                PLY
.1906a9	fa		plx		                PLX
.1906aa	68		pla		                PLA
.1906ab	6b		rtl		                RTL
.1906ac	08		php		IPRINTH         PHP
.1906ad	48		pha		                PHA
.1906ae					iprinth1
.1906ae	e2 20		sep #$20	                SEP #$20        ; set A short
.1906b0	bd 00 00	lda $190000,x	                LDA #0,b,x      ; Read the value to be printed
.1906b3	4a		lsr a		                LSR
.1906b4	4a		lsr a		                LSR
.1906b5	4a		lsr a		                LSR
.1906b6	4a		lsr a		                LSR
.1906b7	22 c9 06 19	jsl $1906c9	                JSL iprint_digit
.1906bb	bd 00 00	lda $190000,x	                LDA #0,b,x
.1906be	22 c9 06 19	jsl $1906c9	                JSL iprint_digit
.1906c2	ca		dex		                DEX
.1906c3	88		dey		                DEY
.1906c4	d0 e8		bne $1906ae	                BNE iprinth1
.1906c6	68		pla		                PLA
.1906c7	28		plp		                PLP
.1906c8	6b		rtl		                RTL
.1906c9	da		phx		iprint_digit    PHX
.1906ca	c2 20		rep #$20	                REP #$20        ; set A long
.1906cc	29 0f 00	and #$000f	                AND #$0F
.1906cf	aa		tax		                TAX
.1906d0	bf e8 16 19	lda $1916e8,x	                LDA hex_digits,X
.1906d4	22 93 05 19	jsl $190593	                JSL IPUTC       ; Print the digit
.1906d8	fa		plx		                PLX
.1906d9	6b		rtl		                RTL
.1906da	0b		phd		ICLRSCREEN	    PHD
.1906db	08		php		                PHP
.1906dc	48		pha		                PHA
.1906dd	da		phx		                PHX
.1906de	e2 20		sep #$20	                SEP #$20        ; set A short
.1906e0	c2 10		rep #$10	                REP #$10        ; set X long
.1906e2	a2 00 00	ldx #$0000	                LDX #$0000		; Only Use One Pointer
.1906e5	a9 20		lda #$20	                LDA #$20		; Fill the Entire Screen with Space
.1906e7	9f 00 a0 af	sta $afa000,x	iclearloop0	    STA CS_TEXT_MEM_PTR, x	;
.1906eb	e8		inx		                inx
.1906ec	e0 00 20	cpx #$2000	                cpx #$2000
.1906ef	d0 f6		bne $1906e7	                bne iclearloop0
.1906f1	a2 00 00	ldx #$0000	                LDX	#$0000		; Only Use One Pointer
.1906f4	a9 ed		lda #$ed	                LDA #$ED		; Fill the Color Memory with Foreground: 75% Purple, Background 12.5% White
.1906f6	9f 00 c0 af	sta $afc000,x	iclearloop1	    STA CS_COLOR_MEM_PTR, x	;
.1906fa	e8		inx		                inx
.1906fb	e0 00 20	cpx #$2000	                cpx #$2000
.1906fe	d0 f6		bne $1906f6	                bne iclearloop1
.190700	c2 10		rep #$10	                REP #$10        ; set X long
.190702	c2 20		rep #$20	                REP #$20        ; set A long
.190704	fa		plx		                PLX
.190705	68		pla		                PLA
.190706	28		plp		                PLP
.190707	2b		pld		                PLD
.190708	6b		rtl		                RTL
.190709	48		pha		ICOLORFLAG      PHA
.19070a	da		phx		                PHX
.19070b	08		php		                PHP
.19070c	e2 30		sep #$30	                SEP #$30        ; set A&X short
.19070e	a2 00		ldx #$00	                LDX #$00
.190710	bf 5e 14 19	lda $19145e,x	iclearloop2	    LDA @lgreet_clr_line1,x
.190714	9f 00 c0 af	sta $afc000,x	                STA CS_COLOR_MEM_PTR,x
.190718	bf 6c 14 19	lda $19146c,x	                LDA @lgreet_clr_line2,x
.19071c	9f 80 c0 af	sta $afc080,x	                STA CS_COLOR_MEM_PTR + $80,x
.190720	bf 7a 14 19	lda $19147a,x	                LDA @lgreet_clr_line3,x
.190724	9f 00 c1 af	sta $afc100,x	                STA CS_COLOR_MEM_PTR + $100,x
.190728	bf 88 14 19	lda $191488,x	                LDA @lgreet_clr_line4,x
.19072c	9f 80 c1 af	sta $afc180,x	                STA CS_COLOR_MEM_PTR + $180,x
.190730	bf 96 14 19	lda $191496,x	                LDA @lgreet_clr_line5,x
.190734	9f 00 c2 af	sta $afc200,x	                STA CS_COLOR_MEM_PTR + $200,x
.190738	e8		inx		                inx
.190739	e0 0e		cpx #$0e	                cpx #$0E
.19073b	d0 d3		bne $190710	                bne iclearloop2
.19073d	28		plp		                PLP
.19073e	fa		plx		                PLX
.19073f	68		pla		                PLA
.190740	6b		rtl		                RTL
.190741	0b		phd		IINITCHLUT		  PHD
.190742	08		php		                PHP
.190743	48		pha		                PHA
.190744	da		phx		                PHX
.190745	e2 20		sep #$20	                SEP #$20        ; set A short
.190747	e2 10		sep #$10	                SEP #$10        ; set X short
.190749	a2 00		ldx #$00					        LDX	#$00
.19074b	bf a4 14 19	lda $1914a4,x	lutinitloop0	  LDA @lfg_color_lut,x		; get Local Data
.19074f	9f 40 1f af	sta $af1f40,x	                STA FG_CHAR_LUT_PTR,x	; Write in LUT Memory
.190753	e8		inx		                inx
.190754	e0 40		cpx #$40	                cpx #$40
.190756	d0 f3		bne $19074b	                bne lutinitloop0
.190758	a2 00		ldx #$00	                LDX	#$00
.19075a	bf e4 14 19	lda $1914e4,x	lutinitloop1	  LDA @lbg_color_lut,x		; get Local Data
.19075e	9f 80 1f af	sta $af1f80,x	                STA BG_CHAR_LUT_PTR,x	; Write in LUT Memory
.190762	e8		inx		                INX
.190763	e0 40		cpx #$40	                CPX #$40
.190765	d0 f3		bne $19075a	                bne lutinitloop1
.190767	c2 20		rep #$20	                REP #$20        ; set A long
.190769	c2 10		rep #$10	                REP #$10        ; set X long
.19076b	fa		plx		                PLX
.19076c	68		pla		                PLA
.19076d	28		plp		                PLP
.19076e	2b		pld		                PLD
.19076f	6b		rtl		                RTL
.190770					IINITGAMMATABLE
.190770	e2 20		sep #$20	                SEP #$20        ; set A short
.190772	c2 10		rep #$10	                REP #$10        ; set X long
.190774	a2 00 00	ldx #$0000	                ldx #$0000
.190777	bf 00 1b 19	lda $191b00,x	initgammaloop   LDA GAMMA_1_8_Tbl, x
.19077b	9f 00 40 af	sta $af4000,x	                STA GAMMA_B_LUT_PTR, x
.19077f	9f 00 41 af	sta $af4100,x	                STA GAMMA_G_LUT_PTR, x
.190783	9f 00 42 af	sta $af4200,x	                STA GAMMA_R_LUT_PTR, x
.190787	e8		inx		                inx
.190788	e0 00 01	cpx #$0100	                cpx #$0100
.19078b	d0 ea		bne $190777	                bne initgammaloop
.19078d	c2 30		rep #$30	                REP #$30        ; set A&X long
.19078f	6b		rtl		                RTL
.190790	48		pha		IINITALLLUT     PHA
.190791	da		phx		                PHX
.190792	a2 00 00	ldx #$0000	                LDX #$0000
.190795	e2 20		sep #$20	                SEP #$20        ; set A short
.190797	a9 00		lda #$00	                LDA #$00
.190799	85 0a		sta $0a		                STA $0A     ; Temp Location
.19079b					iinit_lut_loop
.19079b	86 02		stx $02		                STX $02
.19079d	a6 0a		ldx $0a		                LDX $0A
.19079f	bf 00 1a 19	lda $191a00,x	                LDA GAMMA_2_2_Tbl, x
.1907a3	49 55		eor #$55	                EOR  #$55
.1907a5	a6 02		ldx $02		                LDX $02
.1907a7	9f 00 20 af	sta $af2000,x	                STA @lGRPH_LUT0_PTR, x
.1907ab	9f 00 24 af	sta $af2400,x	                STA @lGRPH_LUT1_PTR, x
.1907af	9f 00 28 af	sta $af2800,x	                STA @lGRPH_LUT2_PTR, x
.1907b3	9f 00 2c af	sta $af2c00,x	                STA @lGRPH_LUT3_PTR, x
.1907b7	9f 00 30 af	sta $af3000,x	                STA @lGRPH_LUT4_PTR, x
.1907bb	9f 00 34 af	sta $af3400,x	                STA @lGRPH_LUT5_PTR, x
.1907bf	9f 00 38 af	sta $af3800,x	                STA @lGRPH_LUT6_PTR, x
.1907c3	9f 00 3c af	sta $af3c00,x	                STA @lGRPH_LUT7_PTR, x
.1907c7	e8		inx		                inx
.1907c8	86 02		stx $02		                STX $02
.1907ca	a6 0a		ldx $0a		                LDX $0A
.1907cc	bf 00 1c 19	lda $191c00,x	                LDA RANDOM_LUT_Tbl, x
.1907d0	a6 02		ldx $02		                LDX $02
.1907d2	9f 00 20 af	sta $af2000,x	                STA @lGRPH_LUT0_PTR, x
.1907d6	9f 00 24 af	sta $af2400,x	                STA @lGRPH_LUT1_PTR, x
.1907da	9f 00 28 af	sta $af2800,x	                STA @lGRPH_LUT2_PTR, x
.1907de	9f 00 2c af	sta $af2c00,x	                STA @lGRPH_LUT3_PTR, x
.1907e2	9f 00 30 af	sta $af3000,x	                STA @lGRPH_LUT4_PTR, x
.1907e6	9f 00 34 af	sta $af3400,x	                STA @lGRPH_LUT5_PTR, x
.1907ea	9f 00 38 af	sta $af3800,x	                STA @lGRPH_LUT6_PTR, x
.1907ee	9f 00 3c af	sta $af3c00,x	                STA @lGRPH_LUT7_PTR, x
.1907f2	e8		inx		                inx
.1907f3	86 02		stx $02		                STX $02
.1907f5	a6 0a		ldx $0a		                LDX $0A
.1907f7	bf 00 1b 19	lda $191b00,x	                LDA GAMMA_1_8_Tbl, x
.1907fb	49 aa		eor #$aa	                EOR  #$AA
.1907fd	a6 02		ldx $02		                LDX $02
.1907ff	9f 00 20 af	sta $af2000,x	                STA @lGRPH_LUT0_PTR, x
.190803	9f 00 24 af	sta $af2400,x	                STA @lGRPH_LUT1_PTR, x
.190807	9f 00 28 af	sta $af2800,x	                STA @lGRPH_LUT2_PTR, x
.19080b	9f 00 2c af	sta $af2c00,x	                STA @lGRPH_LUT3_PTR, x
.19080f	9f 00 30 af	sta $af3000,x	                STA @lGRPH_LUT4_PTR, x
.190813	9f 00 34 af	sta $af3400,x	                STA @lGRPH_LUT5_PTR, x
.190817	9f 00 38 af	sta $af3800,x	                STA @lGRPH_LUT6_PTR, x
.19081b	9f 00 3c af	sta $af3c00,x	                STA @lGRPH_LUT7_PTR, x
.19081f	e8		inx		                inx
.190820	a9 ff		lda #$ff	                LDA #$FF
.190822	9f 00 20 af	sta $af2000,x	                STA @lGRPH_LUT0_PTR, x
.190826	9f 00 24 af	sta $af2400,x	                STA @lGRPH_LUT1_PTR, x
.19082a	9f 00 28 af	sta $af2800,x	                STA @lGRPH_LUT2_PTR, x
.19082e	9f 00 2c af	sta $af2c00,x	                STA @lGRPH_LUT3_PTR, x
.190832	9f 00 30 af	sta $af3000,x	                STA @lGRPH_LUT4_PTR, x
.190836	9f 00 34 af	sta $af3400,x	                STA @lGRPH_LUT5_PTR, x
.19083a	9f 00 38 af	sta $af3800,x	                STA @lGRPH_LUT6_PTR, x
.19083e	9f 00 3c af	sta $af3c00,x	                STA @lGRPH_LUT7_PTR, x
.190842	e6 0a		inc $0a		                inc $0A
.190844	e8		inx		                inx
.190845	e0 00 04	cpx #$0400	                cpx #$0400
.190848	f0 03		beq $19084d	                beq iinit_lut_exit
.19084a	82 4e ff	brl $19079b	                brl iinit_lut_loop
.19084d					iinit_lut_exit
.19084d	c2 30		rep #$30	                REP #$30        ; set A&X long
.19084f	fa		plx		                PLX
.190850	68		pla		                PLA
.190851	6b		rtl		                RTL
.190852	48		pha		IINITVKYTXTMODE PHA
.190853	e2 20		sep #$20	                SEP #$20        ; set A short
.190855	a9 01		lda #$01	                LDA #Mstr_Ctrl_Text_Mode_En      ;Okay, this Enables the Text Mode (Video Display)
.190857	8f 00 00 af	sta $af0000	                STA MASTER_CTRL_REG_L
.19085b	a9 20		lda #$20	                LDA #$20
.19085d	8f 05 00 af	sta $af0005	                STA BORDER_COLOR_B
.190861	8f 07 00 af	sta $af0007	                STA BORDER_COLOR_R
.190865	a9 00		lda #$00	                LDA #$00
.190867	8f 06 00 af	sta $af0006	                STA BORDER_COLOR_G
.19086b	a9 01		lda #$01	                LDA #Border_Ctrl_Enable   ; Enable the Border
.19086d	8f 04 00 af	sta $af0004	                STA BORDER_CTRL_REG
.190871	a9 01		lda #$01	                LDA #Mstr_Ctrl_Text_Mode_En
.190873	8f 00 00 af	sta $af0000	                STA MASTER_CTRL_REG_L
.190877	c2 30		rep #$30	                REP #$30        ; set A&X long
.190879	68		pla		                PLA
.19087a	6b		rtl		                RTL
.19087b					IINITVKYGRPMODE
.19087b	48		pha		                PHA
.19087c	e2 20		sep #$20	                SEP #$20        ; set A short
.19087e	a9 00		lda #$00	                LDA #$00          ; Enable Bit-Map and uses LUT0
.190880	8f 40 01 af	sta $af0140	                STA @lBM_CONTROL_REG
.190884	a9 00		lda #$00	                LDA #$00          ;; (L)Load Base Address of where Bitmap begins
.190886	8f 41 01 af	sta $af0141	                STA @lBM_START_ADDY_L
.19088a	a9 c0		lda #$c0	                LDA #$C0
.19088c	8f 42 01 af	sta $af0142	                STA @lBM_START_ADDY_M
.190890	a9 00		lda #$00	                LDA #$00
.190892	8f 43 01 af	sta $af0143	                STA @lBM_START_ADDY_H ; This address is always base from
.190896	a9 80		lda #$80	                LDA #$80
.190898	8f 44 01 af	sta $af0144	                STA BM_X_SIZE_L
.19089c	a9 02		lda #$02	                LDA #$02
.19089e	8f 45 01 af	sta $af0145	                STA BM_X_SIZE_H         ; $0280 = 640
.1908a2	a9 e0		lda #$e0	                LDA #$E0
.1908a4	8f 46 01 af	sta $af0146	                STA BM_Y_SIZE_L
.1908a8	a9 01		lda #$01	                LDA #$01
.1908aa	8f 47 01 af	sta $af0147	                STA BM_Y_SIZE_H         ; $01E0 = 480
.1908ae	c2 30		rep #$30	                REP #$30        ; set A&X long
.1908b0	68		pla		                PLA
.1908b1	6b		rtl		                RTL
.1908b2					IINITTILEMODE
.1908b2	6b		rtl		                RTL
.1908b3	48		pha		IINITSPRITE     PHA
.1908b4	e2 20		sep #$20	                SEP #$20        ; set A short
.1908b6	a9 03		lda #$03	                LDA #$03    ; Enable 17 Sprites
.1908b8	8f 00 02 af	sta $af0200	                STA SP00_CONTROL_REG
.1908bc	8f 08 02 af	sta $af0208	                STA SP01_CONTROL_REG
.1908c0	8f 10 02 af	sta $af0210	                STA SP02_CONTROL_REG
.1908c4	8f 18 02 af	sta $af0218	                STA SP03_CONTROL_REG
.1908c8	8f 20 02 af	sta $af0220	                STA SP04_CONTROL_REG
.1908cc	8f 28 02 af	sta $af0228	                STA SP05_CONTROL_REG
.1908d0	8f 30 02 af	sta $af0230	                STA SP06_CONTROL_REG
.1908d4	8f 38 02 af	sta $af0238	                STA SP07_CONTROL_REG
.1908d8	8f 40 02 af	sta $af0240	                STA SP08_CONTROL_REG
.1908dc	8f 48 02 af	sta $af0248	                STA SP09_CONTROL_REG
.1908e0	8f 50 02 af	sta $af0250	                STA SP10_CONTROL_REG
.1908e4	8f 58 02 af	sta $af0258	                STA SP11_CONTROL_REG
.1908e8	8f 60 02 af	sta $af0260	                STA SP12_CONTROL_REG
.1908ec	8f 68 02 af	sta $af0268	                STA SP13_CONTROL_REG
.1908f0	8f 70 02 af	sta $af0270	                STA SP14_CONTROL_REG
.1908f4	8f 78 02 af	sta $af0278	                STA SP15_CONTROL_REG
.1908f8	8f 80 02 af	sta $af0280	                STA SP16_CONTROL_REG
.1908fc	a9 09		lda #$09	                LDA #$09
.1908fe	8f 03 02 af	sta $af0203	                STA SP00_ADDY_PTR_H
.190902	8f 0b 02 af	sta $af020b	                STA SP01_ADDY_PTR_H
.190906	8f 13 02 af	sta $af0213	                STA SP02_ADDY_PTR_H
.19090a	8f 1b 02 af	sta $af021b	                STA SP03_ADDY_PTR_H
.19090e	8f 23 02 af	sta $af0223	                STA SP04_ADDY_PTR_H
.190912	8f 2b 02 af	sta $af022b	                STA SP05_ADDY_PTR_H
.190916	8f 33 02 af	sta $af0233	                STA SP06_ADDY_PTR_H
.19091a	8f 3b 02 af	sta $af023b	                STA SP07_ADDY_PTR_H
.19091e	8f 43 02 af	sta $af0243	                STA SP08_ADDY_PTR_H
.190922	8f 4b 02 af	sta $af024b	                STA SP09_ADDY_PTR_H
.190926	8f 53 02 af	sta $af0253	                STA SP10_ADDY_PTR_H
.19092a	8f 5b 02 af	sta $af025b	                STA SP11_ADDY_PTR_H
.19092e	8f 63 02 af	sta $af0263	                STA SP12_ADDY_PTR_H
.190932	8f 6b 02 af	sta $af026b	                STA SP13_ADDY_PTR_H
.190936	8f 73 02 af	sta $af0273	                STA SP14_ADDY_PTR_H
.19093a	8f 7b 02 af	sta $af027b	                STA SP15_ADDY_PTR_H
.19093e	8f 83 02 af	sta $af0283	                STA SP16_ADDY_PTR_H
.190942	a9 00		lda #$00	                LDA #$00
.190944	8f 02 02 af	sta $af0202	                STA SP00_ADDY_PTR_M
.190948	a9 04		lda #$04	                LDA #$04
.19094a	8f 0a 02 af	sta $af020a	                STA SP01_ADDY_PTR_M
.19094e	a9 08		lda #$08	                LDA #$08
.190950	8f 12 02 af	sta $af0212	                STA SP02_ADDY_PTR_M
.190954	a9 0c		lda #$0c	                LDA #$0C
.190956	8f 1a 02 af	sta $af021a	                STA SP03_ADDY_PTR_M
.19095a	a9 10		lda #$10	                LDA #$10
.19095c	8f 22 02 af	sta $af0222	                STA SP04_ADDY_PTR_M
.190960	a9 14		lda #$14	                LDA #$14
.190962	8f 2a 02 af	sta $af022a	                STA SP05_ADDY_PTR_M
.190966	a9 18		lda #$18	                LDA #$18
.190968	8f 32 02 af	sta $af0232	                STA SP06_ADDY_PTR_M
.19096c	a9 1c		lda #$1c	                LDA #$1C
.19096e	8f 3a 02 af	sta $af023a	                STA SP07_ADDY_PTR_M
.190972	a9 20		lda #$20	                LDA #$20
.190974	8f 42 02 af	sta $af0242	                STA SP08_ADDY_PTR_M
.190978	a9 24		lda #$24	                LDA #$24
.19097a	8f 4a 02 af	sta $af024a	                STA SP09_ADDY_PTR_M
.19097e	a9 28		lda #$28	                LDA #$28
.190980	8f 52 02 af	sta $af0252	                STA SP10_ADDY_PTR_M
.190984	a9 2c		lda #$2c	                LDA #$2C
.190986	8f 5a 02 af	sta $af025a	                STA SP11_ADDY_PTR_M
.19098a	a9 30		lda #$30	                LDA #$30
.19098c	8f 62 02 af	sta $af0262	                STA SP12_ADDY_PTR_M
.190990	a9 34		lda #$34	                LDA #$34
.190992	8f 6a 02 af	sta $af026a	                STA SP13_ADDY_PTR_M
.190996	a9 38		lda #$38	                LDA #$38
.190998	8f 72 02 af	sta $af0272	                STA SP14_ADDY_PTR_M
.19099c	a9 3c		lda #$3c	                LDA #$3C
.19099e	8f 7a 02 af	sta $af027a	                STA SP15_ADDY_PTR_M
.1909a2	a9 40		lda #$40	                LDA #$40
.1909a4	8f 82 02 af	sta $af0282	                STA SP16_ADDY_PTR_M
.1909a8	a9 00		lda #$00	                LDA #$00
.1909aa	8f 01 02 af	sta $af0201	                STA SP00_ADDY_PTR_L
.1909ae	8f 09 02 af	sta $af0209	                STA SP01_ADDY_PTR_L
.1909b2	8f 11 02 af	sta $af0211	                STA SP02_ADDY_PTR_L
.1909b6	8f 19 02 af	sta $af0219	                STA SP03_ADDY_PTR_L
.1909ba	8f 21 02 af	sta $af0221	                STA SP04_ADDY_PTR_L
.1909be	8f 29 02 af	sta $af0229	                STA SP05_ADDY_PTR_L
.1909c2	8f 31 02 af	sta $af0231	                STA SP06_ADDY_PTR_L
.1909c6	8f 39 02 af	sta $af0239	                STA SP07_ADDY_PTR_L
.1909ca	8f 41 02 af	sta $af0241	                STA SP08_ADDY_PTR_L
.1909ce	8f 49 02 af	sta $af0249	                STA SP09_ADDY_PTR_L
.1909d2	8f 51 02 af	sta $af0251	                STA SP10_ADDY_PTR_L
.1909d6	8f 59 02 af	sta $af0259	                STA SP11_ADDY_PTR_L
.1909da	8f 61 02 af	sta $af0261	                STA SP12_ADDY_PTR_L
.1909de	8f 69 02 af	sta $af0269	                STA SP13_ADDY_PTR_L
.1909e2	8f 71 02 af	sta $af0271	                STA SP14_ADDY_PTR_L
.1909e6	8f 79 02 af	sta $af0279	                STA SP15_ADDY_PTR_L
.1909ea	8f 81 02 af	sta $af0281	                STA SP16_ADDY_PTR_L
.1909ee	68		pla		                PLA
.1909ef	6b		rtl		                RTL
.1909f0					IINITFONTSET
.1909f0	e2 20		sep #$20	                SEP #$20        ; set A short
.1909f2	c2 10		rep #$10	                REP #$10        ; set X long
.1909f4	a2 00 00	ldx #$0000	                LDX #$0000
.1909f7					initFontsetbranch0
.1909f7	bf 00 f0 1f	lda $1ff000,x	                LDA @lFONT_4_BANK0,X    ; RAM Content
.1909fb	9f 00 80 af	sta $af8000,x	                STA @lFONT_MEMORY_BANK0,X ; Vicky FONT RAM Bank
.1909ff	e8		inx		                INX
.190a00	e0 00 08	cpx #$0800	                CPX #$0800
.190a03	d0 f2		bne $1909f7	                BNE initFontsetbranch0
.190a05	ea		nop		                NOP
.190a06	a2 00 00	ldx #$0000	                LDX #$0000
.190a09					initFontsetbranch1
.190a09	bf 00 f8 1f	lda $1ff800,x	                LDA @lFONT_4_BANK1,X
.190a0d	9f 00 88 af	sta $af8800,x	                STA @lFONT_MEMORY_BANK1,X ; Vicky FONT RAM Bank
.190a11	e8		inx		                INX
.190a12	e0 00 08	cpx #$0800	                CPX #$0800
.190a15	d0 f2		bne $190a09	                BNE initFontsetbranch1
.190a17	ea		nop		                NOP
.190a18	c2 30		rep #$30	                REP #$30        ; set A&X long
.190a1a	6b		rtl		                RTL
.190a1b					INITMOUSEPOINTER
.190a1b	e2 20		sep #$20	                SEP #$20        ; set A short
.190a1d	c2 10		rep #$10	                REP #$10        ; set X long
.190a1f	a2 00 00	ldx #$0000	                LDX #$0000
.190a22					FILL_MOUSE_MARKER
.190a22	bf 00 1d 19	lda $191d00,x	                LDA @lMOUSE_POINTER_PTR,X
.190a26	9f 00 05 af	sta $af0500,x	                STA @lMOUSE_PTR_GRAP0_START, X
.190a2a	e8		inx		                INX
.190a2b	e0 00 01	cpx #$0100	                CPX #$0100
.190a2e	d0 f2		bne $190a22	                BNE FILL_MOUSE_MARKER
.190a30	ea		nop		                nop
.190a31	a9 01		lda #$01	                LDA #$01
.190a33	8f 00 07 af	sta $af0700	                STA @lMOUSE_PTR_CTRL_REG_L  ; Enable Mouse, Mouse Pointer Graphic Bank 0
.190a37	c2 30		rep #$30	                REP #$30        ; set A&X long
.190a39	6b		rtl		                RTL
.190a3a	48		pha		IINITCURSOR     PHA
.190a3b	e2 20		sep #$20	                SEP #$20        ; set A short
.190a3d	a9 b1		lda #$b1	                LDA #$B1      ;The Cursor Character will be a Fully Filled Block
.190a3f	8f 12 00 af	sta $af0012	                STA VKY_TXT_CURSOR_CHAR_REG
.190a43	a9 03		lda #$03	                LDA #$03      ;Set Cursor Enable And Flash Rate @1Hz
.190a45	8f 10 00 af	sta $af0010	                STA VKY_TXT_CURSOR_CTRL_REG ;
.190a49	c2 30		rep #$30	                REP #$30        ; set A&X long
.190a4b	a9 00 00	lda #$0000	                LDA #$0000;
.190a4e	8f 14 00 af	sta $af0014	                STA VKY_TXT_CURSOR_X_REG_L; // Set the X to Position 1
.190a52	a9 06 00	lda #$0006	                LDA #$0006;
.190a55	8f 16 00 af	sta $af0016	                STA VKY_TXT_CURSOR_Y_REG_L; // Set the Y to Position 6 (Below)
.190a59	68		pla		                PLA
.190a5a	6b		rtl		                RTL
.190a5b	0b		phd		IINITSUPERIO	  PHD
.190a5c	08		php		                PHP
.190a5d	48		pha		                PHA
.190a5e	e2 20		sep #$20	                SEP #$20        ; set A short
.190a60	a9 01		lda #$01	                LDA #$01		;Default Value - C256 Doesn't use this IO Pin
.190a62	8f 23 11 af	sta $af1123	                STA GP10_REG
.190a66	af 23 11 af	lda $af1123	                LDA GP10_REG
.190a6a	a9 01		lda #$01	                LDA #$01		;Default Value - C256 Doesn't use this IO Pin
.190a6c	8f 24 11 af	sta $af1124	                STA GP11_REG
.190a70	a9 01		lda #$01	                LDA #$01		;Default Value - C256 Doesn't use this IO Pin
.190a72	8f 25 11 af	sta $af1125	                STA GP12_REG
.190a76	a9 01		lda #$01	        				LDA #$01		;Default Value - C256 Doesn't use this IO Pin
.190a78	8f 26 11 af	sta $af1126	        				STA GP13_REG
.190a7c	a9 05		lda #$05	        				LDA #$05		;(C256 - POT A Analog BX) Bit[0] = 1, Bit[2] = 1
.190a7e	8f 27 11 af	sta $af1127	        				STA GP14_REG
.190a82	a9 05		lda #$05	        				LDA #$05		;(C256 - POT A Analog BY) Bit[0] = 1, Bit[2] = 1
.190a84	8f 28 11 af	sta $af1128	        				STA GP15_REG
.190a88	a9 05		lda #$05	        				LDA #$05		;(C256 - POT B Analog BX) Bit[0] = 1, Bit[2] = 1
.190a8a	8f 29 11 af	sta $af1129	        				STA GP16_REG
.190a8e	a9 05		lda #$05	        				LDA #$05		;(C256 - POT B Analog BY) Bit[0] = 1, Bit[2] = 1
.190a90	8f 2a 11 af	sta $af112a	        				STA GP17_REG
.190a94	a9 00		lda #$00	        				LDA #$00		;(C256 - HEADPHONE MUTE) - Output GPIO - Push-Pull (1 - Headphone On, 0 - HeadPhone Off)
.190a96	8f 2b 11 af	sta $af112b	        				STA GP20_REG
.190a9a	a9 01		lda #$01					        LDA #$01		;Default Value - C256 Doesn't use this IO Pin
.190a9c	8f 2f 11 af	sta $af112f					        STA GP24_REG
.190aa0	a9 05		lda #$05					        LDA #$05		;(C256 - MIDI IN) Bit[0] = 1, Bit[2] = 1 (Page 132 Manual)
.190aa2	8f 30 11 af	sta $af1130					        STA GP25_REG
.190aa6	a9 84		lda #$84				        	LDA #$84		;(C256 - MIDI OUT) Bit[2] = 1, Bit[7] = 1 (Open Drain - To be Checked)
.190aa8	8f 31 11 af	sta $af1131					        STA GP26_REG
.190aac	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 1) Setup as GPIO Input for now
.190aae	8f 33 11 af	sta $af1133					        STA GP30_REG
.190ab2	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 4) Setup as GPIO Input for now
.190ab4	8f 34 11 af	sta $af1134					        STA GP31_REG
.190ab8	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 3) Setup as GPIO Input for now
.190aba	8f 35 11 af	sta $af1135					        STA GP32_REG
.190abe	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 6) Setup as GPIO Input for now
.190ac0	8f 36 11 af	sta $af1136					        STA GP33_REG
.190ac4	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 5) Setup as GPIO Input for now
.190ac6	8f 37 11 af	sta $af1137					        STA GP34_REG
.190aca	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 8) Setup as GPIO Input for now
.190acc	8f 38 11 af	sta $af1138					        STA GP35_REG
.190ad0	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 7) Setup as GPIO Input for now
.190ad2	8f 39 11 af	sta $af1139					        STA GP36_REG
.190ad6	a9 01		lda #$01					        LDA #$01		;Default Value - (C256 - JP1 Fanout Pin 10) Setup as GPIO Input for now
.190ad8	8f 3a 11 af	sta $af113a					        STA GP37_REG
.190adc	a9 01		lda #$01					        LDA #$01		;Default Value - C256 Doesn't use this IO Pin
.190ade	8f 3d 11 af	sta $af113d					        STA GP42_REG
.190ae2	a9 01		lda #$01				          LDA #$01		;(C256 - INPUT PLL CLK INTERRUPT) Default Value - Will keep it as an input for now, no real usage for now
.190ae4	8f 3e 11 af	sta $af113e					        STA GP43_REG
.190ae8	a9 05		lda #$05					        LDA #$05		;(C256 - UART2 - RI2) - Input - Set Secondary Function
.190aea	8f 3f 11 af	sta $af113f					        STA GP50_REG
.190aee	a9 05		lda #$05					        LDA #$05		;(C256 - UART2 - DCD2) - Input - Set Secondary Function
.190af0	8f 40 11 af	sta $af1140					        STA GP51_REG
.190af4	a9 05		lda #$05					        LDA #$05		;(C256 - UART2 - RXD2) - Input - Set Secondary Function
.190af6	8f 41 11 af	sta $af1141					        STA GP52_REG
.190afa	a9 04		lda #$04					        LDA #$04		;(C256 - UART2 - TXD2) - Output - Set Secondary Function
.190afc	8f 42 11 af	sta $af1142					        STA GP53_REG
.190b00	a9 05		lda #$05					        LDA #$05		;(C256 - UART2 - DSR2) - Input - Set Secondary Function
.190b02	8f 43 11 af	sta $af1143					        STA GP54_REG
.190b06	a9 04		lda #$04					        LDA #$04		;(C256 - UART2 - RTS2) - Output - Set Secondary Function
.190b08	8f 44 11 af	sta $af1144					        STA GP55_REG
.190b0c	a9 05		lda #$05					        LDA #$05		;(C256 - UART2 - CTS2) - Input - Set Secondary Function
.190b0e	8f 45 11 af	sta $af1145					        STA GP56_REG
.190b12	a9 04		lda #$04					        LDA #$04		;(C256 - UART2 - DTR2) - Output - Set Secondary Function
.190b14	8f 46 11 af	sta $af1146					        STA GP57_REG
.190b18	a9 84		lda #$84					        LDA #$84		;(C256 - LED1) - Open Drain - Output
.190b1a	8f 47 11 af	sta $af1147					        STA GP60_REG
.190b1e	a9 84		lda #$84					        LDA #$84		;(C256 - LED2) - Open Drain - Output
.190b20	8f 48 11 af	sta $af1148					        STA GP61_REG
.190b24	a9 00		lda #$00				        	LDA #$00		;GPIO Data Register (GP10..GP17) - Not Used
.190b26	8f 4b 11 af	sta $af114b					        STA GP1_REG
.190b2a	a9 01		lda #$01					        LDA #$01		;GPIO Data Register (GP20..GP27) - Bit[0] - Headphone Mute (Enabling it)
.190b2c	8f 4c 11 af	sta $af114c					        STA GP2_REG
.190b30	a9 00		lda #$00					        LDA #$00		;GPIO Data Register (GP30..GP37) - Since it is in Output mode, nothing to write here.
.190b32	8f 4d 11 af	sta $af114d					        STA GP3_REG
.190b36	a9 00		lda #$00					        LDA #$00		;GPIO Data Register (GP40..GP47)  - Not Used
.190b38	8f 4e 11 af	sta $af114e					        STA GP4_REG
.190b3c	a9 00		lda #$00					        LDA #$00		;GPIO Data Register (GP50..GP57)  - Not Used
.190b3e	8f 4f 11 af	sta $af114f					        STA GP5_REG
.190b42	a9 00		lda #$00					        LDA #$00		;GPIO Data Register (GP60..GP61)  - Not Used
.190b44	8f 50 11 af	sta $af1150					        STA GP6_REG
.190b48	a9 01		lda #$01					        LDA #$01		;LED1 Output - Already setup by Vicky Init Phase, for now, I will leave it alone
.190b4a	8f 5d 11 af	sta $af115d					        STA LED1_REG
.190b4e	a9 02		lda #$02					        LDA #$02		;LED2 Output - However, I will setup this one, to make sure the Code works (Full On, when Code was ran)
.190b50	8f 5e 11 af	sta $af115e					        STA LED2_REG
.190b54	c2 20		rep #$20	                REP #$20        ; set A long
.190b56	68		pla		                PLA
.190b57	28		plp						        PLP
.190b58	2b		pld					        	PLD
.190b59	6b		rtl		                RTL
.190b5a	0b		phd		IINITKEYBOARD	  PHD
.190b5b	08		php						        PHP
.190b5c	48		pha						        PHA
.190b5d	da		phx						        PHX
.190b5e	e2 20		sep #$20	                SEP #$20        ; set A short
.190b60	c2 10		rep #$10	                REP #$10        ; set X long
.190b62	18		clc		                CLC
.190b63	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf ;
.190b66	a9 aa		lda #$aa					        LDA #$AA			;Send self test command
.190b68	8f 64 10 af	sta $af1064					        STA KBD_CMD_BUF
.190b6c	20 3a 0c	jsr $190c3a	                JSR Poll_Outbuf ;
.190b6f	af 60 10 af	lda $af1060					        LDA KBD_OUT_BUF		;Check self test result
.190b73	c9 55		cmp #$55					        CMP #$55
.190b75	f0 03		beq $190b7a					        BEQ	passAAtest
.190b77	82 a5 00	brl $190c1f	                BRL initkb_loop_out
.190b7a	a2 51 15	ldx #$1551	passAAtest      LDX #<>pass_tst0xAAmsg
.190b7d	22 73 05 19	jsl $190573	                JSL IPRINT      ; print Message
.190b81	a9 ab		lda #$ab					        LDA #$AB			;Send test Interface command
.190b83	8f 64 10 af	sta $af1064					        STA KBD_CMD_BUF
.190b87	20 3a 0c	jsr $190c3a	                JSR Poll_Outbuf ;
.190b8a	af 60 10 af	lda $af1060					        LDA KBD_OUT_BUF		;Display Interface test results
.190b8e	c9 00		cmp #$00					        CMP #$00			;Should be 00
.190b90	f0 03		beq $190b95					        BEQ	passABtest
.190b92	82 8a 00	brl $190c1f	                BRL initkb_loop_out
.190b95	a2 6a 15	ldx #$156a	passABtest      LDX #<>pass_tst0xABmsg
.190b98	22 73 05 19	jsl $190573	                JSL IPRINT       ; print Message
.190b9c	a9 60		lda #$60	                LDA #$60            ; Send Command 0x60 so to Enable Interrupt
.190b9e	8f 64 10 af	sta $af1064	                STA KBD_CMD_BUF
.190ba2	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf ;
.190ba5	a9 69		lda #$69	                LDA #%01101001      ; Enable Interrupt
.190ba7	8f 60 10 af	sta $af1060	                STA KBD_DATA_BUF
.190bab	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf ;
.190bae	a2 83 15	ldx #$1583	                LDX #<>pass_cmd0x60msg
.190bb1	22 73 05 19	jsl $190573	                JSL IPRINT       ; print Message
.190bb5	a9 ff		lda #$ff	                LDA #$FF      ; Send Keyboard Reset command
.190bb7	8f 60 10 af	sta $af1060	                STA KBD_DATA_BUF
.190bbb	a2 ff ff	ldx #$ffff	                LDX #$FFFF
.190bbe	ca		dex		DLY_LOOP1       DEX
.190bbf	ea		nop		                NOP
.190bc0	ea		nop		                NOP
.190bc1	ea		nop		                NOP
.190bc2	ea		nop		                NOP
.190bc3	ea		nop		                NOP
.190bc4	ea		nop		                NOP
.190bc5	ea		nop		                NOP
.190bc6	ea		nop		                NOP
.190bc7	e0 00 00	cpx #$0000	                CPX #$0000
.190bca	d0 f2		bne $190bbe	                BNE DLY_LOOP1
.190bcc	20 3a 0c	jsr $190c3a	                JSR Poll_Outbuf ;
.190bcf	af 60 10 af	lda $af1060	                LDA KBD_OUT_BUF   ; Read Output Buffer
.190bd3	a2 97 15	ldx #$1597	                LDX #<>pass_cmd0xFFmsg
.190bd6	22 73 05 19	jsl $190573	                JSL IPRINT       ; print Message
.190bda					DO_CMD_F4_AGAIN
.190bda	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf ;
.190bdd	a9 f4		lda #$f4					        LDA #$F4			; Enable the Keyboard
.190bdf	8f 60 10 af	sta $af1060					        STA KBD_DATA_BUF
.190be3	20 3a 0c	jsr $190c3a	                JSR Poll_Outbuf ;
.190be6	af 60 10 af	lda $af1060					        LDA KBD_OUT_BUF		; Clear the Output buffer
.190bea	c9 fa		cmp #$fa	                CMP #$FA
.190bec	d0 ec		bne $190bda	                BNE DO_CMD_F4_AGAIN
.190bee	20 45 0c	jsr $190c45	                JSR INIT_MOUSE
.190bf1	af 40 01 00	lda $000140	                LDA @lINT_PENDING_REG0  ; Read the Pending Register &
.190bf5	29 80		and #$80	                AND #FNX0_INT07_MOUSE
.190bf7	8f 40 01 00	sta $000140	                STA @lINT_PENDING_REG0  ; Writing it back will clear the Active Bit
.190bfb	af 41 01 00	lda $000141	                LDA @lINT_PENDING_REG1  ; Read the Pending Register &
.190bff	29 01		and #$01	                AND #FNX1_INT00_KBD
.190c01	8f 41 01 00	sta $000141	                STA @lINT_PENDING_REG1  ; Writing it back will clear the Active Bit
.190c05	af 4d 01 00	lda $00014d	                LDA @lINT_MASK_REG1
.190c09	29 fe		and #$fe	                AND #~FNX1_INT00_KBD
.190c0b	8f 4d 01 00	sta $00014d	                STA @lINT_MASK_REG1
.190c0f	af 4c 01 00	lda $00014c	                LDA @lINT_MASK_REG0
.190c13	29 7f		and #$7f	                AND #~FNX0_INT07_MOUSE
.190c15	8f 4c 01 00	sta $00014c	                STA @lINT_MASK_REG0
.190c19	a2 cd 15	ldx #$15cd	                LDX #<>Success_kb_init
.190c1c	38		sec		                SEC
.190c1d	b0 03		bcs $190c22	                BCS InitSuccess
.190c1f	a2 df 15	ldx #$15df	initkb_loop_out LDX #<>Failed_kb_init
.190c22	22 73 05 19	jsl $190573	InitSuccess     JSL IPRINT       ; print Message
.190c26	c2 20		rep #$20	                REP #$20        ; set A long
.190c28	c2 10		rep #$10	                REP #$10        ; set X long
.190c2a	fa		plx		                PLX
.190c2b	68		pla		                PLA
.190c2c	28		plp						        PLP
.190c2d	2b		pld						        PLD
.190c2e	6b		rtl		                RTL
.190c2f					Poll_Inbuf
.190c2f	af 64 10 af	lda $af1064	                LDA STATUS_PORT		; Load Status Byte
.190c33	29 02		and #$02					        AND	#<INPT_BUF_FULL	; Test bit $02 (if 0, Empty)
.190c35	c9 02		cmp #$02					        CMP #<INPT_BUF_FULL
.190c37	f0 f6		beq $190c2f					        BEQ Poll_Inbuf
.190c39	60		rts		                RTS
.190c3a					Poll_Outbuf
.190c3a	af 64 10 af	lda $af1064	                LDA STATUS_PORT
.190c3e	29 01		and #$01	                AND #OUT_BUF_FULL ; Test bit $01 (if 1, Full)
.190c40	c9 01		cmp #$01	                CMP #OUT_BUF_FULL
.190c42	d0 f6		bne $190c3a	                BNE Poll_Outbuf
.190c44	60		rts		                RTS
.190c45					INIT_MOUSE
.190c45	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf
.190c48	a9 a8		lda #$a8	                LDA #$A8          ; Enable the second PS2 Channel
.190c4a	8f 64 10 af	sta $af1064	                STA KBD_CMD_BUF
.190c4e					DO_CMD_A9_AGAIN
.190c4e	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf
.190c51	a9 a9		lda #$a9	                LDA #$A9          ; Tests second PS2 Channel
.190c53	8f 64 10 af	sta $af1064	                STA KBD_CMD_BUF
.190c57	20 3a 0c	jsr $190c3a	                JSR Poll_Outbuf ;
.190c5a	af 60 10 af	lda $af1060					        LDA KBD_OUT_BUF		; Clear the Output buffer
.190c5e	c9 00		cmp #$00	                CMP #$00
.190c60	d0 ec		bne $190c4e	                BNE DO_CMD_A9_AGAIN
.190c62	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf
.190c65	a9 20		lda #$20	                LDA #$20
.190c67	8f 64 10 af	sta $af1064	                STA KBD_CMD_BUF
.190c6b	20 3a 0c	jsr $190c3a	                JSR Poll_Outbuf ;
.190c6e	af 60 10 af	lda $af1060	                LDA KBD_OUT_BUF
.190c72	09 02		ora #$02	                ORA #$02
.190c74	48		pha		                PHA
.190c75	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf
.190c78	a9 60		lda #$60	                LDA #$60
.190c7a	8f 64 10 af	sta $af1064	                STA KBD_CMD_BUF
.190c7e	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf ;
.190c81	68		pla		                PLA
.190c82	8f 60 10 af	sta $af1060	                STA KBD_DATA_BUF
.190c86	a9 f6		lda #$f6	                LDA #$F6        ;Tell the mouse to use default settings
.190c88	20 ab 0c	jsr $190cab	                JSR MOUSE_WRITE
.190c8b	20 be 0c	jsr $190cbe	                JSR MOUSE_READ
.190c8e	a9 e8		lda #$e8	                LDA #$E8
.190c90	20 ab 0c	jsr $190cab	                JSR MOUSE_WRITE
.190c93	20 be 0c	jsr $190cbe	                JSR MOUSE_READ
.190c96	a9 00		lda #$00	                LDA #$00
.190c98	20 ab 0c	jsr $190cab	                JSR MOUSE_WRITE
.190c9b	20 be 0c	jsr $190cbe	                JSR MOUSE_READ
.190c9e	a9 f4		lda #$f4	                LDA #$F4        ; Enable the Mouse
.190ca0	20 ab 0c	jsr $190cab	                JSR MOUSE_WRITE
.190ca3	20 be 0c	jsr $190cbe	                JSR MOUSE_READ
.190ca6	a9 00		lda #$00	                LDA #$00
.190ca8	85 e0		sta $e0		                STA MOUSE_PTR
.190caa	60		rts		                RTS
.190cab					MOUSE_WRITE
.190cab	48		pha		                PHA
.190cac	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf
.190caf	a9 d4		lda #$d4	                LDA #$D4
.190cb1	8f 64 10 af	sta $af1064	                STA KBD_CMD_BUF
.190cb5	20 2f 0c	jsr $190c2f	                JSR Poll_Inbuf
.190cb8	68		pla		                PLA
.190cb9	8f 60 10 af	sta $af1060	                STA KBD_DATA_BUF
.190cbd	60		rts		                RTS
.190cbe					MOUSE_READ
.190cbe	20 3a 0c	jsr $190c3a	                JSR Poll_Outbuf ;
.190cc1	af 60 10 af	lda $af1060	                LDA KBD_INPT_BUF
.190cc5	60		rts		                RTS
.190cc6	48		pha		INITRTC         PHA
.190cc7	e2 20		sep #$20	                SEP #$20        ; set A short
.190cc9	af 0e 08 af	lda $af080e	                LDA @lRTC_CTRL
.190ccd	00		brk #		                BRK
.190cce	c2 20		rep #$20	                REP #$20        ; set A long
.190cd0	68		pla		                PLA
.190cd1	6b		rtl		                RTL
.190cd2	48		pha		ITESTSID        PHA
.190cd3	e2 20		sep #$20	                SEP #$20        ; set A short
.190cd5	a9 0f		lda #$0f	                LDA #$0F
.190cd7	8f 18 e4 af	sta $afe418	                STA SID0_MODE_VOL
.190cdb	a9 be		lda #$be	                LDA #$BE
.190cdd	8f 05 e4 af	sta $afe405	                STA SID0_V1_ATCK_DECY
.190ce1	a9 f8		lda #$f8	                LDA #$F8
.190ce3	8f 06 e4 af	sta $afe406	                STA SID0_V1_SSTN_RLSE
.190ce7	a9 11		lda #$11	                LDA #$11
.190ce9	8f 01 e4 af	sta $afe401	                STA SID0_V1_FREQ_HI
.190ced	a9 25		lda #$25	                LDA #$25
.190cef	8f 00 e4 af	sta $afe400	                STA SID0_V1_FREQ_LO
.190cf3	a9 11		lda #$11	                LDA #$11
.190cf5	8f 04 e4 af	sta $afe404	                STA SID0_V1_CTRL
.190cf9	c2 20		rep #$20	                REP #$20        ; set A long
.190cfb	68		pla		                PLA
.190cfc	6b		rtl		                RTL
.190cfd	48		pha		IINITCODEC      PHA
.190cfe	c2 20		rep #$20	                REP #$20        ; set A long
.190d00	a9 00 1a	lda #$1a00	                LDA #%0001101000000000     ;R13 - Turn On Headphones
.190d03	8f 20 e8 af	sta $afe820	                STA CODEC_DATA_LO
.190d07	a9 01 00	lda #$0001	                LDA #$0001
.190d0a	8f 22 e8 af	sta $afe822	                STA CODEC_WR_CTRL             ; Execute the Write
.190d0e	20 5a 0d	jsr $190d5a	                JSR CODEC_TRF_FINISHED
.190d11	a9 03 2a	lda #$2a03	                LDA #%0010101000000011       ;R21 - Enable All the Analog In
.190d14	8f 20 e8 af	sta $afe820	                STA CODEC_DATA_LO
.190d18	a9 01 00	lda #$0001	                LDA #$0001
.190d1b	8f 22 e8 af	sta $afe822	                STA CODEC_WR_CTRL             ; Execute the Write
.190d1f	20 5a 0d	jsr $190d5a	                JSR CODEC_TRF_FINISHED
.190d22	a9 01 23	lda #$2301	                LDA #%0010001100000001      ;R17 - Enable All the Analog In
.190d25	8f 20 e8 af	sta $afe820	                STA CODEC_DATA_LO
.190d29	a9 01 00	lda #$0001	                LDA #$0001
.190d2c	8f 22 e8 af	sta $afe822	                STA CODEC_WR_CTRL             ; Execute the Write
.190d30	20 5a 0d	jsr $190d5a	                JSR CODEC_TRF_FINISHED
.190d33	a9 07 2c	lda #$2c07	                LDA #%0010110000000111      ;R22 - Enable all Analog Out
.190d36	8f 20 e8 af	sta $afe820	                STA CODEC_DATA_LO
.190d3a	a9 01 00	lda #$0001	                LDA #$0001
.190d3d	8f 22 e8 af	sta $afe822	                STA CODEC_WR_CTRL             ; Execute the Write
.190d41	20 5a 0d	jsr $190d5a	                JSR CODEC_TRF_FINISHED
.190d44	68		pla		                PLA
.190d45	6b		rtl		                RTL
.190d46					IRESETCODEC
.190d46	c2 20		rep #$20	                REP #$20        ; set A long
.190d48	a9 00 2e	lda #$2e00	                LDA #$2E00      ;R22 - Enable all Analog Out
.190d4b	8f 20 e8 af	sta $afe820	                STA CODEC_DATA_LO
.190d4f	a9 01 00	lda #$0001	                LDA #$0001
.190d52	8f 22 e8 af	sta $afe822	                STA CODEC_WR_CTRL             ; Execute the Write
.190d56	20 5a 0d	jsr $190d5a	                JSR CODEC_TRF_FINISHED
.190d59	6b		rtl		                RTL
.190d5a					CODEC_TRF_FINISHED
.190d5a	e2 20		sep #$20	                SEP #$20        ; set A short
.190d5c	af 22 e8 af	lda $afe822	CODEC_LOOP      LDA CODEC_WR_CTRL
.190d60	29 01		and #$01	                AND #$01
.190d62	c9 01		cmp #$01	                CMP #$01
.190d64	f0 f6		beq $190d5c	                BEQ CODEC_LOOP
.190d66	c2 20		rep #$20	                REP #$20        ; set A long
.190d68	60		rts		                RTS
.190d69					IBM_FILL_SCREEN
.190d69	c2 30		rep #$30	                REP #$30        ; set A&X long
.190d6b	a9 00 00	lda #$0000	                LDA #$0000
.190d6e	a2 00 00	ldx #$0000	                LDX #$0000
.190d71					BM_FILL_SCREEN_LOOPY
.190d71	a0 00 00	ldy #$0000	                LDY #$0000
.190d74	e2 20		sep #$20	                SEP #$20        ; set A short
.190d76					BM_FILL_SCREEN_LOOPX
.190d76	97 48		sta [$48],y	                STA [BMP_PRSE_DST_PTR],Y    ; This is where the Pixel Go, Video Memory
.190d78	c8		iny		                INY
.190d79	c4 40		cpy $40		                CPY BM_CLEAR_SCRN_X              ; Transfer the First line
.190d7b	d0 f9		bne $190d76	                BNE BM_FILL_SCREEN_LOOPX
.190d7d	20 88 0d	jsr $190d88	                JSR BM_FILL_COMPUTE_Y_DST
.190d80	e8		inx		                INX
.190d81	e4 42		cpx $42		                CPX BM_CLEAR_SCRN_Y
.190d83	d0 ec		bne $190d71	                BNE BM_FILL_SCREEN_LOOPY
.190d85	c2 30		rep #$30	                REP #$30        ; set A&X long
.190d87	6b		rtl		                RTL
.190d88					BM_FILL_COMPUTE_Y_DST
.190d88	c2 20		rep #$20	                REP #$20        ; set A long
.190d8a	a5 48		lda $48		                LDA BMP_PRSE_DST_PTR        ; Right now it is set @ $020000 (128K) + File Size
.190d8c	8f 20 01 00	sta $000120	                STA @lADDER32_A_LL
.190d90	a5 4a		lda $4a		                LDA BMP_PRSE_DST_PTR+2      ; Right now it is set @ $020000 (128K)
.190d92	8f 22 01 00	sta $000122	                STA @lADDER32_A_HL
.190d96	a9 80 02	lda #$0280	                LDA #$280        ; Right now it is set @ $020000 (128K) + File Size
.190d99	8f 24 01 00	sta $000124	                STA @lADDER32_B_LL
.190d9d	a9 00 00	lda #$0000	                LDA #$0000
.190da0	8f 26 01 00	sta $000126	                STA @lADDER32_B_HL
.190da4	af 28 01 00	lda $000128	                LDA @lADDER32_R_LL
.190da8	85 48		sta $48		                STA BMP_PRSE_DST_PTR
.190daa	af 2a 01 00	lda $00012a	                LDA @lADDER32_R_HL
.190dae	85 4a		sta $4a		                STA BMP_PRSE_DST_PTR+2
.190db0	a9 00 00	lda #$0000	                LDA #$0000
.190db3	60		rts		                RTS
.190db4					IBMP_PARSER
.190db4	c2 30		rep #$30	                REP #$30        ; set A&X long
.190db6	a0 00 00	ldy #$0000	                LDY #$0000
.190db9	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y
.190dbb	c9 42 4d	cmp #$4d42	                CMP #$4D42
.190dbe	f0 03		beq $190dc3	                BEQ IBMP_PARSER_CONT
.190dc0	82 04 01	brl $190ec7	                BRL BMP_PARSER_END_WITH_ERROR
.190dc3					IBMP_PARSER_CONT
.190dc3	a0 02 00	ldy #$0002	                LDY #$0002
.190dc6	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; File Size Low Short
.190dc8	8f 20 01 00	sta $000120	                STA @lADDER32_A_LL          ; Store in 32Bit Adder (A)
.190dcc	a0 04 00	ldy #$0004	                LDY #$0004
.190dcf	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; File Size High Short
.190dd1	8f 22 01 00	sta $000122	                STA @lADDER32_A_HL          ; Store in 32Bit Adder (A)
.190dd5	a9 ff ff	lda #$ffff	                LDA #$FFFF                  ; Store -1 in Adder (B)
.190dd8	8f 24 01 00	sta $000124	                STA @lADDER32_B_LL
.190ddc	8f 26 01 00	sta $000126	                STA @lADDER32_B_HL
.190de0	18		clc		                CLC
.190de1	af 28 01 00	lda $000128	                LDA @lADDER32_R_LL
.190de5	85 50		sta $50		                STA BMP_FILE_SIZE
.190de7	af 2a 01 00	lda $00012a	                LDA @lADDER32_R_HL
.190deb	85 52		sta $52		                STA BMP_FILE_SIZE+2
.190ded	a0 12 00	ldy #$0012	                LDY #$0012
.190df0	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; The X SIze is 32bits in BMP, but 16bits will suffice
.190df2	85 40		sta $40		                STA BMP_X_SIZE
.190df4	a0 16 00	ldy #$0016	                LDY #$0016
.190df7	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; The X SIze is 32bits in BMP, but 16bits will suffice
.190df9	85 42		sta $42		                STA BMP_Y_SIZE
.190dfb	a0 2e 00	ldy #$002e	                LDY #$002E
.190dfe	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; The X SIze is 32bits in BMP, but 16bits will suffice
.190e00	0a		asl a		                ASL A; Multiply by 2
.190e01	0a		asl a		                ASL A; Multiply by 2
.190e02	85 4c		sta $4c		                STA BMP_COLOR_PALET         ;
.190e04	e0 00 00	cpx #$0000	                CPX #$0000
.190e07	d0 05		bne $190e0e	                BNE BMP_LUT1_PICK
.190e09	20 cf 0e	jsr $190ecf	                JSR BMP_PARSER_UPDATE_LUT0   ; Go Upload the LUT0
.190e0c	80 08		bra $190e16	                BRA DONE_TRANSFER_LUT;
.190e0e					  BMP_LUT1_PICK
.190e0e	e0 01 00	cpx #$0001	                CPX #$0001
.190e11	d0 03		bne $190e16	                BNE BMP_LUT2_PICK
.190e13	20 ff 0e	jsr $190eff	                JSR BMP_PARSER_UPDATE_LUT1   ; Go Upload the LUT1
.190e16					  BMP_LUT2_PICK
.190e16					  DONE_TRANSFER_LUT
.190e16	a5 56		lda $56		                LDA BMP_POSITION_Y
.190e18	8f 00 01 00	sta $000100	                STA @lM0_OPERAND_A
.190e1c	a5 4e		lda $4e		                LDA SCRN_X_STRIDE
.190e1e	8f 02 01 00	sta $000102	                STA @lM0_OPERAND_B
.190e22	af 04 01 00	lda $000104	                LDA @lM0_RESULT
.190e26	8f 20 01 00	sta $000120	                STA @lADDER32_A_LL          ; Store in 32Bit Adder (A)
.190e2a	af 06 01 00	lda $000106	                LDA @lM0_RESULT+2
.190e2e	8f 22 01 00	sta $000122	                STA @lADDER32_A_HL          ; Store in 32Bit Adder (A)
.190e32	a5 54		lda $54		                LDA BMP_POSITION_X
.190e34	8f 24 01 00	sta $000124	                STA @lADDER32_B_LL          ; Put the X Position Adder (B)
.190e38	a9 00 00	lda #$0000	                LDA #$0000
.190e3b	8f 26 01 00	sta $000126	                STA @lADDER32_B_HL
.190e3f	af 28 01 00	lda $000128	                LDA @lADDER32_R_LL          ; Put the Results in TEMP
.190e43	85 f0		sta $f0		                STA USER_TEMP
.190e45	af 2a 01 00	lda $00012a	                LDA @lADDER32_R_HL          ; Put the Results in TEMP
.190e49	85 f2		sta $f2		                STA USER_TEMP+2
.190e4b	a5 48		lda $48		                LDA BMP_PRSE_DST_PTR
.190e4d	8f 20 01 00	sta $000120	                STA @lADDER32_A_LL          ; Store in 32Bit Adder (A)
.190e51	a5 4a		lda $4a		                LDA BMP_PRSE_DST_PTR+2
.190e53	8f 22 01 00	sta $000122	                STA @lADDER32_A_HL          ; Store in 32Bit Adder (A)
.190e57	a5 f0		lda $f0		                LDA USER_TEMP
.190e59	8f 24 01 00	sta $000124	                STA @lADDER32_B_LL          ; Store in 32Bit Adder (B)
.190e5d	a5 f2		lda $f2		                LDA USER_TEMP+2
.190e5f	8f 26 01 00	sta $000126	                STA @lADDER32_B_HL          ; Store in 32Bit Adder (B)
.190e63	af 28 01 00	lda $000128	                LDA @lADDER32_R_LL          ; Put the Results in BMP_PRSE_DST_PTR
.190e67	85 48		sta $48		                STA BMP_PRSE_DST_PTR
.190e69	af 2a 01 00	lda $00012a	                LDA @lADDER32_R_HL          ; Put the Results in BMP_PRSE_DST_PTR
.190e6d	85 4a		sta $4a		                STA BMP_PRSE_DST_PTR+2
.190e6f	a5 44		lda $44		                LDA BMP_PRSE_SRC_PTR        ; Right now it is set @ $020000 (128K)
.190e71	8f 20 01 00	sta $000120	                STA @lADDER32_A_LL
.190e75	a5 46		lda $46		                LDA BMP_PRSE_SRC_PTR+2        ; Right now it is set @ $020000 (128K)
.190e77	8f 22 01 00	sta $000122	                STA @lADDER32_A_HL
.190e7b	a5 50		lda $50		                LDA BMP_FILE_SIZE
.190e7d	8f 24 01 00	sta $000124	                STA @lADDER32_B_LL
.190e81	a5 52		lda $52		                LDA BMP_FILE_SIZE+2
.190e83	8f 26 01 00	sta $000126	                STA @lADDER32_B_HL
.190e87	af 28 01 00	lda $000128	                LDA @lADDER32_R_LL
.190e8b	85 44		sta $44		                STA BMP_PRSE_SRC_PTR
.190e8d	af 2a 01 00	lda $00012a	                LDA @lADDER32_R_HL
.190e91	85 46		sta $46		                STA BMP_PRSE_SRC_PTR+2
.190e93	a5 44		lda $44		                LDA BMP_PRSE_SRC_PTR        ; Right now it is set @ $020000 (128K) + File Size
.190e95	8f 20 01 00	sta $000120	                STA @lADDER32_A_LL
.190e99	a5 46		lda $46		                LDA BMP_PRSE_SRC_PTR+2      ; Right now it is set @ $020000 (128K)
.190e9b	8f 22 01 00	sta $000122	                STA @lADDER32_A_HL
.190e9f	18		clc		                CLC
.190ea0	a5 40		lda $40		                LDA BMP_X_SIZE              ; Load The Size in X of the image and Make it negative
.190ea2	49 ff ff	eor #$ffff	                EOR #$FFFF                  ; Inverse all bit
.190ea5	69 01 00	adc #$0001	                ADC #$0001                  ; Add 0 ()
.190ea8	8f 24 01 00	sta $000124	                STA @lADDER32_B_LL          ; Store the Results in reg B of ADDER32
.190eac	a9 ff ff	lda #$ffff	                LDA #$FFFF
.190eaf	8f 26 01 00	sta $000126	                STA @lADDER32_B_HL          ; Store in the Reminder of the 32Bits B Register
.190eb3	af 28 01 00	lda $000128	                LDA @lADDER32_R_LL
.190eb7	85 44		sta $44		                STA BMP_PRSE_SRC_PTR
.190eb9	af 2a 01 00	lda $00012a	                LDA @lADDER32_R_HL
.190ebd	85 46		sta $46		                STA BMP_PRSE_SRC_PTR+2
.190ebf	20 2f 0f	jsr $190f2f	                JSR BMP_PARSER_DMA_SHIT_OUT  ; We are going to start with the slow method
.190ec2	a2 3d 16	ldx #$163d	                LDX #<>bmp_parser_msg0
.190ec5	80 03		bra $190eca	                BRA BMP_PARSER_END_NO_ERROR
.190ec7					BMP_PARSER_END_WITH_ERROR
.190ec7	a2 29 16	ldx #$1629	                LDX #<>bmp_parser_err0
.190eca					BMP_PARSER_END_NO_ERROR
.190eca	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the first line
.190ece	6b		rtl		                RTL
.190ecf					BMP_PARSER_UPDATE_LUT0
.190ecf	38		sec		                SEC
.190ed0	a0 7a 00	ldy #$007a	                LDY #$007A
.190ed3	a2 00 00	ldx #$0000	                LDX #$0000
.190ed6	e2 20		sep #$20	                SEP #$20        ; set A short
.190ed8					BMP_PARSER_UPDATE_LOOP
.190ed8	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; First Pixel is Red
.190eda	9f 00 20 af	sta $af2000,x	                STA @lGRPH_LUT0_PTR+0, X      ; The look-up Table point to a pixel Blue
.190ede	c8		iny		                INY
.190edf	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; Second Pixel is Green
.190ee1	9f 01 20 af	sta $af2001,x	                STA @lGRPH_LUT0_PTR+1, X      ; The look-up Table point to a pixel Blue
.190ee5	c8		iny		                INY
.190ee6	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; Third Pixel is Blue
.190ee8	9f 02 20 af	sta $af2002,x	                STA @lGRPH_LUT0_PTR+2, X      ; The look-up Table point to a pixel Blue
.190eec	c8		iny		                INY
.190eed	a9 80		lda #$80	                LDA #$80
.190eef	9f 03 20 af	sta $af2003,x	                STA @lGRPH_LUT0_PTR+3, X      ; The look-up Table point to a pixel Blue
.190ef3	c8		iny		                INY ; For the Alpha Value, nobody cares
.190ef4	e8		inx		                INX
.190ef5	e8		inx		                INX
.190ef6	e8		inx		                INX
.190ef7	e8		inx		                INX
.190ef8	e4 4c		cpx $4c		                CPX BMP_COLOR_PALET         ; Apparently sometime there is less than 256 Values in the lookup
.190efa	d0 dc		bne $190ed8	                BNE BMP_PARSER_UPDATE_LOOP
.190efc	c2 20		rep #$20	                REP #$20        ; set A long
.190efe	60		rts		                RTS
.190eff					BMP_PARSER_UPDATE_LUT1
.190eff	38		sec		                SEC
.190f00	a0 36 00	ldy #$0036	                LDY #$0036
.190f03	a2 00 00	ldx #$0000	                LDX #$0000
.190f06	e2 20		sep #$20	                SEP #$20        ; set A short
.190f08					PALETTE_LUT1_LOOP
.190f08	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; First Pixel is Red
.190f0a	9f 00 24 af	sta $af2400,x	                STA @lGRPH_LUT1_PTR+0, X      ; The look-up Table point to a pixel Blue
.190f0e	c8		iny		                INY
.190f0f	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; Second Pixel is Green
.190f11	9f 01 24 af	sta $af2401,x	                STA @lGRPH_LUT1_PTR+1, X      ; The look-up Table point to a pixel Blue
.190f15	c8		iny		                INY
.190f16	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; Third Pixel is Blue
.190f18	9f 02 24 af	sta $af2402,x	                STA @lGRPH_LUT1_PTR+2, X      ; The look-up Table point to a pixel Blue
.190f1c	c8		iny		                INY
.190f1d	a9 80		lda #$80	                LDA #$80
.190f1f	9f 03 24 af	sta $af2403,x	                STA @lGRPH_LUT1_PTR+3, X      ; The look-up Table point to a pixel Blue
.190f23	c8		iny		                INY ; For the Alpha Value, nobody cares
.190f24	e8		inx		                INX
.190f25	e8		inx		                INX
.190f26	e8		inx		                INX
.190f27	e8		inx		                INX
.190f28	e4 4c		cpx $4c		                CPX BMP_COLOR_PALET         ; Apparently sometime there is less than 256 Values in the lookup
.190f2a	d0 dc		bne $190f08	                BNE PALETTE_LUT1_LOOP
.190f2c	c2 20		rep #$20	                REP #$20        ; set A long
.190f2e	60		rts		                RTS
.190f2f					BMP_PARSER_DMA_SHIT_OUT
.190f2f	a2 00 00	ldx #$0000	                LDX #$0000
.190f32					BMP_PARSER_LOOPY
.190f32	a0 00 00	ldy #$0000	                LDY #$0000
.190f35	e2 20		sep #$20	                SEP #$20        ; set A short
.190f37					BMP_PARSER_LOOPX
.190f37	b7 44		lda [$44],y	                LDA [BMP_PRSE_SRC_PTR],Y    ; Load First Pixel Y (will be linear)
.190f39	97 48		sta [$48],y	                STA [BMP_PRSE_DST_PTR],Y    ; This is where the Pixel Go, Video Memory
.190f3b	c8		iny		                INY
.190f3c	c4 40		cpy $40		                CPY BMP_X_SIZE              ; Transfer the First line
.190f3e	d0 f7		bne $190f37	                BNE BMP_PARSER_LOOPX
.190f40	20 4c 0f	jsr $190f4c	                JSR BMP_PARSER_COMPUTE_Y_SRC
.190f43	20 67 0f	jsr $190f67	                JSR BMP_PARSER_COMPUTE_Y_DST
.190f46	e8		inx		                INX
.190f47	e4 42		cpx $42		                CPX BMP_Y_SIZE
.190f49	d0 e7		bne $190f32	                BNE BMP_PARSER_LOOPY
.190f4b	60		rts		                RTS
.190f4c					BMP_PARSER_COMPUTE_Y_SRC
.190f4c	c2 20		rep #$20	                REP #$20        ; set A long
.190f4e	a5 44		lda $44		                LDA BMP_PRSE_SRC_PTR        ; Right now it is set @ $020000 (128K) + File Size
.190f50	8f 20 01 00	sta $000120	                STA @lADDER32_A_LL
.190f54	a5 46		lda $46		                LDA BMP_PRSE_SRC_PTR+2      ; Right now it is set @ $020000 (128K)
.190f56	8f 22 01 00	sta $000122	                STA @lADDER32_A_HL
.190f5a	af 28 01 00	lda $000128	                LDA @lADDER32_R_LL
.190f5e	85 44		sta $44		                STA BMP_PRSE_SRC_PTR
.190f60	af 2a 01 00	lda $00012a	                LDA @lADDER32_R_HL
.190f64	85 46		sta $46		                STA BMP_PRSE_SRC_PTR+2
.190f66	60		rts		                RTS
.190f67					BMP_PARSER_COMPUTE_Y_DST
.190f67	c2 20		rep #$20	                REP #$20        ; set A long
.190f69	18		clc		                CLC
.190f6a	a5 48		lda $48		                LDA BMP_PRSE_DST_PTR
.190f6c	65 4e		adc $4e		                ADC SCRN_X_STRIDE        ; In Normal Circumstances, it is 640
.190f6e	85 48		sta $48		                STA BMP_PRSE_DST_PTR
.190f70	a5 4a		lda $4a		                LDA BMP_PRSE_DST_PTR+2
.190f72	69 00 00	adc #$0000	                ADC #$0000
.190f75	85 4a		sta $4a		                STA BMP_PRSE_DST_PTR+2
.190f77	60		rts		                RTS
.190f78					IRQ_HANDLER
.190f78	e2 20		sep #$20	                SEP #$20        ; set A short
.190f7a	af 40 01 00	lda $000140	                LDA @lINT_PENDING_REG0
.190f7e	29 01		and #$01	                AND #FNX0_INT00_SOF
.190f80	c9 01		cmp #$01	                CMP #FNX0_INT00_SOF
.190f82	d0 05		bne $190f89	                BNE SERVICE_NEXT_IRQ0
.190f84	20 99 10	jsr $191099	                JSR SOF_INTERRUPT
.190f87	80 19		bra $190fa2	                BRA EXIT_IRQ_HANDLE
.190f89					SERVICE_NEXT_IRQ0
.190f89	af 40 01 00	lda $000140	                LDA @lINT_PENDING_REG0
.190f8d	29 80		and #$80	                AND #FNX0_INT07_MOUSE
.190f8f	c9 80		cmp #$80	                CMP #FNX0_INT07_MOUSE
.190f91	d0 05		bne $190f98	                BNE SERVICE_NEXT_IRQ7
.190f93	20 a4 10	jsr $1910a4	                JSR MOUSE_INTERRUPT
.190f96	80 0a		bra $190fa2	                BRA EXIT_IRQ_HANDLE
.190f98					SERVICE_NEXT_IRQ7
.190f98	af 41 01 00	lda $000141	                LDA @lINT_PENDING_REG1
.190f9c	29 01		and #$01	                AND #FNX1_INT00_KBD
.190f9e	c9 01		cmp #$01	                CMP #FNX1_INT00_KBD
.190fa0	f0 03		beq $190fa5	                BEQ SERVICE_NEXT_IRQ8
.190fa2					EXIT_IRQ_HANDLE
.190fa2	c2 30		rep #$30	                REP #$30        ; set A&X long
.190fa4	6b		rtl		                RTL
.190fa5					SERVICE_NEXT_IRQ8
.190fa5	a2 00 00	ldx #$0000	                ldx #$0000
.190fa8	e2 10		sep #$10	                SEP #$10        ; set X short
.190faa	e2 20		sep #$20	                SEP #$20        ; set A short
.190fac	af 41 01 00	lda $000141	                LDA @lINT_PENDING_REG1
.190fb0	29 01		and #$01	                AND #FNX1_INT00_KBD
.190fb2	8f 41 01 00	sta $000141	                STA @lINT_PENDING_REG1
.190fb6					IRQ_HANDLER_FETCH
.190fb6	af 60 10 af	lda $af1060	                LDA KBD_INPT_BUF        ; Get Scan Code from KeyBoard
.190fba	8f 88 0f 00	sta $000f88	                STA KEYBOARD_SC_TMP     ; Save Code Immediately
.190fbe	c9 2a		cmp #$2a	                CMP #$2A                ; Left Shift Pressed
.190fc0	d0 03		bne $190fc5	                BNE NOT_KB_SET_SHIFT
.190fc2	82 79 00	brl $19103e	                BRL KB_SET_SHIFT
.190fc5					NOT_KB_SET_SHIFT
.190fc5	c9 aa		cmp #$aa	                CMP #$AA                ; Left Shift Unpressed
.190fc7	d0 03		bne $190fcc	                BNE NOT_KB_CLR_SHIFT
.190fc9	82 7f 00	brl $19104b	                BRL KB_CLR_SHIFT
.190fcc					NOT_KB_CLR_SHIFT
.190fcc	c9 1d		cmp #$1d	                CMP #$1D                ; Left CTRL pressed
.190fce	d0 03		bne $190fd3	                BNE NOT_KB_SET_CTRL
.190fd0	82 85 00	brl $191058	                BRL KB_SET_CTRL
.190fd3					NOT_KB_SET_CTRL
.190fd3	c9 9d		cmp #$9d	                CMP #$9D                ; Left CTRL Unpressed
.190fd5	d0 03		bne $190fda	                BNE NOT_KB_CLR_CTRL
.190fd7	82 8b 00	brl $191065	                BRL KB_CLR_CTRL
.190fda					NOT_KB_CLR_CTRL
.190fda	c9 38		cmp #$38	                CMP #$38                ; Left ALT Pressed
.190fdc	d0 03		bne $190fe1	                BNE NOT_KB_SET_ALT
.190fde	82 91 00	brl $191072	                BRL KB_SET_ALT
.190fe1					NOT_KB_SET_ALT
.190fe1	c9 b8		cmp #$b8	                CMP #$B8                ; Left ALT Unpressed
.190fe3	d0 03		bne $190fe8	                BNE KB_UNPRESSED
.190fe5	82 97 00	brl $19107f	                BRL KB_CLR_ALT
.190fe8	29 80		and #$80	KB_UNPRESSED    AND #$80                ; See if the Scan Code is press or Depressed
.190fea	c9 80		cmp #$80	                CMP #$80                ; Depress Status - We will not do anything at this point
.190fec	d0 03		bne $190ff1	                BNE KB_NORM_SC
.190fee	82 98 00	brl $191089	                BRL KB_CHECK_B_DONE
.190ff1	af 88 0f 00	lda $000f88	KB_NORM_SC      LDA KEYBOARD_SC_TMP       ;
.190ff5	aa		tax		                TAX
.190ff6	af 87 0f 00	lda $000f87	                LDA KEYBOARD_SC_FLG     ; Check to See if the SHIFT Key is being Pushed
.190ffa	29 10		and #$10	                AND #$10
.190ffc	c9 10		cmp #$10	                CMP #$10
.190ffe	f0 1b		beq $19101b	                BEQ SHIFT_KEY_ON
.191000	af 87 0f 00	lda $000f87	                LDA KEYBOARD_SC_FLG     ; Check to See if the CTRL Key is being Pushed
.191004	29 20		and #$20	                AND #$20
.191006	c9 20		cmp #$20	                CMP #$20
.191008	f0 18		beq $191022	                BEQ CTRL_KEY_ON
.19100a	af 87 0f 00	lda $000f87	                LDA KEYBOARD_SC_FLG     ; Check to See if the ALT Key is being Pushed
.19100e	29 40		and #$40	                AND #$40
.191010	c9 40		cmp #$40	                CMP #$40
.191012	f0 15		beq $191029	                BEQ ALT_KEY_ON
.191014	bf 00 17 19	lda $191700,x	                LDA @lScanCode_Press_Set1, x
.191018	82 12 00	brl $19102d	                BRL KB_WR_2_SCREEN
.19101b	bf 80 17 19	lda $191780,x	SHIFT_KEY_ON    LDA @lScanCode_Shift_Set1, x
.19101f	82 0b 00	brl $19102d	                BRL KB_WR_2_SCREEN
.191022	bf 00 18 19	lda $191800,x	CTRL_KEY_ON     LDA @lScanCode_Ctrl_Set1, x
.191026	82 04 00	brl $19102d	                BRL KB_WR_2_SCREEN
.191029	bf 80 18 19	lda $191880,x	ALT_KEY_ON      LDA @lScanCode_Alt_Set1, x
.19102d					KB_WR_2_SCREEN
.19102d	48		pha		                PHA
.19102e	c2 10		rep #$10	                REP #$10        ; set X long
.191030	22 00 30 19	jsl $193000	                JSL SAVECHAR2CMDLINE
.191034	e2 20		sep #$20	                SEP #$20        ; set A short
.191036	68		pla		                PLA
.191037	22 18 00 19	jsl $190018	                JSL PUTC
.19103b	4c 89 10	jmp $191089	                JMP KB_CHECK_B_DONE
.19103e	af 87 0f 00	lda $000f87	KB_SET_SHIFT    LDA KEYBOARD_SC_FLG
.191042	09 10		ora #$10	                ORA #$10
.191044	8f 87 0f 00	sta $000f87	                STA KEYBOARD_SC_FLG
.191048	4c 89 10	jmp $191089	                JMP KB_CHECK_B_DONE
.19104b	af 87 0f 00	lda $000f87	KB_CLR_SHIFT    LDA KEYBOARD_SC_FLG
.19104f	29 ef		and #$ef	                AND #$EF
.191051	8f 87 0f 00	sta $000f87	                STA KEYBOARD_SC_FLG
.191055	4c 89 10	jmp $191089	                JMP KB_CHECK_B_DONE
.191058	af 87 0f 00	lda $000f87	KB_SET_CTRL    LDA KEYBOARD_SC_FLG
.19105c	09 20		ora #$20	                ORA #$20
.19105e	8f 87 0f 00	sta $000f87	                STA KEYBOARD_SC_FLG
.191062	4c 89 10	jmp $191089	                JMP KB_CHECK_B_DONE
.191065	af 87 0f 00	lda $000f87	KB_CLR_CTRL    LDA KEYBOARD_SC_FLG
.191069	29 df		and #$df	                AND #$DF
.19106b	8f 87 0f 00	sta $000f87	                STA KEYBOARD_SC_FLG
.19106f	4c 89 10	jmp $191089	                JMP KB_CHECK_B_DONE
.191072	af 87 0f 00	lda $000f87	KB_SET_ALT      LDA KEYBOARD_SC_FLG
.191076	09 40		ora #$40	                ORA #$40
.191078	8f 87 0f 00	sta $000f87	                STA KEYBOARD_SC_FLG
.19107c	4c 89 10	jmp $191089	                JMP KB_CHECK_B_DONE
.19107f	af 87 0f 00	lda $000f87	KB_CLR_ALT     LDA KEYBOARD_SC_FLG
.191083	29 bf		and #$bf	                AND #$BF
.191085	8f 87 0f 00	sta $000f87	                STA KEYBOARD_SC_FLG
.191089					KB_CHECK_B_DONE
.191089	af 64 10 af	lda $af1064	                LDA STATUS_PORT
.19108d	29 01		and #$01	                AND #OUT_BUF_FULL ; Test bit $01 (if 1, Full)
.19108f	c9 01		cmp #$01	                CMP #OUT_BUF_FULL ; if Still Byte in the Buffer, fetch it out
.191091	d0 03		bne $191096	                BNE KB_DONE
.191093	4c b6 0f	jmp $190fb6	                JMP IRQ_HANDLER_FETCH
.191096					KB_DONE
.191096	c2 30		rep #$30	                REP #$30        ; set A&X long
.191098	6b		rtl		                RTL
.191099					SOF_INTERRUPT
.191099	af 40 01 00	lda $000140	                LDA @lINT_PENDING_REG0
.19109d	29 01		and #$01	                AND #FNX0_INT00_SOF
.19109f	8f 40 01 00	sta $000140	                STA @lINT_PENDING_REG0
.1910a3	60		rts		                RTS
.1910a4					MOUSE_INTERRUPT
.1910a4	e2 20		sep #$20	                SEP #$20        ; set A short
.1910a6	af 60 10 af	lda $af1060	                LDA KBD_INPT_BUF
.1910aa	e2 10		sep #$10	                SEP #$10        ; set X short
.1910ac	a6 e0		ldx $e0		                LDX MOUSE_PTR
.1910ae	9f 06 07 af	sta $af0706,x	                STA @lMOUSE_PTR_BYTE0, X
.1910b2	e8		inx		                INX
.1910b3	e0 03		cpx #$03	                CPX #$03
.1910b5	d0 02		bne $1910b9	                BNE EXIT_FOR_NEXT_VALUE
.1910b7	a2 00		ldx #$00	                LDX #$00
.1910b9					EXIT_FOR_NEXT_VALUE
.1910b9	86 e0		stx $e0		                STX MOUSE_PTR
.1910bb	af 40 01 00	lda $000140	                LDA @lINT_PENDING_REG0
.1910bf	29 80		and #$80	                AND #FNX0_INT07_MOUSE
.1910c1	8f 40 01 00	sta $000140	                STA @lINT_PENDING_REG0
.1910c5	c2 10		rep #$10	                REP #$10        ; set X long
.1910c7	60		rts		                RTS
.1910c8					NMI_HANDLER
.1910c8	a2 18 16	ldx #$1618	                LDX #<>nmi_Msg
.1910cb	22 73 05 19	jsl $190573	                JSL IPRINT       ; print the Init
.1910cf	6b		rtl		                RTL
.1910d0	00		brk #		IRESTORE        BRK ; Warm boot routine
.1910d1	00		brk #		ISCINIT         BRK ;
.1910d2	00		brk #		IIOINIT         BRK ;
.1910d3	00		brk #		IPUTBLOCK       BRK ; Ouput a binary block to the currently selected channel
.1910d4	00		brk #		ISETLFS         BRK ; Obsolete (done in OPEN)
.1910d5	00		brk #		ISETNAM         BRK ; Obsolete (done in OPEN)
.1910d6	00		brk #		IOPEN           BRK ; Open a channel for reading and/or writing. Use SETLFS and SETNAM to set the channels and filename first.
.1910d7	00		brk #		ICLOSE          BRK ; Close a channel
.1910d8	00		brk #		ISETIN          BRK ; Set the current input channel
.1910d9	00		brk #		ISETOUT         BRK ; Set the current output channel
.1910da	00		brk #		IGETB           BRK ; Get a byte from input channel. Return 0 if no input. Carry is set if no input.
.1910db	00		brk #		IGETBLOCK       BRK ; Get a X byes from input channel. If Carry is set, wait. If Carry is clear, do not wait.
.1910dc	00		brk #		IGETCH          BRK ; Get a character from the input channel. A=0 and Carry=1 if no data is wating
.1910dd	00		brk #		IGETS           BRK ; Get a string from the input channel. NULL terminates
.1910de	00		brk #		IGETLINE        BRK ; Get a line of text from input channel. CR or NULL terminates.
.1910df	00		brk #		IGETFIELD       BRK ; Get a field from the input channel. Value in A, CR, or NULL terminates
.1910e0	00		brk #		ITRIM           BRK ; Removes spaces at beginning and end of string.
.1910e1	00		brk #		IPRINTC         BRK ; Print character to screen. Handles terminal commands
.1910e2	00		brk #		IPRINTS         BRK ; Print string to screen. Handles terminal commands
.1910e3	00		brk #		IPRINTF         BRK ; Print a float value
.1910e4	00		brk #		IPRINTI         BRK ; Prints integer value in TEMP
.1910e5	00		brk #		IPRINTAI        BRK ; Prints integer value in A
.1910e6	00		brk #		IPRINTAH        BRK ; Prints hex value in A. Printed value is 2 wide if M flag is 1, 4 wide if M=0
.1910e7	00		brk #		IPUSHKEY        BRK ;
.1910e8	00		brk #		IPUSHKEYS       BRK ;
.1910e9	00		brk #		ICSRLEFT        BRK ;
.1910ea	00		brk #		ICSRHOME        BRK ;
.1910eb	00		brk #		ISCRREADLINE    BRK ; Loads the MCMDADDR/BCMDADDR variable with the address of the current line on the screen. This is called when the RETURN key is pressed and is the first step in processing an immediate mode command.
.1910ec	00		brk #		ISCRGETWORD     BRK ; Read a current word on the screen. A word ends with a space, punctuation (except _), or any control character (value < 32). Loads the address into CMPTEXT_VAL and length into CMPTEXT_LEN variables.
.1910ed					KERNEL_DATA
>1910ed	20 20 20 20 0b 0c 0b 0c		greet_msg       .text $20, $20, $20, $20, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, "C256 FOENIX DEVELOPMENT SYSTEM",$0D
>1910f5	0b 0c 0b 0c 0b 0c 43 32 35 36 20 46 4f 45 4e 49
>191105	58 20 44 45 56 45 4c 4f 50 4d 45 4e 54 20 53 59
>191115	53 54 45 4d 0d
>19111a	20 20 20 0b 0c 0b 0c 0b		                .text $20, $20, $20, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $20, "May the Power of the 65C816 Bring You Joy!",$0D
>191122	0c 0b 0c 0b 0c 20 4d 61 79 20 74 68 65 20 50 6f
>191132	77 65 72 20 6f 66 20 74 68 65 20 36 35 43 38 31
>191142	36 20 42 72 69 6e 67 20 59 6f 75 20 4a 6f 79 21
>191152	0d
>191153	20 20 0b 0c 0b 0c 0b 0c		                .text $20, $20, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $20, $20, "System Designed by: Stefany Allaire",$0D
>19115b	0b 0c 0b 0c 20 20 53 79 73 74 65 6d 20 44 65 73
>19116b	69 67 6e 65 64 20 62 79 3a 20 53 74 65 66 61 6e
>19117b	79 20 41 6c 6c 61 69 72 65 0d
>191185	20 0b 0c 0b 0c 0b 0c 0b		                .text $20, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $20, $20, $20, "www.c256foenix.com",$0D
>19118d	0c 0b 0c 20 20 20 77 77 77 2e 63 32 35 36 66 6f
>19119d	65 6e 69 78 2e 63 6f 6d 0d
>1911a6	0b 0c 0b 0c 0b 0c 0b 0c		                .text $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $0B, $0C, $20, $20, $20, $20, "2048KB CODE RAM  4096K VIDEO MEM",$0D, $00
>1911ae	0b 0c 20 20 20 20 32 30 34 38 4b 42 20 43 4f 44
>1911be	45 20 52 41 4d 20 20 34 30 39 36 4b 20 56 49 44
>1911ce	45 4f 20 4d 45 4d 0d 00
.1911d6					old_pc_style_stat
>1911d6	d6 c4 c4 c4 c4 c4 c4 c4		                .text $D6, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C2
>1911de	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4
>1911ee	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c2
>1911fa	c4 c4 c4 c4 c4 c4 c4 c4		                .text      $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $B7, $0D
>191202	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4
>191212	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 b7 0d
>19121e	ba 20 4d 61 69 6e 20 50		                .text $BA, " Main Processor     : 65C816      ",$B3," Base Memory Size     : 2048K     ",$BA, $0D
>191226	72 6f 63 65 73 73 6f 72 20 20 20 20 20 3a 20 36
>191236	35 43 38 31 36 20 20 20 20 20 20 b3 20 42 61 73
>191246	65 20 4d 65 6d 6f 72 79 20 53 69 7a 65 20 20 20
>191256	20 20 3a 20 32 30 34 38 4b 20 20 20 20 20 ba 0d
>191266	ba 20 4e 75 6d 65 72 69		                .text $BA, " Numeric Processor  : CFP9518     ",$B3," Video Memory Size    : 4096K     ",$BA, $0D
>19126e	63 20 50 72 6f 63 65 73 73 6f 72 20 20 3a 20 43
>19127e	46 50 39 35 31 38 20 20 20 20 20 b3 20 56 69 64
>19128e	65 6f 20 4d 65 6d 6f 72 79 20 53 69 7a 65 20 20
>19129e	20 20 3a 20 34 30 39 36 4b 20 20 20 20 20 ba 0d
>1912ae	ba 20 46 6c 6f 70 70 79		                .text $BA, " Floppy Driver A:   : Yes         ",$B3," Hard Disk C: Type    : None      ",$BA, $0D
>1912b6	20 44 72 69 76 65 72 20 41 3a 20 20 20 3a 20 59
>1912c6	65 73 20 20 20 20 20 20 20 20 20 b3 20 48 61 72
>1912d6	64 20 44 69 73 6b 20 43 3a 20 54 79 70 65 20 20
>1912e6	20 20 3a 20 4e 6f 6e 65 20 20 20 20 20 20 ba 0d
>1912f6	ba 20 53 44 43 61 72 64		                .text $BA, " SDCard Card Reader : Yes         ",$B3," Serial Port(s)       : $AF:13F8, ",$BA, $0D
>1912fe	20 43 61 72 64 20 52 65 61 64 65 72 20 3a 20 59
>19130e	65 73 20 20 20 20 20 20 20 20 20 b3 20 53 65 72
>19131e	69 61 6c 20 50 6f 72 74 28 73 29 20 20 20 20 20
>19132e	20 20 3a 20 24 41 46 3a 31 33 46 38 2c 20 ba 0d
>19133e	ba 20 44 69 73 70 6c 61		                .text $BA, " Display Type       : VGA         ",$B3,"                        $AF:12F8  ",$BA, $0D
>191346	79 20 54 79 70 65 20 20 20 20 20 20 20 3a 20 56
>191356	47 41 20 20 20 20 20 20 20 20 20 b3 20 20 20 20
>191366	20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
>191376	20 20 20 20 24 41 46 3a 31 32 46 38 20 20 ba 0d
>191386	ba 20 46 6f 65 6e 69 78		                .text $BA, " Foenix Kernel Date : 050419      ",$B3," Parallel Ports(s)    : $AF:1378  ",$BA, $0D
>19138e	20 4b 65 72 6e 65 6c 20 44 61 74 65 20 3a 20 30
>19139e	35 30 34 31 39 20 20 20 20 20 20 b3 20 50 61 72
>1913ae	61 6c 6c 65 6c 20 50 6f 72 74 73 28 73 29 20 20
>1913be	20 20 3a 20 24 41 46 3a 31 33 37 38 20 20 ba 0d
>1913ce	ba 20 4b 65 79 62 6f 61		                .text $BA, " Keyboard Type      : PS2         ",$B3," Sound Chip Installed : OPL2(2)   ",$BA, $0D
>1913d6	72 64 20 54 79 70 65 20 20 20 20 20 20 3a 20 50
>1913e6	53 32 20 20 20 20 20 20 20 20 20 b3 20 53 6f 75
>1913f6	6e 64 20 43 68 69 70 20 49 6e 73 74 61 6c 6c 65
>191406	64 20 3a 20 4f 50 4c 32 28 32 29 20 20 20 ba 0d
>191416	d3 c4 c4 c4 c4 c4 c4 c4		                .text $D3, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C1
>19141e	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4
>19142e	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c1
>19143a	c4 c4 c4 c4 c4 c4 c4 c4		                .text      $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $C4, $BD, $00
>191442	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 c4
>191452	c4 c4 c4 c4 c4 c4 c4 c4 c4 c4 bd 00
>19145e	1d 1d 1d 1d 1d 1d 8d 8d		greet_clr_line1 .text $1D, $1D, $1D, $1D, $1D, $1D, $8D, $8D, $4D, $4D, $2D, $2D, $5D, $5D
>191466	4d 4d 2d 2d 5d 5d
>19146c	1d 1d 1d 1d 1d 8d 8d 4d		greet_clr_line2 .text $1D, $1D, $1D, $1D, $1D, $8D, $8D, $4D, $4D, $2D, $2D, $5D, $5D, $5D
>191474	4d 2d 2d 5d 5d 5d
>19147a	1d 1d 1d 1d 8d 8d 4d 4d		greet_clr_line3 .text $1D, $1D, $1D, $1D, $8D, $8D, $4D, $4D, $2D, $2D, $5D, $5D, $5D, $5D
>191482	2d 2d 5d 5d 5d 5d
>191488	1d 1d 1d 8d 8d 4d 4d 2d		greet_clr_line4 .text $1D, $1D, $1D, $8D, $8D, $4D, $4D, $2D, $2D, $5D, $5D, $5D, $5D, $5D
>191490	2d 5d 5d 5d 5d 5d
>191496	1d 1d 8d 8d 4d 4d 2d 2d		greet_clr_line5 .text $1D, $1D, $8D, $8D, $4D, $4D, $2D, $2D, $5D, $5D, $5D, $5D, $5D, $5D
>19149e	5d 5d 5d 5d 5d 5d
>1914a4	00 00 00 ff			fg_color_lut	  .text $00, $00, $00, $FF
>1914a8	00 00 80 ff			                .text $00, $00, $80, $FF
>1914ac	00 80 00 ff			                .text $00, $80, $00, $FF
>1914b0	80 00 00 ff			                .text $80, $00, $00, $FF
>1914b4	00 80 80 ff			                .text $00, $80, $80, $FF
>1914b8	80 80 00 ff			                .text $80, $80, $00, $FF
>1914bc	80 00 80 ff			                .text $80, $00, $80, $FF
>1914c0	80 80 80 ff			                .text $80, $80, $80, $FF
>1914c4	00 45 ff ff			                .text $00, $45, $FF, $FF
>1914c8	13 45 8b ff			                .text $13, $45, $8B, $FF
>1914cc	00 00 20 ff			                .text $00, $00, $20, $FF
>1914d0	00 20 00 ff			                .text $00, $20, $00, $FF
>1914d4	20 00 00 ff			                .text $20, $00, $00, $FF
>1914d8	20 20 20 ff			                .text $20, $20, $20, $FF
>1914dc	40 40 40 ff			                .text $40, $40, $40, $FF
>1914e0	ff ff ff ff			                .text $FF, $FF, $FF, $FF
>1914e4	00 00 00 ff			bg_color_lut	  .text $00, $00, $00, $FF
>1914e8	00 00 80 ff			                .text $00, $00, $80, $FF
>1914ec	00 80 00 ff			                .text $00, $80, $00, $FF
>1914f0	80 00 00 ff			                .text $80, $00, $00, $FF
>1914f4	00 20 20 ff			                .text $00, $20, $20, $FF
>1914f8	20 20 00 ff			                .text $20, $20, $00, $FF
>1914fc	20 00 20 ff			                .text $20, $00, $20, $FF
>191500	20 20 20 ff			                .text $20, $20, $20, $FF
>191504	1e 69 d2 ff			                .text $1E, $69, $D2, $FF
>191508	13 45 8b ff			                .text $13, $45, $8B, $FF
>19150c	00 00 20 ff			                .text $00, $00, $20, $FF
>191510	00 20 00 ff			                .text $00, $20, $00, $FF
>191514	40 00 00 ff			                .text $40, $00, $00, $FF
>191518	10 10 10 ff			                .text $10, $10, $10, $FF
>19151c	40 40 40 ff			                .text $40, $40, $40, $FF
>191520	ff ff ff ff			                .text $FF, $FF, $FF, $FF
>191524	0d 44 65 62 75 67 20 43		version_msg     .text $0D, "Debug Code Version 0.0.0 - March 26th, 2019", $00
>19152c	6f 64 65 20 56 65 72 73 69 6f 6e 20 30 2e 30 2e
>19153c	30 20 2d 20 4d 61 72 63 68 20 32 36 74 68 2c 20
>19154c	32 30 31 39 00
>191551	43 6d 64 20 30 78 41 41		pass_tst0xAAmsg .text "Cmd 0xAA Test passed...", $0D, $00
>191559	20 54 65 73 74 20 70 61 73 73 65 64 2e 2e 2e 0d
>191569	00
>19156a	43 6d 64 20 30 78 41 42		pass_tst0xABmsg .text "Cmd 0xAB Test passed...", $0D, $00
>191572	20 54 65 73 74 20 70 61 73 73 65 64 2e 2e 2e 0d
>191582	00
>191583	43 6d 64 20 30 78 36 30		pass_cmd0x60msg .text "Cmd 0x60 Executed.", $0D, $00
>19158b	20 45 78 65 63 75 74 65 64 2e 0d 00
>191597	43 6d 64 20 30 78 46 46		pass_cmd0xFFmsg .text "Cmd 0xFF (Reset) Done.", $0D, $00
>19159f	20 28 52 65 73 65 74 29 20 44 6f 6e 65 2e 0d 00
>1915af	43 6d 64 20 30 78 45 45		pass_cmd0xEEmsg .text "Cmd 0xEE Echo Test passed...", $0D, $00
>1915b7	20 45 63 68 6f 20 54 65 73 74 20 70 61 73 73 65
>1915c7	64 2e 2e 2e 0d 00
>1915cd	4b 65 79 62 6f 61 72 64		Success_kb_init .text "Keyboard Present", $0D, $00
>1915d5	20 50 72 65 73 65 6e 74 0d 00
>1915df	4e 6f 20 4b 65 79 62 6f		Failed_kb_init  .text "No Keyboard Attached or Failed Init...", $0D, $00
>1915e7	61 72 64 20 41 74 74 61 63 68 65 64 20 6f 72 20
>1915f7	46 61 69 6c 65 64 20 49 6e 69 74 2e 2e 2e 0d 00
>191607	5b 49 52 51 20 49 6e 74		irq_Msg         .text "[IRQ Interrupt]", $0D, $00
>19160f	65 72 72 75 70 74 5d 0d 00
>191618	5b 4e 4d 49 20 49 6e 74		nmi_Msg         .text "[NMI Interrupt]", $0D, $00
>191620	65 72 72 75 70 74 5d 0d 00
>191629	4e 4f 20 53 49 47 4e 41		bmp_parser_err0 .text "NO SIGNATURE FOUND.", $00
>191631	54 55 52 45 20 46 4f 55 4e 44 2e 00
>19163d	42 4d 50 20 4c 4f 41 44		bmp_parser_msg0 .text "BMP LOADED.", $00
>191645	45 44 2e 00
>191649	45 58 45 43 55 54 49 4e		bmp_parser_msg1 .text "EXECUTING BMP PARSER", $00
>191651	47 20 42 4d 50 20 50 41 52 53 45 52 00
>19165e	0d 52 45 41 44 59 2e 00		ready_msg       .null $0D,"READY."
>191666	47 20 30 32 30 30 30 30		hello_ml        .null "G 020000",$0D
>19166e	0d 00
>191670	48 45 4c 4c 4f 20 57 4f		                .null "HELLO WORLD",$0D
>191678	52 4c 44 0d 00
>19167d	0d 00				                .null $0D
>19167f	20 50 43 20 20 20 20 20		                .null " PC     A    X    Y    SP   DBR DP   NVMXDIZC",$0D
>191687	41 20 20 20 20 58 20 20 20 20 59 20 20 20 20 53
>191697	50 20 20 20 44 42 52 20 44 50 20 20 20 4e 56 4d
>1916a7	58 44 49 5a 43 0d 00
>1916ae	3b 30 30 32 31 31 32 20		                .null ";002112 0019 F0AA 0000 D6FF F8  0000 --M-----"
>1916b6	30 30 31 39 20 46 30 41 41 20 30 30 30 30 20 44
>1916c6	36 46 46 20 46 38 20 20 30 30 30 30 20 2d 2d 4d
>1916d6	2d 2d 2d 2d 2d 00
>1916dc	41 42 4f 52 54 20 45 52		error_01        .null "ABORT ERROR"
>1916e4	52 4f 52 00
>1916e8	30 31 32 33 34 35 36 37		hex_digits      .text "0123456789ABCDEF",0
>1916f0	38 39 41 42 43 44 45 46 00
>1916f9					.align 256
>191700	00 1b 31 32 33 34 35 36		ScanCode_Press_Set1   .text $00, $1B, $31, $32, $33, $34, $35, $36, $37, $38, $39, $30, $2D, $3D, $08, $09    ; $00
>191708	37 38 39 30 2d 3d 08 09
>191710	71 77 65 72 74 79 75 69		                      .text $71, $77, $65, $72, $74, $79, $75, $69, $6F, $70, $5B, $5D, $0D, $00, $61, $73    ; $10
>191718	6f 70 5b 5d 0d 00 61 73
>191720	64 66 67 68 6a 6b 6c 3b		                      .text $64, $66, $67, $68, $6A, $6B, $6C, $3B, $27, $60, $00, $5C, $7A, $78, $63, $76    ; $20
>191728	27 60 00 5c 7a 78 63 76
>191730	62 6e 6d 2c 2e 2f 00 2a		                      .text $62, $6E, $6D, $2C, $2E, $2F, $00, $2A, $00, $20, $00, $00, $00, $00, $00, $00    ; $30
>191738	00 20 00 00 00 00 00 00
>191740	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $40
>191748	00 00 00 00 00 00 00 00
>191750	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $50
>191758	00 00 00 00 00 00 00 00
>191760	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $60
>191768	00 00 00 00 00 00 00 00
>191770	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $70
>191778	00 00 00 00 00 00 00 00
>191780	00 00 21 40 23 24 25 5e		ScanCode_Shift_Set1   .text $00, $00, $21, $40, $23, $24, $25, $5E, $26, $2A, $28, $29, $5F, $2B, $08, $09    ; $00
>191788	26 2a 28 29 5f 2b 08 09
>191790	51 57 45 52 54 59 55 49		                      .text $51, $57, $45, $52, $54, $59, $55, $49, $4F, $50, $7B, $7D, $0D, $00, $41, $53    ; $10
>191798	4f 50 7b 7d 0d 00 41 53
>1917a0	44 46 47 48 4a 4b 4c 3a		                      .text $44, $46, $47, $48, $4A, $4B, $4C, $3A, $22, $7E, $00, $5C, $5A, $58, $43, $56    ; $20
>1917a8	22 7e 00 5c 5a 58 43 56
>1917b0	42 4e 4d 3c 3e 3f 00 2a		                      .text $42, $4E, $4D, $3C, $3E, $3F, $00, $2A, $00, $20, $00, $00, $00, $00, $00, $00    ; $30
>1917b8	00 20 00 00 00 00 00 00
>1917c0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $40
>1917c8	00 00 00 00 00 00 00 00
>1917d0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $50
>1917d8	00 00 00 00 00 00 00 00
>1917e0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $60
>1917e8	00 00 00 00 00 00 00 00
>1917f0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $70
>1917f8	00 00 00 00 00 00 00 00
>191800	00 1b 31 32 33 34 35 36		ScanCode_Ctrl_Set1    .text $00, $1B, $31, $32, $33, $34, $35, $36, $37, $38, $39, $30, $2D, $3D, $08, $09    ; $00
>191808	37 38 39 30 2d 3d 08 09
>191810	71 77 65 72 74 79 75 69		                      .text $71, $77, $65, $72, $74, $79, $75, $69, $6F, $70, $5B, $5D, $0D, $00, $61, $73    ; $10
>191818	6f 70 5b 5d 0d 00 61 73
>191820	64 66 67 68 6a 6b 6c 3b		                      .text $64, $66, $67, $68, $6A, $6B, $6C, $3B, $27, $60, $00, $5C, $7A, $78, $63, $76    ; $20
>191828	27 60 00 5c 7a 78 63 76
>191830	62 6e 6d 2c 2e 2f 00 2a		                      .text $62, $6E, $6D, $2C, $2E, $2F, $00, $2A, $00, $20, $00, $00, $00, $00, $00, $00    ; $30
>191838	00 20 00 00 00 00 00 00
>191840	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $40
>191848	00 00 00 00 00 00 00 00
>191850	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $50
>191858	00 00 00 00 00 00 00 00
>191860	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $60
>191868	00 00 00 00 00 00 00 00
>191870	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $70
>191878	00 00 00 00 00 00 00 00
>191880	00 1b 31 32 33 34 35 36		ScanCode_Alt_Set1     .text $00, $1B, $31, $32, $33, $34, $35, $36, $37, $38, $39, $30, $2D, $3D, $08, $09    ; $00
>191888	37 38 39 30 2d 3d 08 09
>191890	71 77 65 72 74 79 75 69		                      .text $71, $77, $65, $72, $74, $79, $75, $69, $6F, $70, $5B, $5D, $0D, $00, $61, $73    ; $10
>191898	6f 70 5b 5d 0d 00 61 73
>1918a0	64 66 67 68 6a 6b 6c 3b		                      .text $64, $66, $67, $68, $6A, $6B, $6C, $3B, $27, $60, $00, $5C, $7A, $78, $63, $76    ; $20
>1918a8	27 60 00 5c 7a 78 63 76
>1918b0	62 6e 6d 2c 2e 2f 00 2a		                      .text $62, $6E, $6D, $2C, $2E, $2F, $00, $2A, $00, $20, $00, $00, $00, $00, $00, $00    ; $30
>1918b8	00 20 00 00 00 00 00 00
>1918c0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $40
>1918c8	00 00 00 00 00 00 00 00
>1918d0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $50
>1918d8	00 00 00 00 00 00 00 00
>1918e0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $60
>1918e8	00 00 00 00 00 00 00 00
>1918f0	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $70
>1918f8	00 00 00 00 00 00 00 00
>191900	00 1b 31 32 33 34 35 36		ScanCode_NumLock_Set1 .text $00, $1B, $31, $32, $33, $34, $35, $36, $37, $38, $39, $30, $2D, $3D, $08, $09    ; $00
>191908	37 38 39 30 2d 3d 08 09
>191910	71 77 65 72 74 79 75 69		                      .text $71, $77, $65, $72, $74, $79, $75, $69, $6F, $70, $5B, $5D, $0D, $00, $61, $73    ; $10
>191918	6f 70 5b 5d 0d 00 61 73
>191920	64 66 67 68 6a 6b 6c 3b		                      .text $64, $66, $67, $68, $6A, $6B, $6C, $3B, $27, $60, $00, $5C, $7A, $78, $63, $76    ; $20
>191928	27 60 00 5c 7a 78 63 76
>191930	62 6e 6d 2c 2e 2f 00 2a		                      .text $62, $6E, $6D, $2C, $2E, $2F, $00, $2A, $00, $20, $00, $00, $00, $00, $00, $00    ; $30
>191938	00 20 00 00 00 00 00 00
>191940	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $40
>191948	00 00 00 00 00 00 00 00
>191950	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $50
>191958	00 00 00 00 00 00 00 00
>191960	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $60
>191968	00 00 00 00 00 00 00 00
>191970	00 00 00 00 00 00 00 00		                      .text $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00    ; $70
>191978	00 00 00 00 00 00 00 00
>191980					.align 256
>191a00	00 14 1c 21 26 2a 2e 31		GAMMA_2_2_Tbl         .text  $00, $14, $1c, $21, $26, $2a, $2e, $31, $34, $37, $3a, $3d, $3f, $41, $44, $46
>191a08	34 37 3a 3d 3f 41 44 46
>191a10	48 4a 4c 4e 50 51 53 55		                      .text  $48, $4a, $4c, $4e, $50, $51, $53, $55, $57, $58, $5a, $5b, $5d, $5e, $60, $61
>191a18	57 58 5a 5b 5d 5e 60 61
>191a20	63 64 66 67 68 6a 6b 6c		                      .text  $63, $64, $66, $67, $68, $6a, $6b, $6c, $6d, $6f, $70, $71, $72, $73, $75, $76
>191a28	6d 6f 70 71 72 73 75 76
>191a30	77 78 79 7a 7b 7c 7d 7e		                      .text  $77, $78, $79, $7a, $7b, $7c, $7d, $7e, $80, $81, $82, $83, $84, $85, $86, $87
>191a38	80 81 82 83 84 85 86 87
>191a40	88 88 89 8a 8b 8c 8d 8e		                      .text  $88, $88, $89, $8a, $8b, $8c, $8d, $8e, $8f, $90, $91, $92, $93, $93, $94, $95
>191a48	8f 90 91 92 93 93 94 95
>191a50	96 97 98 99 99 9a 9b 9c		                      .text  $96, $97, $98, $99, $99, $9a, $9b, $9c, $9d, $9e, $9e, $9f, $a0, $a1, $a2, $a2
>191a58	9d 9e 9e 9f a0 a1 a2 a2
>191a60	a3 a4 a5 a5 a6 a7 a8 a8		                      .text  $a3, $a4, $a5, $a5, $a6, $a7, $a8, $a8, $a9, $aa, $ab, $ab, $ac, $ad, $ae, $ae
>191a68	a9 aa ab ab ac ad ae ae
>191a70	af b0 b0 b1 b2 b2 b3 b4		                      .text  $AF, $b0, $b0, $b1, $b2, $b2, $b3, $b4, $b5, $b5, $b6, $b7, $b7, $b8, $b9, $b9
>191a78	b5 b5 b6 b7 b7 b8 b9 b9
>191a80	ba bb bb bc bd bd be be		                      .text  $ba, $bb, $bb, $bc, $bd, $bd, $be, $be, $bf, $c0, $c0, $c1, $c2, $c2, $c3, $c4
>191a88	bf c0 c0 c1 c2 c2 c3 c4
>191a90	c4 c5 c5 c6 c7 c7 c8 c8		                      .text  $c4, $c5, $c5, $c6, $c7, $c7, $c8, $c8, $c9, $ca, $ca, $cb, $cb, $cc, $cd, $cd
>191a98	c9 ca ca cb cb cc cd cd
>191aa0	ce ce cf d0 d0 d1 d1 d2		                      .text  $ce, $ce, $cf, $d0, $d0, $d1, $d1, $d2, $d2, $d3, $d4, $d4, $d5, $d5, $d6, $d6
>191aa8	d2 d3 d4 d4 d5 d5 d6 d6
>191ab0	d7 d8 d8 d9 d9 da da db		                      .text  $d7, $d8, $d8, $d9, $d9, $da, $da, $db, $db, $dc, $dc, $dd, $de, $de, $df, $df
>191ab8	db dc dc dd de de df df
>191ac0	e0 e0 e1 e1 e2 e2 e3 e3		                      .text  $e0, $e0, $e1, $e1, $e2, $e2, $e3, $e3, $e4, $e4, $e5, $e5, $e6, $e6, $e7, $e7
>191ac8	e4 e4 e5 e5 e6 e6 e7 e7
>191ad0	e8 e8 e9 e9 ea ea eb eb		                      .text  $e8, $e8, $e9, $e9, $ea, $ea, $eb, $eb, $ec, $ec, $ed, $ed, $ee, $ee, $ef, $ef
>191ad8	ec ec ed ed ee ee ef ef
>191ae0	f0 f0 f1 f1 f2 f2 f3 f3		                      .text  $f0, $f0, $f1, $f1, $f2, $f2, $f3, $f3, $f4, $f4, $f5, $f5, $f6, $f6, $f7, $f7
>191ae8	f4 f4 f5 f5 f6 f6 f7 f7
>191af0	f8 f8 f9 f9 f9 fa fa fb		                      .text  $f8, $f8, $f9, $f9, $f9, $fa, $fa, $fb, $fb, $fc, $fc, $fd, $fd, $fe, $fe, $ff
>191af8	fb fc fc fd fd fe fe ff
>191b00					.align 256
>191b00	00 0b 11 15 19 1c 1f 22		GAMMA_1_8_Tbl         .text  $00, $0b, $11, $15, $19, $1c, $1f, $22, $25, $27, $2a, $2c, $2e, $30, $32, $34
>191b08	25 27 2a 2c 2e 30 32 34
>191b10	36 38 3a 3c 3d 3f 41 43		                      .text  $36, $38, $3a, $3c, $3d, $3f, $41, $43, $44, $46, $47, $49, $4a, $4c, $4d, $4f
>191b18	44 46 47 49 4a 4c 4d 4f
>191b20	50 51 53 54 55 57 58 59		                      .text  $50, $51, $53, $54, $55, $57, $58, $59, $5b, $5c, $5d, $5e, $60, $61, $62, $63
>191b28	5b 5c 5d 5e 60 61 62 63
>191b30	64 65 67 68 69 6a 6b 6c		                      .text  $64, $65, $67, $68, $69, $6a, $6b, $6c, $6d, $6e, $70, $71, $72, $73, $74, $75
>191b38	6d 6e 70 71 72 73 74 75
>191b40	76 77 78 79 7a 7b 7c 7d		                      .text  $76, $77, $78, $79, $7a, $7b, $7c, $7d, $7e, $7f, $80, $81, $82, $83, $84, $84
>191b48	7e 7f 80 81 82 83 84 84
>191b50	85 86 87 88 89 8a 8b 8c		                      .text  $85, $86, $87, $88, $89, $8a, $8b, $8c, $8d, $8e, $8e, $8f, $90, $91, $92, $93
>191b58	8d 8e 8e 8f 90 91 92 93
>191b60	94 95 95 96 97 98 99 9a		                      .text  $94, $95, $95, $96, $97, $98, $99, $9a, $9a, $9b, $9c, $9d, $9e, $9f, $9f, $a0
>191b68	9a 9b 9c 9d 9e 9f 9f a0
>191b70	a1 a2 a3 a3 a4 a5 a6 a6		                      .text  $a1, $a2, $a3, $a3, $a4, $a5, $a6, $a6, $a7, $a8, $a9, $aa, $aa, $ab, $ac, $ad
>191b78	a7 a8 a9 aa aa ab ac ad
>191b80	ad ae af b0 b0 b1 b2 b3		                      .text  $ad, $ae, $af, $b0, $b0, $b1, $b2, $b3, $b3, $b4, $b5, $b6, $b6, $b7, $b8, $b8
>191b88	b3 b4 b5 b6 b6 b7 b8 b8
>191b90	b9 ba bb bb bc bd bd be		                      .text  $b9, $ba, $bb, $bb, $bc, $bd, $bd, $be, $bf, $bf, $c0, $c1, $c2, $c2, $c3, $c4
>191b98	bf bf c0 c1 c2 c2 c3 c4
>191ba0	c4 c5 c6 c6 c7 c8 c8 c9		                      .text  $c4, $c5, $c6, $c6, $c7, $c8, $c8, $c9, $ca, $ca, $cb, $cc, $cc, $cd, $ce, $ce
>191ba8	ca ca cb cc cc cd ce ce
>191bb0	cf d0 d0 d1 d2 d2 d3 d4		                      .text  $cf, $d0, $d0, $d1, $d2, $d2, $d3, $d4, $d4, $d5, $d6, $d6, $d7, $d7, $d8, $d9
>191bb8	d4 d5 d6 d6 d7 d7 d8 d9
>191bc0	d9 da db db dc dc dd de		                      .text  $d9, $da, $db, $db, $dc, $dc, $dd, $de, $de, $df, $e0, $e0, $e1, $e1, $e2, $e3
>191bc8	de df e0 e0 e1 e1 e2 e3
>191bd0	e3 e4 e4 e5 e6 e6 e7 e7		                      .text  $e3, $e4, $e4, $e5, $e6, $e6, $e7, $e7, $e8, $e9, $e9, $ea, $ea, $eb, $ec, $ec
>191bd8	e8 e9 e9 ea ea eb ec ec
>191be0	ed ed ee ef ef f0 f0 f1		                      .text  $ed, $ed, $ee, $ef, $ef, $f0, $f0, $f1, $f1, $f2, $f3, $f3, $f4, $f4, $f5, $f5
>191be8	f1 f2 f3 f3 f4 f4 f5 f5
>191bf0	f6 f7 f7 f8 f8 f9 f9 fa		                      .text  $f6, $f7, $f7, $f8, $f8, $f9, $f9, $fa, $fb, $fb, $fc, $fc, $fd, $fd, $fe, $ff
>191bf8	fb fb fc fc fd fd fe ff
>191c00					.align 256
>191c00	1d c8 a7 ac 10 d6 52 7c		RANDOM_LUT_Tbl		    .text  $1d, $c8, $a7, $ac, $10, $d6, $52, $7c, $83, $dd, $ce, $39, $cd, $c5, $3b, $15
>191c08	83 dd ce 39 cd c5 3b 15
>191c10	22 55 3b 94 e0 33 1f 38						              .text  $22, $55, $3b, $94, $e0, $33, $1f, $38, $87, $12, $31, $65, $89, $27, $88, $42
>191c18	87 12 31 65 89 27 88 42
>191c20	b2 32 72 84 b2 b2 31 52						              .text  $b2, $32, $72, $84, $b2, $b2, $31, $52, $94, $ce, $56, $ec, $fe, $da, $58, $c9
>191c28	94 ce 56 ec fe da 58 c9
>191c30	c8 5b 53 2a 08 3b 19 c1						              .text  $c8, $5b, $53, $2a, $08, $3b, $19, $c1, $d0, $10, $2c, $b2, $4b, $ea, $32, $61
>191c38	d0 10 2c b2 4b ea 32 61
>191c40	da 34 33 8f 2b da 49 89						              .text  $da, $34, $33, $8f, $2b, $da, $49, $89, $a1, $e6, $ca, $2d, $b3, $ce, $b0, $79
>191c48	a1 e6 ca 2d b3 ce b0 79
>191c50	44 aa 32 82 91 e9 29 16						              .text  $44, $aa, $32, $82, $91, $e9, $29, $16, $5f, $e3, $fb, $bd, $15, $2e, $be, $f5
>191c58	5f e3 fb bd 15 2e be f5
>191c60	e9 4a e4 2e 60 24 94 35						              .text  $e9, $4a, $e4, $2e, $60, $24, $94, $35, $8d, $8f, $2c, $80, $0a, $5e, $99, $36
>191c68	8d 8f 2c 80 0a 5e 99 36
>191c70	ac ab 21 26 42 7c 5e bc						              .text  $ac, $ab, $21, $26, $42, $7c, $5e, $bc, $13, $52, $44, $2f, $e3, $ef, $44, $a2
>191c78	13 52 44 2f e3 ef 44 a2
>191c80	86 c1 9c 47 5f 36 6d 02						              .text  $86, $c1, $9c, $47, $5f, $36, $6d, $02, $be, $23, $02, $58, $0a, $52, $5e, $b4
>191c88	be 23 02 58 0a 52 5e b4
>191c90	9f 06 08 c9 97 cb 9e dd						              .text  $9f, $06, $08, $c9, $97, $cb, $9e, $dd, $d5, $cf, $3e, $df, $c4, $9e, $da, $bb
>191c98	d5 cf 3e df c4 9e da bb
>191ca0	9b 5d c9 f5 d9 c3 7e 87						              .text  $9b, $5d, $c9, $f5, $d9, $c3, $7e, $87, $77, $7d, $b1, $3b, $4a, $68, $35, $6e
>191ca8	77 7d b1 3b 4a 68 35 6e
>191cb0	ee 47 ad 8f fd 73 2e 46						              .text  $ee, $47, $ad, $8f, $fd, $73, $2e, $46, $b5, $8f, $44, $63, $55, $6f, $e1, $50
>191cb8	b5 8f 44 63 55 6f e1 50
>191cc0	f4 b6 a3 4f 68 c4 a5 a4						              .text  $f4, $b6, $a3, $4f, $68, $c4, $a5, $a4, $57, $74, $b9, $bd, $05, $14, $50, $eb
>191cc8	57 74 b9 bd 05 14 50 eb
>191cd0	a5 5c 57 2f 99 dc 2e 8a						              .text  $a5, $5c, $57, $2f, $99, $dc, $2e, $8a, $44, $bc, $ec, $db, $22, $58, $fc, $be
>191cd8	44 bc ec db 22 58 fc be
>191ce0	5f 3f 50 bd 2a 36 ab ae						              .text  $5f, $3f, $50, $bd, $2a, $36, $ab, $ae, $24, $aa, $82, $11, $5c, $9f, $43, $4d
>191ce8	24 aa 82 11 5c 9f 43 4d
>191cf0	8f 0c 20 00 91 b6 45 9e						              .text  $8f, $0c, $20, $00, $91, $b6, $45, $9e, $3e, $3d, $66, $7e, $0a, $1c, $6b, $74
>191cf8	3e 3d 66 7e 0a 1c 6b 74
>191d00					.align 16
>191d00	00 01 01 00 00 00 00 00		MOUSE_POINTER_PTR     .text $00,$01,$01,$00,$00,$00,$00,$00,$01,$01,$01,$00,$00,$00,$00,$00
>191d08	01 01 01 00 00 00 00 00
>191d10	01 ff ff 01 00 00 01 01		                      .text $01,$FF,$FF,$01,$00,$00,$01,$01,$FF,$FF,$FF,$01,$00,$00,$00,$00
>191d18	ff ff ff 01 00 00 00 00
>191d20	01 ff ff ff 01 01 55 ff		                      .text $01,$FF,$FF,$FF,$01,$01,$55,$FF,$01,$55,$FF,$FF,$01,$00,$00,$00
>191d28	01 55 ff ff 01 00 00 00
>191d30	01 55 ff ff ff ff 01 55		                      .text $01,$55,$FF,$FF,$FF,$FF,$01,$55,$FF,$FF,$FF,$FF,$01,$00,$00,$00
>191d38	ff ff ff ff 01 00 00 00
>191d40	00 01 55 ff ff ff ff ff		                      .text $00,$01,$55,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$01,$FF,$FF,$01,$00,$00
>191d48	ff ff 01 ff ff 01 00 00
>191d50	00 00 01 55 ff ff ff ff		                      .text $00,$00,$01,$55,$FF,$FF,$FF,$FF,$01,$FF,$FF,$01,$FF,$01,$00,$00
>191d58	01 ff ff 01 ff 01 00 00
>191d60	00 00 01 01 55 ff ff ff		                      .text $00,$00,$01,$01,$55,$FF,$FF,$FF,$FF,$01,$FF,$FF,$FF,$01,$00,$00
>191d68	ff 01 ff ff ff 01 00 00
>191d70	00 00 01 55 01 55 ff ff		                      .text $00,$00,$01,$55,$01,$55,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$01,$01,$00
>191d78	ff ff ff ff ff 01 01 00
>191d80	00 00 01 55 55 55 ff ff		                      .text $00,$00,$01,$55,$55,$55,$FF,$FF,$FF,$FF,$FF,$FF,$01,$FF,$FF,$01
>191d88	ff ff ff ff 01 ff ff 01
>191d90	00 00 00 01 55 55 55 ff		                      .text $00,$00,$00,$01,$55,$55,$55,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$01
>191d98	ff ff ff ff ff ff ff 01
>191da0	00 00 00 00 01 55 55 55		                      .text $00,$00,$00,$00,$01,$55,$55,$55,$55,$55,$01,$FF,$FF,$55,$01,$00
>191da8	55 55 01 ff ff 55 01 00
>191db0	00 00 00 00 00 01 01 01		                      .text $00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$55,$FF,$55,$01,$00,$00
>191db8	01 01 55 ff 55 01 00 00
>191dc0	00 00 00 00 00 00 00 00		                      .text $00,$00,$00,$00,$00,$00,$00,$00,$01,$55,$55,$55,$01,$00,$00,$00
>191dc8	01 55 55 55 01 00 00 00
>191dd0	00 00 00 00 00 00 00 00		                      .text $00,$00,$00,$00,$00,$00,$00,$00,$01,$55,$55,$01,$00,$00,$00,$00
>191dd8	01 55 55 01 00 00 00 00
>191de0	00 00 00 00 00 00 00 00		                      .text $00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$00,$00,$00,$00,$00
>191de8	00 01 01 00 00 00 00 00
>191df0	00 00 00 00 00 00 00 00		                      .text $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
>191df8	00 00 00 00 00 00 00 00
.1ff000					FONT_4_BANK0
>1ff000	00 00 00 00 00 00 00 00		.binary "FONT/Bm437 PhoenixEGA 8x8.bin", 0, 2048
>1ff008	7e 81 a5 81 bd 99 81 7e 3c 7e db ff c3 7e 3c 00
>1ff018	00 ee fe fe 7c 38 10 00 10 38 7c fe 7c 38 10 00
>1ff028	00 3c 18 ff ff 08 18 00 10 38 7c fe fe 10 38 00
>1ff038	00 00 18 3c 18 00 00 00 ff ff e7 c3 e7 ff ff ff
>1ff048	00 3c 42 81 81 42 3c 00 ff c3 bd 7e 7e bd c3 ff
>1ff058	01 03 07 0f 1f 3f 7f ff ff fe fc f8 f0 e0 c0 80
>1ff068	04 06 07 04 04 fc f8 00 0c 0a 0d 0b f9 f9 1f 1f
>1ff078	00 92 7c 44 c6 7c 92 00 00 00 60 78 7e 78 60 00
>1ff088	00 00 06 1e 7e 1e 06 00 18 7e 18 18 18 18 7e 18
>1ff098	66 66 66 66 66 00 66 00 ff b6 76 36 36 36 36 00
>1ff0a8	7e c1 dc 22 22 1f 83 7e 00 00 00 7e 7e 00 00 00
>1ff0b8	18 7e 18 18 7e 18 00 ff 18 7e 18 18 18 18 18 00
>1ff0c8	18 18 18 18 18 7e 18 00 00 04 06 ff 06 04 00 00
>1ff0d8	00 20 60 ff 60 20 00 00 00 00 00 c0 c0 c0 ff 00
>1ff0e8	00 24 66 ff 66 24 00 00 00 00 10 38 7c fe 00 00
>1ff0f8	00 00 00 fe 7c 38 10 00 00 00 00 00 00 00 00 00
>1ff108	30 30 30 30 30 00 30 00 66 66 00 00 00 00 00 00
>1ff118	6c 6c fe 6c fe 6c 6c 00 10 7c d2 7c 86 7c 10 00
>1ff128	f0 96 fc 18 3e 72 de 00 30 48 30 78 ce cc 78 00
>1ff138	0c 0c 18 00 00 00 00 00 10 60 c0 c0 c0 60 10 00
>1ff148	10 0c 06 06 06 0c 10 00 00 54 38 fe 38 54 00 00
>1ff158	00 18 18 7e 18 18 00 00 00 00 00 00 00 00 18 70
>1ff168	00 00 00 7e 00 00 00 00 00 00 00 00 00 00 18 00
>1ff178	02 06 0c 18 30 60 c0 00 7c ce de f6 e6 e6 7c 00
>1ff188	18 38 78 18 18 18 3c 00 7c c6 06 0c 30 60 fe 00
>1ff198	7c c6 06 3c 06 c6 7c 00 0e 1e 36 66 fe 06 06 00
>1ff1a8	fe c0 c0 fc 06 06 fc 00 7c c6 c0 fc c6 c6 7c 00
>1ff1b8	fe 06 0c 18 30 60 60 00 7c c6 c6 7c c6 c6 7c 00
>1ff1c8	7c c6 c6 7e 06 c6 7c 00 00 30 00 00 00 30 00 00
>1ff1d8	00 30 00 00 00 30 20 00 00 1c 30 60 30 1c 00 00
>1ff1e8	00 00 7e 00 7e 00 00 00 00 70 18 0c 18 70 00 00
>1ff1f8	7c c6 0c 18 30 00 30 00 7c 82 9a aa aa 9e 7c 00
>1ff208	7c c6 c6 fe c6 c6 c6 00 fc 66 66 7c 66 66 fc 00
>1ff218	7c c6 c0 c0 c0 c6 7c 00 fc 66 66 66 66 66 fc 00
>1ff228	fe 62 68 78 68 62 fe 00 fe 62 68 78 68 60 f0 00
>1ff238	7c c6 c6 c0 de c6 7c 00 c6 c6 c6 fe c6 c6 c6 00
>1ff248	3c 18 18 18 18 18 3c 00 1e 0c 0c 0c 0c cc 78 00
>1ff258	c6 cc d8 f0 d8 cc c6 00 f0 60 60 60 60 62 fe 00
>1ff268	c6 ee fe d6 c6 c6 c6 00 c6 e6 f6 de ce c6 c6 00
>1ff278	7c c6 c6 c6 c6 c6 7c 00 fc 66 66 7c 60 60 f0 00
>1ff288	7c c6 c6 c6 c6 c6 7c 0c fc 66 66 7c 66 66 e6 00
>1ff298	7c c6 c0 7c 06 c6 7c 00 7e 5a 18 18 18 18 3c 00
>1ff2a8	c6 c6 c6 c6 c6 c6 7c 00 c6 c6 c6 c6 c6 6c 38 00
>1ff2b8	c6 c6 c6 c6 d6 ee c6 00 c6 6c 38 38 38 6c c6 00
>1ff2c8	66 66 66 3c 18 18 3c 00 fe c6 0c 18 30 66 fe 00
>1ff2d8	1c 18 18 18 18 18 1c 00 c0 60 30 18 0c 06 02 00
>1ff2e8	70 30 30 30 30 30 70 00 00 00 10 38 6c c6 00 00
>1ff2f8	00 00 00 00 00 00 00 ff 30 30 18 00 00 00 00 00
>1ff308	00 00 7c 06 7e c6 7e 00 c0 c0 fc c6 c6 c6 fc 00
>1ff318	00 00 7c c6 c0 c6 7c 00 06 06 7e c6 c6 c6 7e 00
>1ff328	00 00 7c c6 fe c0 7c 00 3c 66 60 f0 60 60 60 00
>1ff338	00 00 7e c6 c6 7e 06 7c c0 c0 fc c6 c6 c6 c6 00
>1ff348	18 00 38 18 18 18 3c 00 00 0c 00 1c 0c 0c cc 78
>1ff358	c0 c0 c6 d8 f0 d8 c6 00 38 18 18 18 18 18 3c 00
>1ff368	00 00 ee fe d6 c6 c6 00 00 00 fc c6 c6 c6 c6 00
>1ff378	00 00 7c c6 c6 c6 7c 00 00 00 fc c6 c6 fc c0 c0
>1ff388	00 00 7e c6 c6 7e 06 06 00 00 de 76 60 60 60 00
>1ff398	00 00 7c c0 7c 06 7c 00 18 18 7e 18 18 18 1e 00
>1ff3a8	00 00 c6 c6 c6 c6 7e 00 00 00 c6 c6 c6 6c 38 00
>1ff3b8	00 00 c6 c6 d6 fe c6 00 00 00 c6 6c 38 6c c6 00
>1ff3c8	00 00 c6 c6 c6 7e 06 7c 00 00 fe 0c 18 60 fe 00
>1ff3d8	0e 18 18 70 18 18 0e 00 18 18 18 00 18 18 18 00
>1ff3e8	e0 30 30 1c 30 30 e0 00 00 00 70 9a 0e 00 00 00
>1ff3f8	00 00 18 3c 66 ff 00 00 7c c6 c0 c0 c6 7c 18 70
>1ff408	66 00 c6 c6 c6 c6 7e 00 0e 18 7c c6 fe c0 7c 00
>1ff418	18 24 7c 06 7e c6 7e 00 66 00 7c 06 7e c6 7e 00
>1ff428	38 0c 7c 06 7e c6 7e 00 18 00 7c 06 7e c6 7e 00
>1ff438	00 00 7c c0 c0 7c 18 70 18 24 7c c6 fe c0 7c 00
>1ff448	66 00 7c c6 fe c0 7c 00 70 18 7c c6 fe c0 7c 00
>1ff458	66 00 38 18 18 18 3c 00 18 24 38 18 18 18 3c 00
>1ff468	38 0c 38 18 18 18 3c 00 66 00 7c c6 fe c6 c6 00
>1ff478	18 00 7c c6 fe c6 c6 00 0e 18 fe 60 78 60 fe 00
>1ff488	00 00 7c 1a 7e d8 7e 00 7e d8 d8 de f8 d8 de 00
>1ff498	18 24 7c c6 c6 c6 7c 00 66 00 7c c6 c6 c6 7c 00
>1ff4a8	38 0c 7c c6 c6 c6 7c 00 18 24 c6 c6 c6 c6 7e 00
>1ff4b8	38 0c c6 c6 c6 c6 7e 00 66 00 c6 c6 c6 7e 06 7c
>1ff4c8	66 7c c6 c6 c6 c6 7c 00 c6 00 c6 c6 c6 c6 7c 00
>1ff4d8	18 7c c6 c0 c6 7c 18 00 1e 32 30 78 30 70 fe 00
>1ff4e8	66 3c 18 7e 18 3c 18 00 fc c6 fc c0 cc de cc 0e
>1ff4f8	00 1c 32 30 fc 30 f0 00 0e 18 7c 06 7e c6 7e 00
>1ff508	1a 30 38 18 18 18 3c 00 0e 18 7c c6 c6 c6 7c 00
>1ff518	0e 18 c6 c6 c6 c6 7e 00 66 98 fc c6 c6 c6 c6 00
>1ff528	66 98 e6 f6 de ce c6 00 7c 06 7e c6 7e 00 fe 00
>1ff538	7c c6 c6 c6 7c 00 fe 00 18 00 18 30 60 c6 7c 00
>1ff548	00 00 fe c0 c0 c0 c0 00 00 00 fe 06 06 06 06 00
>1ff558	c0 c0 c0 de 06 0c 1e 00 c0 c0 c0 cc 1c 3e 0c 00
>1ff568	30 00 30 30 30 30 30 00 00 36 6c d8 6c 36 00 00
>1ff578	00 d8 6c 36 6c d8 00 00 aa aa aa aa aa aa aa aa
>1ff588	aa 55 aa 55 aa 55 aa 55 44 22 44 22 44 22 44 22
>1ff598	18 18 18 18 18 18 18 18 18 18 18 f8 18 18 18 18
>1ff5a8	18 18 18 f8 18 f8 18 18 36 36 36 f6 36 36 36 36
>1ff5b8	00 00 00 fe 36 36 36 36 00 00 00 f8 18 f8 18 18
>1ff5c8	36 36 36 f6 06 f6 36 36 36 36 36 36 36 36 36 36
>1ff5d8	00 00 00 fe 06 f6 36 36 36 36 36 f6 06 fe 00 00
>1ff5e8	36 36 36 fe 00 00 00 00 18 18 18 f8 18 f8 00 00
>1ff5f8	00 00 00 f8 18 18 18 18 18 18 18 1f 00 00 00 00
>1ff608	18 18 18 ff 00 00 00 00 00 00 00 ff 18 18 18 18
>1ff618	18 18 18 1f 18 18 18 18 00 00 00 ff 00 00 00 00
>1ff628	18 18 18 ff 18 18 18 18 18 18 18 1f 18 1f 18 18
>1ff638	36 36 36 37 36 36 36 36 36 36 36 37 30 3f 00 00
>1ff648	00 00 00 3f 30 37 36 36 36 36 36 f7 00 ff 00 00
>1ff658	00 00 00 ff 00 f7 36 36 36 36 36 37 30 37 36 36
>1ff668	00 00 00 ff 00 ff 00 00 36 36 36 f7 00 f7 36 36
>1ff678	18 18 18 ff 00 ff 00 00 36 36 36 ff 00 00 00 00
>1ff688	00 00 00 ff 00 ff 18 18 00 00 00 ff 36 36 36 36
>1ff698	36 36 36 3f 00 00 00 00 18 18 18 1f 18 1f 00 00
>1ff6a8	00 00 00 1f 18 1f 18 18 00 00 00 3f 36 36 36 36
>1ff6b8	36 36 36 ff 36 36 36 36 18 18 18 ff 18 ff 18 18
>1ff6c8	18 18 18 f8 00 00 00 00 00 00 00 1f 18 18 18 18
>1ff6d8	ff ff ff ff ff ff ff ff 00 00 00 00 ff ff ff ff
>1ff6e8	f0 f0 f0 f0 f0 f0 f0 f0 0f 0f 0f 0f 0f 0f 0f 0f
>1ff6f8	ff ff ff ff 00 00 00 00 00 00 77 98 98 77 00 00
>1ff708	1c 36 66 fc c6 c6 fc c0 fe 62 60 60 60 60 60 00
>1ff718	00 00 ff 66 66 66 66 00 fe 62 30 18 30 62 fe 00
>1ff728	00 00 3f 66 c6 cc 78 00 00 00 33 33 33 3e 30 f0
>1ff738	00 00 ff 18 18 18 18 00 3c 18 3c 66 66 3c 18 3c
>1ff748	00 7c c6 fe c6 7c 00 00 00 7e c3 c3 c3 66 e7 00
>1ff758	1e 19 3c 66 c6 cc 78 00 00 00 66 99 99 66 00 00
>1ff768	00 03 7c ce e6 7c c0 00 00 3e c0 fe c0 3e 00 00
>1ff778	00 7e c3 c3 c3 c3 00 00 00 fe 00 fe 00 fe 00 00
>1ff788	18 18 7e 18 18 7e 00 00 70 18 0c 18 70 00 fe 00
>1ff798	1c 30 60 30 1c 00 fe 00 00 0e 1b 18 18 18 18 18
>1ff7a8	18 18 18 18 18 d8 70 00 00 18 00 7e 00 18 00 00
>1ff7b8	00 76 dc 00 76 dc 00 00 3c 66 3c 00 00 00 00 00
>1ff7c8	00 18 3c 18 00 00 00 00 00 00 00 00 18 00 00 00
>1ff7d8	0f 0c 0c 0c ec 6c 38 00 d8 ec cc cc 00 00 00 00
>1ff7e8	f0 30 c0 f0 00 00 00 00 00 00 00 3c 3c 3c 3c 00
>1ff7f8	00 00 00 00 00 00 00 00
.1ff800					FONT_4_BANK1
>1ff800	00 00 00 00 00 00 00 00		.binary "FONT/CBM-ASCII_8x8.bin", 0, 2048
>1ff808	7c 82 aa 82 ba 92 82 7c 7c fe d6 fe c6 ee fe 7c
>1ff818	ff fd fb f5 eb d5 ab ff ff e1 fd 85 85 87 87 ff
>1ff828	ff bd db e7 e7 db bd ff ff 81 81 bd bd bd 81 ff
>1ff838	ff ff ff ff ff 81 81 ff 00 08 10 20 10 08 00 00
>1ff848	00 24 14 0c 14 24 00 00 00 8e 88 8c 88 e8 00 00
>1ff858	00 00 00 00 00 00 00 00 00 ee 88 cc 88 88 00 00
>1ff868	00 00 04 14 3c 10 00 00 00 30 4c 4c 30 00 00 00
>1ff878	00 38 28 38 28 00 00 00 ff 81 bd bd bd bd 81 ff
>1ff888	ff 55 aa 55 aa 55 aa ff ab d5 ab d5 ab d5 ab d5
>1ff898	ff 81 81 81 81 81 81 ff ff f9 e1 81 81 e1 f9 ff
>1ff8a8	ff 9f 87 81 81 87 9f ff ff e7 e7 c3 c3 81 81 ff
>1ff8b8	ff 81 81 c3 c3 e7 e7 ff 00 26 54 04 04 04 06 00
>1ff8c8	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;	...repeated 3 times (48 bytes)...
>1ff908	10 10 10 10 00 10 00 00 24 24 24 00 00 00 00 00
>1ff918	24 7e 24 24 7e 24 00 00 10 3c 50 38 14 78 10 00
>1ff928	62 64 08 10 20 4c 8c 00 30 48 48 30 58 4c 4c 38
>1ff938	10 10 10 00 00 00 00 00 08 10 20 20 20 20 10 08
>1ff948	10 08 04 04 04 04 08 10 00 24 18 7e 18 24 00 00
>1ff958	00 10 10 7c 10 10 00 00 00 00 00 00 10 10 20 00
>1ff968	00 00 00 3c 00 00 00 00 00 00 00 00 18 18 00 00
>1ff978	04 04 08 08 10 10 20 20 3c 46 4a 52 62 42 3c 00
>1ff988	10 30 10 10 10 10 38 00 38 44 04 18 20 40 7c 00
>1ff998	38 44 04 18 04 44 38 00 08 18 28 48 7c 08 08 00
>1ff9a8	7c 40 78 04 04 44 38 00 38 44 40 78 44 44 38 00
>1ff9b8	7c 44 04 08 08 10 10 00 38 44 44 38 44 44 38 00
>1ff9c8	38 44 44 3c 04 44 38 00 00 00 18 00 00 18 00 00
>1ff9d8	00 00 18 00 00 18 18 30 00 08 10 20 10 08 00 00
>1ff9e8	00 00 3c 00 3c 00 00 00 00 10 08 04 08 10 00 00
>1ff9f8	38 44 04 08 10 00 10 00 38 44 4c 4c 40 44 38 00
>1ffa08	10 28 44 7c 44 44 00 00 78 44 78 44 44 78 00 00
>1ffa18	38 44 40 40 44 38 00 00 78 44 44 44 44 78 00 00
>1ffa28	7c 40 78 40 40 7c 00 00 7c 40 78 40 40 40 00 00
>1ffa38	38 44 40 4c 44 38 00 00 44 44 7c 44 44 44 00 00
>1ffa48	38 10 10 10 10 38 00 00 1c 08 08 08 48 30 00 00
>1ffa58	24 28 30 30 28 24 00 00 20 20 20 20 20 3c 00 00
>1ffa68	44 6c 7c 54 44 44 00 00 44 64 54 4c 44 44 00 00
>1ffa78	38 44 44 44 44 38 00 00 78 44 44 78 40 40 00 00
>1ffa88	38 44 44 44 44 38 0c 00 78 44 44 78 48 44 00 00
>1ffa98	3c 40 38 04 04 78 00 00 7c 10 10 10 10 10 00 00
>1ffaa8	44 44 44 44 44 38 00 00 44 44 44 44 28 10 00 00
>1ffab8	82 82 82 92 92 6c 00 00 42 24 18 18 24 42 00 00
>1ffac8	44 44 28 10 10 10 00 00 7c 08 10 20 40 7c 00 00
>1ffad8	38 20 20 20 20 20 38 00 20 20 10 10 08 08 04 04
>1ffae8	38 08 08 08 08 08 38 00 00 10 28 44 00 00 00 00
>1ffaf8	00 00 00 00 00 00 00 7e 40 20 10 00 00 00 00 00
>1ffb08	00 38 04 3c 64 3c 00 00 40 40 78 44 44 78 00 00
>1ffb18	00 00 38 40 40 38 00 00 04 04 3c 44 44 3c 00 00
>1ffb28	00 38 44 7c 40 3c 00 00 0c 10 3c 10 10 10 00 00
>1ffb38	00 00 3c 44 44 3c 04 78 40 40 78 44 44 44 00 00
>1ffb48	10 00 30 10 10 38 00 00 08 00 08 08 08 08 08 30
>1ffb58	20 20 24 38 28 24 00 00 30 10 10 10 10 10 00 00
>1ffb68	00 00 68 54 54 44 00 00 00 00 38 24 24 24 00 00
>1ffb78	00 00 38 44 44 38 00 00 00 00 78 44 44 78 40 40
>1ffb88	00 00 3c 44 44 3c 04 04 00 00 78 44 40 40 00 00
>1ffb98	00 00 1c 30 0c 38 00 00 00 10 7c 10 10 10 0c 00
>1ffba8	00 00 44 44 44 3c 00 00 00 00 42 42 24 18 00 00
>1ffbb8	00 00 82 82 92 6c 00 00 00 00 24 18 18 24 00 00
>1ffbc8	00 00 24 24 24 1c 04 38 00 00 7c 18 30 7c 00 00
>1ffbd8	0c 10 10 30 30 10 10 0c 18 18 18 00 18 18 18 00
>1ffbe8	30 08 08 0c 0c 08 08 30 00 00 32 7e 4c 00 00 00
>1ffbf8	00 00 10 28 38 00 00 00 00 00 3c 3c 3c 3c 00 00
>1ffc08	00 00 3c 24 24 3c 00 00 00 00 18 3c 3c 18 00 00
>1ffc18	00 00 18 24 24 18 00 00 18 24 24 18 00 00 00 00
>1ffc28	00 3c 42 42 66 24 66 00 00 18 00 18 0c 06 66 3c
>1ffc38	0c 12 30 7c 30 62 fc 00 1c 20 70 20 70 20 1c 00
>1ffc48	02 06 0c d8 f0 e0 c0 00 18 18 ff 00 00 ff 00 00
>1ffc58	00 00 ff 00 00 ff 18 18 24 24 24 e7 e7 24 24 24
>1ffc68	18 18 ff 00 00 ff 18 18 24 24 24 27 27 24 24 24
>1ffc78	24 24 24 e4 e4 24 24 24 00 00 00 ff ff ff ff ff
>1ffc88	00 00 ff ff ff ff ff ff 00 ff ff ff ff ff ff ff
>1ffc98	ff ff ff ff ff ff ff 00 ff ff ff ff ff ff 00 00
>1ffca8	ff ff ff ff ff 00 00 00 ff ff ff ff 00 00 00 00
>1ffcb8	f8 f8 f8 f8 f8 f8 f8 f8 fc fc fc fc fc fc fc fc
>1ffcc8	fe fe fe fe fe fe fe fe 7f 7f 7f 7f 7f 7f 7f 7f
>1ffcd8	3f 3f 3f 3f 3f 3f 3f 3f 1f 1f 1f 1f 1f 1f 1f 1f
>1ffce8	0f 0f 0f 0f 0f 0f 0f 0f 00 00 00 00 00 00 00 00
>1ffcf8	00 00 00 00 00 00 00 00 ff ff ff ff ff ff ff ff
>1ffd08	f0 f0 f0 f0 f0 f0 f0 f0 00 00 00 00 ff ff ff ff
>1ffd18	ff 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ff
>1ffd28	80 80 80 80 80 80 80 80 aa 55 aa 55 aa 55 aa 55
>1ffd38	01 01 01 01 01 01 01 01 00 00 00 00 aa 55 aa 55
>1ffd48	ff fe fc f8 f0 e0 c0 80 03 03 03 03 03 03 03 03
>1ffd58	18 18 18 1f 1f 18 18 18 00 00 00 00 0f 0f 0f 0f
>1ffd68	18 18 18 1f 1f 00 00 00 00 00 00 f8 f8 18 18 18
>1ffd78	00 00 00 00 00 00 ff ff 00 00 00 1f 1f 18 18 18
>1ffd88	18 18 18 ff ff 00 00 00 00 00 00 ff ff 18 18 18
>1ffd98	18 18 18 f8 f8 18 18 18 c0 c0 c0 c0 c0 c0 c0 c0
>1ffda8	e0 e0 e0 e0 e0 e0 e0 e0 07 07 07 07 07 07 07 07
>1ffdb8	ff ff 00 00 00 00 00 00 ff ff ff 00 00 00 00 00
>1ffdc8	00 00 00 00 00 ff ff ff 03 03 03 03 03 03 ff ff
>1ffdd8	00 00 00 00 f0 f0 f0 f0 0f 0f 0f 0f 00 00 00 00
>1ffde8	18 18 18 f8 f8 00 00 00 f0 f0 f0 f0 00 00 00 00
>1ffdf8	f0 f0 f0 f0 0f 0f 0f 0f 00 00 00 ff ff 00 00 00
>1ffe08	08 1c 3e 7f 7f 1c 3e 00 18 18 18 18 18 18 18 18
>1ffe18	00 00 00 ff ff 00 00 00 00 00 ff ff 00 00 00 00
>1ffe28	00 ff ff 00 00 00 00 00 00 00 00 00 ff ff 00 00
>1ffe38	30 30 30 30 30 30 30 30 0c 0c 0c 0c 0c 0c 0c 0c
>1ffe48	00 00 00 e0 f0 38 18 18 18 18 1c 0f 07 00 00 00
>1ffe58	18 18 38 f0 e0 00 00 00 c0 c0 c0 c0 c0 c0 ff ff
>1ffe68	c0 e0 70 38 1c 0e 07 03 03 07 0e 1c 38 70 e0 c0
>1ffe78	ff ff c0 c0 c0 c0 c0 c0 ff ff 03 03 03 03 03 03
>1ffe88	00 3c 7e 7e 7e 7e 3c 00 00 00 00 00 00 ff ff 00
>1ffe98	36 7f 7f 7f 3e 1c 08 00 60 60 60 60 60 60 60 60
>1ffea8	00 00 00 07 0f 1c 18 18 c3 e7 7e 3c 3c 7e e7 c3
>1ffeb8	00 3c 7e 66 66 7e 3c 00 18 18 66 66 18 18 3c 00
>1ffec8	06 06 06 06 06 06 06 06 08 1c 3e 7f 3e 1c 08 00
>1ffed8	18 18 18 ff ff 18 18 18 c0 c0 30 30 c0 c0 30 30
>1ffee8	18 18 18 18 18 18 18 18 00 00 03 3e 76 36 36 00
>1ffef8	ff 7f 3f 1f 0f 07 03 01 24 24 24 24 24 24 24 24
>1fff08	00 00 ff 00 00 ff 00 00 00 00 3f 20 20 27 24 24
>1fff18	00 00 ff 00 00 e7 24 24 00 00 fc 04 04 e4 24 24
>1fff28	24 24 27 20 20 3f 00 00 24 24 e7 00 00 ff 00 00
>1fff38	24 24 e4 04 04 fc 00 00 24 24 27 20 20 27 24 24
>1fff48	24 24 e4 04 04 e4 24 24 24 24 e7 00 00 e7 24 24
>1fff58	0f 0f 0f 0f f0 f0 f0 f0 01 03 07 0f 1f 3f 7f ff
>1fff68	80 c0 e0 f0 f8 fc fe ff 33 99 cc 66 33 99 cc 66
>1fff78	cc 99 33 66 cc 99 33 66 f0 f0 f0 f0 ff ff ff ff
>1fff88	0f 0f 0f 0f ff ff ff ff ff ff ff ff f0 f0 f0 f0
>1fff98	ff ff ff ff 0f 0f 0f 0f 05 0a 05 0a 00 00 00 00
>1fffa8	00 00 00 00 0a 05 0a 05 a0 50 a0 50 00 00 00 00
>1fffb8	00 00 00 00 a0 50 a0 50 0a 05 0a 05 0a 05 0a 05
>1fffc8	aa 55 aa 55 00 00 00 00 00 18 3c 7e 18 18 18 18
>1fffd8	00 10 30 7f 7f 30 10 00 00 08 0c fe fe 0c 08 00
>1fffe8	18 18 18 18 7e 3c 18 00 00 00 36 49 36 00 00 00
>1ffff8	00 00 00 00 00 00 00 00

;******  End of listing
